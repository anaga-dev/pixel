var $r=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)};var re=(t,e,n)=>($r(t,e,"read from private field"),n?n.call(t):e.get(t)),cs=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},us=(t,e,n,s)=>($r(t,e,"write to private field"),s?s.call(t,n):e.set(t,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerpolicy&&(r.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?r.credentials="include":i.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(i){if(i.ep)return;i.ep=!0;const r=n(i);fetch(i.href,r)}})();function zi(t,e){const n=Object.create(null),s=t.split(",");for(let i=0;i<s.length;i++)n[s[i]]=!0;return e?i=>!!n[i.toLowerCase()]:i=>!!n[i]}const bl="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",wl=zi(bl);function Ro(t){return!!t||t===""}function pe(t){if(gt(t)){const e={};for(let n=0;n<t.length;n++){const s=t[n],i=Yt(s)?Cl(s):pe(s);if(i)for(const r in i)e[r]=i[r]}return e}else{if(Yt(t))return t;if(Lt(t))return t}}const xl=/;(?![^(]*\))/g,kl=/:(.+)/;function Cl(t){const e={};return t.split(xl).forEach(n=>{if(n){const s=n.split(kl);s.length>1&&(e[s[0].trim()]=s[1].trim())}}),e}function Ct(t){let e="";if(Yt(t))e=t;else if(gt(t))for(let n=0;n<t.length;n++){const s=Ct(t[n]);s&&(e+=s+" ")}else if(Lt(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}function Sl(t,e){if(t.length!==e.length)return!1;let n=!0;for(let s=0;n&&s<t.length;s++)n=Jn(t[s],e[s]);return n}function Jn(t,e){if(t===e)return!0;let n=Ar(t),s=Ar(e);if(n||s)return n&&s?t.getTime()===e.getTime():!1;if(n=jn(t),s=jn(e),n||s)return t===e;if(n=gt(t),s=gt(e),n||s)return n&&s?Sl(t,e):!1;if(n=Lt(t),s=Lt(e),n||s){if(!n||!s)return!1;const i=Object.keys(t).length,r=Object.keys(e).length;if(i!==r)return!1;for(const o in t){const a=t.hasOwnProperty(o),l=e.hasOwnProperty(o);if(a&&!l||!a&&l||!Jn(t[o],e[o]))return!1}}return String(t)===String(e)}function Fi(t,e){return t.findIndex(n=>Jn(n,e))}const Wt=t=>Yt(t)?t:t==null?"":gt(t)||Lt(t)&&(t.toString===Lo||!xt(t.toString))?JSON.stringify(t,Oo,2):String(t),Oo=(t,e)=>e&&e.__v_isRef?Oo(t,e.value):vn(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[s,i])=>(n[`${s} =>`]=i,n),{})}:An(e)?{[`Set(${e.size})`]:[...e.values()]}:Lt(e)&&!gt(e)&&!zo(e)?String(e):e,Ot={},gn=[],be=()=>{},El=()=>!1,$l=/^on[^a-z]/,Ns=t=>$l.test(t),Mi=t=>t.startsWith("onUpdate:"),ne=Object.assign,Di=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},Al=Object.prototype.hasOwnProperty,Et=(t,e)=>Al.call(t,e),gt=Array.isArray,vn=t=>Qn(t)==="[object Map]",An=t=>Qn(t)==="[object Set]",Ar=t=>Qn(t)==="[object Date]",xt=t=>typeof t=="function",Yt=t=>typeof t=="string",jn=t=>typeof t=="symbol",Lt=t=>t!==null&&typeof t=="object",Po=t=>Lt(t)&&xt(t.then)&&xt(t.catch),Lo=Object.prototype.toString,Qn=t=>Lo.call(t),Il=t=>Qn(t).slice(8,-1),zo=t=>Qn(t)==="[object Object]",Ni=t=>Yt(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,ws=zi(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Bs=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},Tl=/-(\w)/g,Ie=Bs(t=>t.replace(Tl,(e,n)=>n?n.toUpperCase():"")),Rl=/\B([A-Z])/g,In=Bs(t=>t.replace(Rl,"-$1").toLowerCase()),Us=Bs(t=>t.charAt(0).toUpperCase()+t.slice(1)),ri=Bs(t=>t?`on${Us(t)}`:""),Hn=(t,e)=>!Object.is(t,e),xs=(t,e)=>{for(let n=0;n<t.length;n++)t[n](e)},$s=(t,e,n)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:n})},As=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let Ir;const Ol=()=>Ir||(Ir=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});let Ee;class Fo{constructor(e=!1){this.active=!0,this.effects=[],this.cleanups=[],!e&&Ee&&(this.parent=Ee,this.index=(Ee.scopes||(Ee.scopes=[])).push(this)-1)}run(e){if(this.active){const n=Ee;try{return Ee=this,e()}finally{Ee=n}}}on(){Ee=this}off(){Ee=this.parent}stop(e){if(this.active){let n,s;for(n=0,s=this.effects.length;n<s;n++)this.effects[n].stop();for(n=0,s=this.cleanups.length;n<s;n++)this.cleanups[n]();if(this.scopes)for(n=0,s=this.scopes.length;n<s;n++)this.scopes[n].stop(!0);if(this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.active=!1}}}function Mo(t){return new Fo(t)}function Pl(t,e=Ee){e&&e.active&&e.effects.push(t)}const Bi=t=>{const e=new Set(t);return e.w=0,e.n=0,e},Do=t=>(t.w&Ze)>0,No=t=>(t.n&Ze)>0,Ll=({deps:t})=>{if(t.length)for(let e=0;e<t.length;e++)t[e].w|=Ze},zl=t=>{const{deps:e}=t;if(e.length){let n=0;for(let s=0;s<e.length;s++){const i=e[s];Do(i)&&!No(i)?i.delete(t):e[n++]=i,i.w&=~Ze,i.n&=~Ze}e.length=n}},pi=new WeakMap;let Ln=0,Ze=1;const mi=30;let ge;const ln=Symbol(""),_i=Symbol("");class Ui{constructor(e,n=null,s){this.fn=e,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,Pl(this,s)}run(){if(!this.active)return this.fn();let e=ge,n=We;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=ge,ge=this,We=!0,Ze=1<<++Ln,Ln<=mi?Ll(this):Tr(this),this.fn()}finally{Ln<=mi&&zl(this),Ze=1<<--Ln,ge=this.parent,We=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){ge===this?this.deferStop=!0:this.active&&(Tr(this),this.onStop&&this.onStop(),this.active=!1)}}function Tr(t){const{deps:e}=t;if(e.length){for(let n=0;n<e.length;n++)e[n].delete(t);e.length=0}}let We=!0;const Bo=[];function Tn(){Bo.push(We),We=!1}function Rn(){const t=Bo.pop();We=t===void 0?!0:t}function ue(t,e,n){if(We&&ge){let s=pi.get(t);s||pi.set(t,s=new Map);let i=s.get(n);i||s.set(n,i=Bi()),Uo(i)}}function Uo(t,e){let n=!1;Ln<=mi?No(t)||(t.n|=Ze,n=!Do(t)):n=!t.has(ge),n&&(t.add(ge),ge.deps.push(t))}function ze(t,e,n,s,i,r){const o=pi.get(t);if(!o)return;let a=[];if(e==="clear")a=[...o.values()];else if(n==="length"&&gt(t))o.forEach((l,f)=>{(f==="length"||f>=s)&&a.push(l)});else switch(n!==void 0&&a.push(o.get(n)),e){case"add":gt(t)?Ni(n)&&a.push(o.get("length")):(a.push(o.get(ln)),vn(t)&&a.push(o.get(_i)));break;case"delete":gt(t)||(a.push(o.get(ln)),vn(t)&&a.push(o.get(_i)));break;case"set":vn(t)&&a.push(o.get(ln));break}if(a.length===1)a[0]&&gi(a[0]);else{const l=[];for(const f of a)f&&l.push(...f);gi(Bi(l))}}function gi(t,e){const n=gt(t)?t:[...t];for(const s of n)s.computed&&Rr(s);for(const s of n)s.computed||Rr(s)}function Rr(t,e){(t!==ge||t.allowRecurse)&&(t.scheduler?t.scheduler():t.run())}const Fl=zi("__proto__,__v_isRef,__isVue"),jo=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(jn)),Ml=ji(),Dl=ji(!1,!0),Nl=ji(!0),Or=Bl();function Bl(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...n){const s=At(this);for(let r=0,o=this.length;r<o;r++)ue(s,"get",r+"");const i=s[e](...n);return i===-1||i===!1?s[e](...n.map(At)):i}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...n){Tn();const s=At(this)[e].apply(this,n);return Rn(),s}}),t}function ji(t=!1,e=!1){return function(s,i,r){if(i==="__v_isReactive")return!t;if(i==="__v_isReadonly")return t;if(i==="__v_isShallow")return e;if(i==="__v_raw"&&r===(t?e?nc:Ko:e?qo:Wo).get(s))return s;const o=gt(s);if(!t&&o&&Et(Or,i))return Reflect.get(Or,i,r);const a=Reflect.get(s,i,r);return(jn(i)?jo.has(i):Fl(i))||(t||ue(s,"get",i),e)?a:Ft(a)?o&&Ni(i)?a:a.value:Lt(a)?t?Hs(a):Ut(a):a}}const Ul=Ho(),jl=Ho(!0);function Ho(t=!1){return function(n,s,i,r){let o=n[s];if(wn(o)&&Ft(o)&&!Ft(i))return!1;if(!t&&(!Is(i)&&!wn(i)&&(o=At(o),i=At(i)),!gt(n)&&Ft(o)&&!Ft(i)))return o.value=i,!0;const a=gt(n)&&Ni(s)?Number(s)<n.length:Et(n,s),l=Reflect.set(n,s,i,r);return n===At(r)&&(a?Hn(i,o)&&ze(n,"set",s,i):ze(n,"add",s,i)),l}}function Hl(t,e){const n=Et(t,e);t[e];const s=Reflect.deleteProperty(t,e);return s&&n&&ze(t,"delete",e,void 0),s}function Vl(t,e){const n=Reflect.has(t,e);return(!jn(e)||!jo.has(e))&&ue(t,"has",e),n}function Wl(t){return ue(t,"iterate",gt(t)?"length":ln),Reflect.ownKeys(t)}const Vo={get:Ml,set:Ul,deleteProperty:Hl,has:Vl,ownKeys:Wl},ql={get:Nl,set(t,e){return!0},deleteProperty(t,e){return!0}},Kl=ne({},Vo,{get:Dl,set:jl}),Hi=t=>t,js=t=>Reflect.getPrototypeOf(t);function fs(t,e,n=!1,s=!1){t=t.__v_raw;const i=At(t),r=At(e);n||(e!==r&&ue(i,"get",e),ue(i,"get",r));const{has:o}=js(i),a=s?Hi:n?qi:Vn;if(o.call(i,e))return a(t.get(e));if(o.call(i,r))return a(t.get(r));t!==i&&t.get(e)}function ds(t,e=!1){const n=this.__v_raw,s=At(n),i=At(t);return e||(t!==i&&ue(s,"has",t),ue(s,"has",i)),t===i?n.has(t):n.has(t)||n.has(i)}function hs(t,e=!1){return t=t.__v_raw,!e&&ue(At(t),"iterate",ln),Reflect.get(t,"size",t)}function Pr(t){t=At(t);const e=At(this);return js(e).has.call(e,t)||(e.add(t),ze(e,"add",t,t)),this}function Lr(t,e){e=At(e);const n=At(this),{has:s,get:i}=js(n);let r=s.call(n,t);r||(t=At(t),r=s.call(n,t));const o=i.call(n,t);return n.set(t,e),r?Hn(e,o)&&ze(n,"set",t,e):ze(n,"add",t,e),this}function zr(t){const e=At(this),{has:n,get:s}=js(e);let i=n.call(e,t);i||(t=At(t),i=n.call(e,t)),s&&s.call(e,t);const r=e.delete(t);return i&&ze(e,"delete",t,void 0),r}function Fr(){const t=At(this),e=t.size!==0,n=t.clear();return e&&ze(t,"clear",void 0,void 0),n}function ps(t,e){return function(s,i){const r=this,o=r.__v_raw,a=At(o),l=e?Hi:t?qi:Vn;return!t&&ue(a,"iterate",ln),o.forEach((f,u)=>s.call(i,l(f),l(u),r))}}function ms(t,e,n){return function(...s){const i=this.__v_raw,r=At(i),o=vn(r),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,f=i[t](...s),u=n?Hi:e?qi:Vn;return!e&&ue(r,"iterate",l?_i:ln),{next(){const{value:d,done:p}=f.next();return p?{value:d,done:p}:{value:a?[u(d[0]),u(d[1])]:u(d),done:p}},[Symbol.iterator](){return this}}}}function De(t){return function(...e){return t==="delete"?!1:this}}function Zl(){const t={get(r){return fs(this,r)},get size(){return hs(this)},has:ds,add:Pr,set:Lr,delete:zr,clear:Fr,forEach:ps(!1,!1)},e={get(r){return fs(this,r,!1,!0)},get size(){return hs(this)},has:ds,add:Pr,set:Lr,delete:zr,clear:Fr,forEach:ps(!1,!0)},n={get(r){return fs(this,r,!0)},get size(){return hs(this,!0)},has(r){return ds.call(this,r,!0)},add:De("add"),set:De("set"),delete:De("delete"),clear:De("clear"),forEach:ps(!0,!1)},s={get(r){return fs(this,r,!0,!0)},get size(){return hs(this,!0)},has(r){return ds.call(this,r,!0)},add:De("add"),set:De("set"),delete:De("delete"),clear:De("clear"),forEach:ps(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(r=>{t[r]=ms(r,!1,!1),n[r]=ms(r,!0,!1),e[r]=ms(r,!1,!0),s[r]=ms(r,!0,!0)}),[t,n,e,s]}const[Gl,Yl,Xl,Jl]=Zl();function Vi(t,e){const n=e?t?Jl:Xl:t?Yl:Gl;return(s,i,r)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?s:Reflect.get(Et(n,i)&&i in s?n:s,i,r)}const Ql={get:Vi(!1,!1)},tc={get:Vi(!1,!0)},ec={get:Vi(!0,!1)},Wo=new WeakMap,qo=new WeakMap,Ko=new WeakMap,nc=new WeakMap;function sc(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function ic(t){return t.__v_skip||!Object.isExtensible(t)?0:sc(Il(t))}function Ut(t){return wn(t)?t:Wi(t,!1,Vo,Ql,Wo)}function le(t){return Wi(t,!1,Kl,tc,qo)}function Hs(t){return Wi(t,!0,ql,ec,Ko)}function Wi(t,e,n,s,i){if(!Lt(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const r=i.get(t);if(r)return r;const o=ic(t);if(o===0)return t;const a=new Proxy(t,o===2?s:n);return i.set(t,a),a}function qe(t){return wn(t)?qe(t.__v_raw):!!(t&&t.__v_isReactive)}function wn(t){return!!(t&&t.__v_isReadonly)}function Is(t){return!!(t&&t.__v_isShallow)}function Zo(t){return qe(t)||wn(t)}function At(t){const e=t&&t.__v_raw;return e?At(e):t}function xn(t){return $s(t,"__v_skip",!0),t}const Vn=t=>Lt(t)?Ut(t):t,qi=t=>Lt(t)?Hs(t):t;function Go(t){We&&ge&&(t=At(t),Uo(t.dep||(t.dep=Bi())))}function Yo(t,e){t=At(t),t.dep&&gi(t.dep)}function Ft(t){return!!(t&&t.__v_isRef===!0)}function Q(t){return Xo(t,!1)}function rc(t){return Xo(t,!0)}function Xo(t,e){return Ft(t)?t:new oc(t,e)}class oc{constructor(e,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?e:At(e),this._value=n?e:Vn(e)}get value(){return Go(this),this._value}set value(e){const n=this.__v_isShallow||Is(e)||wn(e);e=n?e:At(e),Hn(e,this._rawValue)&&(this._rawValue=e,this._value=n?e:Vn(e),Yo(this))}}function I(t){return Ft(t)?t.value:t}const ac={get:(t,e,n)=>I(Reflect.get(t,e,n)),set:(t,e,n,s)=>{const i=t[e];return Ft(i)&&!Ft(n)?(i.value=n,!0):Reflect.set(t,e,n,s)}};function Jo(t){return qe(t)?t:new Proxy(t,ac)}function lc(t){const e=gt(t)?new Array(t.length):{};for(const n in t)e[n]=uc(t,n);return e}class cc{constructor(e,n,s){this._object=e,this._key=n,this._defaultValue=s,this.__v_isRef=!0}get value(){const e=this._object[this._key];return e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}}function uc(t,e,n){const s=t[e];return Ft(s)?s:new cc(t,e,n)}var Qo;class fc{constructor(e,n,s,i){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this[Qo]=!1,this._dirty=!0,this.effect=new Ui(e,()=>{this._dirty||(this._dirty=!0,Yo(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!i,this.__v_isReadonly=s}get value(){const e=At(this);return Go(e),(e._dirty||!e._cacheable)&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}Qo="__v_isReadonly";function dc(t,e,n=!1){let s,i;const r=xt(t);return r?(s=t,i=be):(s=t.get,i=t.set),new fc(s,i,r||!i,n)}function Ke(t,e,n,s){let i;try{i=s?t(...s):t()}catch(r){Vs(r,e,n)}return i}function me(t,e,n,s){if(xt(t)){const r=Ke(t,e,n,s);return r&&Po(r)&&r.catch(o=>{Vs(o,e,n)}),r}const i=[];for(let r=0;r<t.length;r++)i.push(me(t[r],e,n,s));return i}function Vs(t,e,n,s=!0){const i=e?e.vnode:null;if(e){let r=e.parent;const o=e.proxy,a=n;for(;r;){const f=r.ec;if(f){for(let u=0;u<f.length;u++)if(f[u](t,o,a)===!1)return}r=r.parent}const l=e.appContext.config.errorHandler;if(l){Ke(l,null,10,[t,o,a]);return}}hc(t,n,i,s)}function hc(t,e,n,s=!0){console.error(t)}let Wn=!1,vi=!1;const te=[];let Ae=0;const yn=[];let Re=null,sn=0;const ta=Promise.resolve();let Ki=null;function Zi(t){const e=Ki||ta;return t?e.then(this?t.bind(this):t):e}function pc(t){let e=Ae+1,n=te.length;for(;e<n;){const s=e+n>>>1;qn(te[s])<t?e=s+1:n=s}return e}function Gi(t){(!te.length||!te.includes(t,Wn&&t.allowRecurse?Ae+1:Ae))&&(t.id==null?te.push(t):te.splice(pc(t.id),0,t),ea())}function ea(){!Wn&&!vi&&(vi=!0,Ki=ta.then(sa))}function mc(t){const e=te.indexOf(t);e>Ae&&te.splice(e,1)}function _c(t){gt(t)?yn.push(...t):(!Re||!Re.includes(t,t.allowRecurse?sn+1:sn))&&yn.push(t),ea()}function Mr(t,e=Wn?Ae+1:0){for(;e<te.length;e++){const n=te[e];n&&n.pre&&(te.splice(e,1),e--,n())}}function na(t){if(yn.length){const e=[...new Set(yn)];if(yn.length=0,Re){Re.push(...e);return}for(Re=e,Re.sort((n,s)=>qn(n)-qn(s)),sn=0;sn<Re.length;sn++)Re[sn]();Re=null,sn=0}}const qn=t=>t.id==null?1/0:t.id,gc=(t,e)=>{const n=qn(t)-qn(e);if(n===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return n};function sa(t){vi=!1,Wn=!0,te.sort(gc);const e=be;try{for(Ae=0;Ae<te.length;Ae++){const n=te[Ae];n&&n.active!==!1&&Ke(n,null,14)}}finally{Ae=0,te.length=0,na(),Wn=!1,Ki=null,(te.length||yn.length)&&sa()}}function vc(t,e,...n){if(t.isUnmounted)return;const s=t.vnode.props||Ot;let i=n;const r=e.startsWith("update:"),o=r&&e.slice(7);if(o&&o in s){const u=`${o==="modelValue"?"model":o}Modifiers`,{number:d,trim:p}=s[u]||Ot;p&&(i=n.map(h=>h.trim())),d&&(i=n.map(As))}let a,l=s[a=ri(e)]||s[a=ri(Ie(e))];!l&&r&&(l=s[a=ri(In(e))]),l&&me(l,t,6,i);const f=s[a+"Once"];if(f){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,me(f,t,6,i)}}function ia(t,e,n=!1){const s=e.emitsCache,i=s.get(t);if(i!==void 0)return i;const r=t.emits;let o={},a=!1;if(!xt(t)){const l=f=>{const u=ia(f,e,!0);u&&(a=!0,ne(o,u))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!r&&!a?(Lt(t)&&s.set(t,null),null):(gt(r)?r.forEach(l=>o[l]=null):ne(o,r),Lt(t)&&s.set(t,o),o)}function Ws(t,e){return!t||!Ns(e)?!1:(e=e.slice(2).replace(/Once$/,""),Et(t,e[0].toLowerCase()+e.slice(1))||Et(t,In(e))||Et(t,e))}let ee=null,qs=null;function Ts(t){const e=ee;return ee=t,qs=t&&t.type.__scopeId||null,e}function qt(t){qs=t}function Kt(){qs=null}function _t(t,e=ee,n){if(!e||t._n)return t;const s=(...i)=>{s._d&&Gr(-1);const r=Ts(e),o=t(...i);return Ts(r),s._d&&Gr(1),o};return s._n=!0,s._c=!0,s._d=!0,s}function oi(t){const{type:e,vnode:n,proxy:s,withProxy:i,props:r,propsOptions:[o],slots:a,attrs:l,emit:f,render:u,renderCache:d,data:p,setupState:h,ctx:_,inheritAttrs:m}=t;let g,y;const x=Ts(t);try{if(n.shapeFlag&4){const O=i||s;g=$e(u.call(O,O,d,r,h,p,_)),y=l}else{const O=e;g=$e(O.length>1?O(r,{attrs:l,slots:a,emit:f}):O(r,null)),y=e.props?l:yc(l)}}catch(O){Dn.length=0,Vs(O,t,1),g=ot(_e)}let E=g;if(y&&m!==!1){const O=Object.keys(y),{shapeFlag:P}=E;O.length&&P&7&&(o&&O.some(Mi)&&(y=bc(y,o)),E=Ge(E,y))}return n.dirs&&(E=Ge(E),E.dirs=E.dirs?E.dirs.concat(n.dirs):n.dirs),n.transition&&(E.transition=n.transition),g=E,Ts(x),g}const yc=t=>{let e;for(const n in t)(n==="class"||n==="style"||Ns(n))&&((e||(e={}))[n]=t[n]);return e},bc=(t,e)=>{const n={};for(const s in t)(!Mi(s)||!(s.slice(9)in e))&&(n[s]=t[s]);return n};function wc(t,e,n){const{props:s,children:i,component:r}=t,{props:o,children:a,patchFlag:l}=e,f=r.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return s?Dr(s,o,f):!!o;if(l&8){const u=e.dynamicProps;for(let d=0;d<u.length;d++){const p=u[d];if(o[p]!==s[p]&&!Ws(f,p))return!0}}}else return(i||a)&&(!a||!a.$stable)?!0:s===o?!1:s?o?Dr(s,o,f):!0:!!o;return!1}function Dr(t,e,n){const s=Object.keys(e);if(s.length!==Object.keys(t).length)return!0;for(let i=0;i<s.length;i++){const r=s[i];if(e[r]!==t[r]&&!Ws(n,r))return!0}return!1}function xc({vnode:t,parent:e},n){for(;e&&e.subTree===t;)(t=e.vnode).el=n,e=e.parent}const kc=t=>t.__isSuspense;function Cc(t,e){e&&e.pendingBranch?gt(t)?e.effects.push(...t):e.effects.push(t):_c(t)}function ks(t,e){if(Gt){let n=Gt.provides;const s=Gt.parent&&Gt.parent.provides;s===n&&(n=Gt.provides=Object.create(s)),n[t]=e}}function Le(t,e,n=!1){const s=Gt||ee;if(s){const i=s.parent==null?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides;if(i&&t in i)return i[t];if(arguments.length>1)return n&&xt(e)?e.call(s.proxy):e}}const Nr={};function ce(t,e,n){return ra(t,e,n)}function ra(t,e,{immediate:n,deep:s,flush:i,onTrack:r,onTrigger:o}=Ot){const a=Gt;let l,f=!1,u=!1;if(Ft(t)?(l=()=>t.value,f=Is(t)):qe(t)?(l=()=>t,s=!0):gt(t)?(u=!0,f=t.some(y=>qe(y)||Is(y)),l=()=>t.map(y=>{if(Ft(y))return y.value;if(qe(y))return an(y);if(xt(y))return Ke(y,a,2)})):xt(t)?e?l=()=>Ke(t,a,2):l=()=>{if(!(a&&a.isUnmounted))return d&&d(),me(t,a,3,[p])}:l=be,e&&s){const y=l;l=()=>an(y())}let d,p=y=>{d=g.onStop=()=>{Ke(y,a,4)}};if(Zn)return p=be,e?n&&me(e,a,3,[l(),u?[]:void 0,p]):l(),be;let h=u?[]:Nr;const _=()=>{if(!!g.active)if(e){const y=g.run();(s||f||(u?y.some((x,E)=>Hn(x,h[E])):Hn(y,h)))&&(d&&d(),me(e,a,3,[y,h===Nr?void 0:h,p]),h=y)}else g.run()};_.allowRecurse=!!e;let m;i==="sync"?m=_:i==="post"?m=()=>oe(_,a&&a.suspense):(_.pre=!0,a&&(_.id=a.uid),m=()=>Gi(_));const g=new Ui(l,m);return e?n?_():h=g.run():i==="post"?oe(g.run.bind(g),a&&a.suspense):g.run(),()=>{g.stop(),a&&a.scope&&Di(a.scope.effects,g)}}function Sc(t,e,n){const s=this.proxy,i=Yt(t)?t.includes(".")?oa(s,t):()=>s[t]:t.bind(s,s);let r;xt(e)?r=e:(r=e.handler,n=e);const o=Gt;kn(this);const a=ra(i,r.bind(s),n);return o?kn(o):cn(),a}function oa(t,e){const n=e.split(".");return()=>{let s=t;for(let i=0;i<n.length&&s;i++)s=s[n[i]];return s}}function an(t,e){if(!Lt(t)||t.__v_skip||(e=e||new Set,e.has(t)))return t;if(e.add(t),Ft(t))an(t.value,e);else if(gt(t))for(let n=0;n<t.length;n++)an(t[n],e);else if(An(t)||vn(t))t.forEach(n=>{an(n,e)});else if(zo(t))for(const n in t)an(t[n],e);return t}function Ec(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return fe(()=>{t.isMounted=!0}),ts(()=>{t.isUnmounting=!0}),t}const he=[Function,Array],$c={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:he,onEnter:he,onAfterEnter:he,onEnterCancelled:he,onBeforeLeave:he,onLeave:he,onAfterLeave:he,onLeaveCancelled:he,onBeforeAppear:he,onAppear:he,onAfterAppear:he,onAppearCancelled:he},setup(t,{slots:e}){const n=nr(),s=Ec();let i;return()=>{const r=e.default&&la(e.default(),!0);if(!r||!r.length)return;let o=r[0];if(r.length>1){for(const m of r)if(m.type!==_e){o=m;break}}const a=At(t),{mode:l}=a;if(s.isLeaving)return ai(o);const f=Br(o);if(!f)return ai(o);const u=yi(f,a,s,n);bi(f,u);const d=n.subTree,p=d&&Br(d);let h=!1;const{getTransitionKey:_}=f.type;if(_){const m=_();i===void 0?i=m:m!==i&&(i=m,h=!0)}if(p&&p.type!==_e&&(!rn(f,p)||h)){const m=yi(p,a,s,n);if(bi(p,m),l==="out-in")return s.isLeaving=!0,m.afterLeave=()=>{s.isLeaving=!1,n.update()},ai(o);l==="in-out"&&f.type!==_e&&(m.delayLeave=(g,y,x)=>{const E=aa(s,p);E[String(p.key)]=p,g._leaveCb=()=>{y(),g._leaveCb=void 0,delete u.delayedLeave},u.delayedLeave=x})}return o}}},Ac=$c;function aa(t,e){const{leavingVNodes:n}=t;let s=n.get(e.type);return s||(s=Object.create(null),n.set(e.type,s)),s}function yi(t,e,n,s){const{appear:i,mode:r,persisted:o=!1,onBeforeEnter:a,onEnter:l,onAfterEnter:f,onEnterCancelled:u,onBeforeLeave:d,onLeave:p,onAfterLeave:h,onLeaveCancelled:_,onBeforeAppear:m,onAppear:g,onAfterAppear:y,onAppearCancelled:x}=e,E=String(t.key),O=aa(n,t),P=(N,D)=>{N&&me(N,s,9,D)},j=(N,D)=>{const Y=D[1];P(N,D),gt(N)?N.every(rt=>rt.length<=1)&&Y():N.length<=1&&Y()},M={mode:r,persisted:o,beforeEnter(N){let D=a;if(!n.isMounted)if(i)D=m||a;else return;N._leaveCb&&N._leaveCb(!0);const Y=O[E];Y&&rn(t,Y)&&Y.el._leaveCb&&Y.el._leaveCb(),P(D,[N])},enter(N){let D=l,Y=f,rt=u;if(!n.isMounted)if(i)D=g||l,Y=y||f,rt=x||u;else return;let R=!1;const V=N._enterCb=v=>{R||(R=!0,v?P(rt,[N]):P(Y,[N]),M.delayedLeave&&M.delayedLeave(),N._enterCb=void 0)};D?j(D,[N,V]):V()},leave(N,D){const Y=String(t.key);if(N._enterCb&&N._enterCb(!0),n.isUnmounting)return D();P(d,[N]);let rt=!1;const R=N._leaveCb=V=>{rt||(rt=!0,D(),V?P(_,[N]):P(h,[N]),N._leaveCb=void 0,O[Y]===t&&delete O[Y])};O[Y]=t,p?j(p,[N,R]):R()},clone(N){return yi(N,e,n,s)}};return M}function ai(t){if(Ks(t))return t=Ge(t),t.children=null,t}function Br(t){return Ks(t)?t.children?t.children[0]:void 0:t}function bi(t,e){t.shapeFlag&6&&t.component?bi(t.component.subTree,e):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function la(t,e=!1,n){let s=[],i=0;for(let r=0;r<t.length;r++){let o=t[r];const a=n==null?o.key:String(n)+String(o.key!=null?o.key:r);o.type===Dt?(o.patchFlag&128&&i++,s=s.concat(la(o.children,e,a))):(e||o.type!==_e)&&s.push(a!=null?Ge(o,{key:a}):o)}if(i>1)for(let r=0;r<s.length;r++)s[r].patchFlag=-2;return s}function ca(t){return xt(t)?{setup:t,name:t.name}:t}const Mn=t=>!!t.type.__asyncLoader,Ks=t=>t.type.__isKeepAlive;function Ic(t,e){ua(t,"a",e)}function Tc(t,e){ua(t,"da",e)}function ua(t,e,n=Gt){const s=t.__wdc||(t.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return t()});if(Zs(e,s,n),n){let i=n.parent;for(;i&&i.parent;)Ks(i.parent.vnode)&&Rc(s,e,n,i),i=i.parent}}function Rc(t,e,n,s){const i=Zs(e,t,s,!0);Yi(()=>{Di(s[e],i)},n)}function Zs(t,e,n=Gt,s=!1){if(n){const i=n[t]||(n[t]=[]),r=e.__weh||(e.__weh=(...o)=>{if(n.isUnmounted)return;Tn(),kn(n);const a=me(e,n,t,o);return cn(),Rn(),a});return s?i.unshift(r):i.push(r),r}}const Me=t=>(e,n=Gt)=>(!Zn||t==="sp")&&Zs(t,e,n),Oc=Me("bm"),fe=Me("m"),Pc=Me("bu"),Lc=Me("u"),ts=Me("bum"),Yi=Me("um"),zc=Me("sp"),Fc=Me("rtg"),Mc=Me("rtc");function Dc(t,e=Gt){Zs("ec",t,e)}function Qt(t,e){const n=ee;if(n===null)return t;const s=Ys(n)||n.proxy,i=t.dirs||(t.dirs=[]);for(let r=0;r<e.length;r++){let[o,a,l,f=Ot]=e[r];xt(o)&&(o={mounted:o,updated:o}),o.deep&&an(a),i.push({dir:o,instance:s,value:a,oldValue:void 0,arg:l,modifiers:f})}return t}function Qe(t,e,n,s){const i=t.dirs,r=e&&e.dirs;for(let o=0;o<i.length;o++){const a=i[o];r&&(a.oldValue=r[o].value);let l=a.dir[s];l&&(Tn(),me(l,n,8,[t.el,a,t,e]),Rn())}}const fa="components";function Ur(t,e){return Bc(fa,t,!0,e)||t}const Nc=Symbol();function Bc(t,e,n=!0,s=!1){const i=ee||Gt;if(i){const r=i.type;if(t===fa){const a=mu(r,!1);if(a&&(a===e||a===Ie(e)||a===Us(Ie(e))))return r}const o=jr(i[t]||r[t],e)||jr(i.appContext[t],e);return!o&&s?r:o}}function jr(t,e){return t&&(t[e]||t[Ie(e)]||t[Us(Ie(e))])}function Ye(t,e,n,s){let i;const r=n&&n[s];if(gt(t)||Yt(t)){i=new Array(t.length);for(let o=0,a=t.length;o<a;o++)i[o]=e(t[o],o,void 0,r&&r[o])}else if(typeof t=="number"){i=new Array(t);for(let o=0;o<t;o++)i[o]=e(o+1,o,void 0,r&&r[o])}else if(Lt(t))if(t[Symbol.iterator])i=Array.from(t,(o,a)=>e(o,a,void 0,r&&r[a]));else{const o=Object.keys(t);i=new Array(o.length);for(let a=0,l=o.length;a<l;a++){const f=o[a];i[a]=e(t[f],f,a,r&&r[a])}}else i=[];return n&&(n[s]=i),i}function Fe(t,e,n={},s,i){if(ee.isCE||ee.parent&&Mn(ee.parent)&&ee.parent.isCE)return ot("slot",e==="default"?null:{name:e},s&&s());let r=t[e];r&&r._c&&(r._d=!1),H();const o=r&&da(r(n)),a=$t(Dt,{key:n.key||o&&o.key||`_${e}`},o||(s?s():[]),o&&t._===1?64:-2);return!i&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),r&&r._c&&(r._d=!0),a}function da(t){return t.some(e=>Ps(e)?!(e.type===_e||e.type===Dt&&!da(e.children)):!0)?t:null}const wi=t=>t?Ca(t)?Ys(t)||t.proxy:wi(t.parent):null,Rs=ne(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>wi(t.parent),$root:t=>wi(t.root),$emit:t=>t.emit,$options:t=>Xi(t),$forceUpdate:t=>t.f||(t.f=()=>Gi(t.update)),$nextTick:t=>t.n||(t.n=Zi.bind(t.proxy)),$watch:t=>Sc.bind(t)}),Uc={get({_:t},e){const{ctx:n,setupState:s,data:i,props:r,accessCache:o,type:a,appContext:l}=t;let f;if(e[0]!=="$"){const h=o[e];if(h!==void 0)switch(h){case 1:return s[e];case 2:return i[e];case 4:return n[e];case 3:return r[e]}else{if(s!==Ot&&Et(s,e))return o[e]=1,s[e];if(i!==Ot&&Et(i,e))return o[e]=2,i[e];if((f=t.propsOptions[0])&&Et(f,e))return o[e]=3,r[e];if(n!==Ot&&Et(n,e))return o[e]=4,n[e];xi&&(o[e]=0)}}const u=Rs[e];let d,p;if(u)return e==="$attrs"&&ue(t,"get",e),u(t);if((d=a.__cssModules)&&(d=d[e]))return d;if(n!==Ot&&Et(n,e))return o[e]=4,n[e];if(p=l.config.globalProperties,Et(p,e))return p[e]},set({_:t},e,n){const{data:s,setupState:i,ctx:r}=t;return i!==Ot&&Et(i,e)?(i[e]=n,!0):s!==Ot&&Et(s,e)?(s[e]=n,!0):Et(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(r[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:s,appContext:i,propsOptions:r}},o){let a;return!!n[o]||t!==Ot&&Et(t,o)||e!==Ot&&Et(e,o)||(a=r[0])&&Et(a,o)||Et(s,o)||Et(Rs,o)||Et(i.config.globalProperties,o)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:Et(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};let xi=!0;function jc(t){const e=Xi(t),n=t.proxy,s=t.ctx;xi=!1,e.beforeCreate&&Hr(e.beforeCreate,t,"bc");const{data:i,computed:r,methods:o,watch:a,provide:l,inject:f,created:u,beforeMount:d,mounted:p,beforeUpdate:h,updated:_,activated:m,deactivated:g,beforeDestroy:y,beforeUnmount:x,destroyed:E,unmounted:O,render:P,renderTracked:j,renderTriggered:M,errorCaptured:N,serverPrefetch:D,expose:Y,inheritAttrs:rt,components:R,directives:V,filters:v}=e;if(f&&Hc(f,s,null,t.appContext.config.unwrapInjectedRef),o)for(const G in o){const lt=o[G];xt(lt)&&(s[G]=lt.bind(n))}if(i){const G=i.call(n,n);Lt(G)&&(t.data=Ut(G))}if(xi=!0,r)for(const G in r){const lt=r[G],J=xt(lt)?lt.bind(n,n):xt(lt.get)?lt.get.bind(n,n):be,pt=!xt(lt)&&xt(lt.set)?lt.set.bind(n):be,U=Tt({get:J,set:pt});Object.defineProperty(s,G,{enumerable:!0,configurable:!0,get:()=>U.value,set:B=>U.value=B})}if(a)for(const G in a)ha(a[G],s,n,G);if(l){const G=xt(l)?l.call(n):l;Reflect.ownKeys(G).forEach(lt=>{ks(lt,G[lt])})}u&&Hr(u,t,"c");function et(G,lt){gt(lt)?lt.forEach(J=>G(J.bind(n))):lt&&G(lt.bind(n))}if(et(Oc,d),et(fe,p),et(Pc,h),et(Lc,_),et(Ic,m),et(Tc,g),et(Dc,N),et(Mc,j),et(Fc,M),et(ts,x),et(Yi,O),et(zc,D),gt(Y))if(Y.length){const G=t.exposed||(t.exposed={});Y.forEach(lt=>{Object.defineProperty(G,lt,{get:()=>n[lt],set:J=>n[lt]=J})})}else t.exposed||(t.exposed={});P&&t.render===be&&(t.render=P),rt!=null&&(t.inheritAttrs=rt),R&&(t.components=R),V&&(t.directives=V)}function Hc(t,e,n=be,s=!1){gt(t)&&(t=ki(t));for(const i in t){const r=t[i];let o;Lt(r)?"default"in r?o=Le(r.from||i,r.default,!0):o=Le(r.from||i):o=Le(r),Ft(o)&&s?Object.defineProperty(e,i,{enumerable:!0,configurable:!0,get:()=>o.value,set:a=>o.value=a}):e[i]=o}}function Hr(t,e,n){me(gt(t)?t.map(s=>s.bind(e.proxy)):t.bind(e.proxy),e,n)}function ha(t,e,n,s){const i=s.includes(".")?oa(n,s):()=>n[s];if(Yt(t)){const r=e[t];xt(r)&&ce(i,r)}else if(xt(t))ce(i,t.bind(n));else if(Lt(t))if(gt(t))t.forEach(r=>ha(r,e,n,s));else{const r=xt(t.handler)?t.handler.bind(n):e[t.handler];xt(r)&&ce(i,r,t)}}function Xi(t){const e=t.type,{mixins:n,extends:s}=e,{mixins:i,optionsCache:r,config:{optionMergeStrategies:o}}=t.appContext,a=r.get(e);let l;return a?l=a:!i.length&&!n&&!s?l=e:(l={},i.length&&i.forEach(f=>Os(l,f,o,!0)),Os(l,e,o)),Lt(e)&&r.set(e,l),l}function Os(t,e,n,s=!1){const{mixins:i,extends:r}=e;r&&Os(t,r,n,!0),i&&i.forEach(o=>Os(t,o,n,!0));for(const o in e)if(!(s&&o==="expose")){const a=Vc[o]||n&&n[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const Vc={data:Vr,props:nn,emits:nn,methods:nn,computed:nn,beforeCreate:ie,created:ie,beforeMount:ie,mounted:ie,beforeUpdate:ie,updated:ie,beforeDestroy:ie,beforeUnmount:ie,destroyed:ie,unmounted:ie,activated:ie,deactivated:ie,errorCaptured:ie,serverPrefetch:ie,components:nn,directives:nn,watch:qc,provide:Vr,inject:Wc};function Vr(t,e){return e?t?function(){return ne(xt(t)?t.call(this,this):t,xt(e)?e.call(this,this):e)}:e:t}function Wc(t,e){return nn(ki(t),ki(e))}function ki(t){if(gt(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function ie(t,e){return t?[...new Set([].concat(t,e))]:e}function nn(t,e){return t?ne(ne(Object.create(null),t),e):e}function qc(t,e){if(!t)return e;if(!e)return t;const n=ne(Object.create(null),t);for(const s in e)n[s]=ie(t[s],e[s]);return n}function Kc(t,e,n,s=!1){const i={},r={};$s(r,Gs,1),t.propsDefaults=Object.create(null),pa(t,e,i,r);for(const o in t.propsOptions[0])o in i||(i[o]=void 0);n?t.props=s?i:le(i):t.type.props?t.props=i:t.props=r,t.attrs=r}function Zc(t,e,n,s){const{props:i,attrs:r,vnode:{patchFlag:o}}=t,a=At(i),[l]=t.propsOptions;let f=!1;if((s||o>0)&&!(o&16)){if(o&8){const u=t.vnode.dynamicProps;for(let d=0;d<u.length;d++){let p=u[d];if(Ws(t.emitsOptions,p))continue;const h=e[p];if(l)if(Et(r,p))h!==r[p]&&(r[p]=h,f=!0);else{const _=Ie(p);i[_]=Ci(l,a,_,h,t,!1)}else h!==r[p]&&(r[p]=h,f=!0)}}}else{pa(t,e,i,r)&&(f=!0);let u;for(const d in a)(!e||!Et(e,d)&&((u=In(d))===d||!Et(e,u)))&&(l?n&&(n[d]!==void 0||n[u]!==void 0)&&(i[d]=Ci(l,a,d,void 0,t,!0)):delete i[d]);if(r!==a)for(const d in r)(!e||!Et(e,d)&&!0)&&(delete r[d],f=!0)}f&&ze(t,"set","$attrs")}function pa(t,e,n,s){const[i,r]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if(ws(l))continue;const f=e[l];let u;i&&Et(i,u=Ie(l))?!r||!r.includes(u)?n[u]=f:(a||(a={}))[u]=f:Ws(t.emitsOptions,l)||(!(l in s)||f!==s[l])&&(s[l]=f,o=!0)}if(r){const l=At(n),f=a||Ot;for(let u=0;u<r.length;u++){const d=r[u];n[d]=Ci(i,l,d,f[d],t,!Et(f,d))}}return o}function Ci(t,e,n,s,i,r){const o=t[n];if(o!=null){const a=Et(o,"default");if(a&&s===void 0){const l=o.default;if(o.type!==Function&&xt(l)){const{propsDefaults:f}=i;n in f?s=f[n]:(kn(i),s=f[n]=l.call(null,e),cn())}else s=l}o[0]&&(r&&!a?s=!1:o[1]&&(s===""||s===In(n))&&(s=!0))}return s}function ma(t,e,n=!1){const s=e.propsCache,i=s.get(t);if(i)return i;const r=t.props,o={},a=[];let l=!1;if(!xt(t)){const u=d=>{l=!0;const[p,h]=ma(d,e,!0);ne(o,p),h&&a.push(...h)};!n&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}if(!r&&!l)return Lt(t)&&s.set(t,gn),gn;if(gt(r))for(let u=0;u<r.length;u++){const d=Ie(r[u]);Wr(d)&&(o[d]=Ot)}else if(r)for(const u in r){const d=Ie(u);if(Wr(d)){const p=r[u],h=o[d]=gt(p)||xt(p)?{type:p}:p;if(h){const _=Zr(Boolean,h.type),m=Zr(String,h.type);h[0]=_>-1,h[1]=m<0||_<m,(_>-1||Et(h,"default"))&&a.push(d)}}}const f=[o,a];return Lt(t)&&s.set(t,f),f}function Wr(t){return t[0]!=="$"}function qr(t){const e=t&&t.toString().match(/^\s*function (\w+)/);return e?e[1]:t===null?"null":""}function Kr(t,e){return qr(t)===qr(e)}function Zr(t,e){return gt(e)?e.findIndex(n=>Kr(n,t)):xt(e)&&Kr(e,t)?0:-1}const _a=t=>t[0]==="_"||t==="$stable",Ji=t=>gt(t)?t.map($e):[$e(t)],Gc=(t,e,n)=>{if(e._n)return e;const s=_t((...i)=>Ji(e(...i)),n);return s._c=!1,s},ga=(t,e,n)=>{const s=t._ctx;for(const i in t){if(_a(i))continue;const r=t[i];if(xt(r))e[i]=Gc(i,r,s);else if(r!=null){const o=Ji(r);e[i]=()=>o}}},va=(t,e)=>{const n=Ji(e);t.slots.default=()=>n},Yc=(t,e)=>{if(t.vnode.shapeFlag&32){const n=e._;n?(t.slots=At(e),$s(e,"_",n)):ga(e,t.slots={})}else t.slots={},e&&va(t,e);$s(t.slots,Gs,1)},Xc=(t,e,n)=>{const{vnode:s,slots:i}=t;let r=!0,o=Ot;if(s.shapeFlag&32){const a=e._;a?n&&a===1?r=!1:(ne(i,e),!n&&a===1&&delete i._):(r=!e.$stable,ga(e,i)),o=e}else e&&(va(t,e),o={default:1});if(r)for(const a in i)!_a(a)&&!(a in o)&&delete i[a]};function ya(){return{app:null,config:{isNativeTag:El,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Jc=0;function Qc(t,e){return function(s,i=null){xt(s)||(s=Object.assign({},s)),i!=null&&!Lt(i)&&(i=null);const r=ya(),o=new Set;let a=!1;const l=r.app={_uid:Jc++,_component:s,_props:i,_container:null,_context:r,_instance:null,version:gu,get config(){return r.config},set config(f){},use(f,...u){return o.has(f)||(f&&xt(f.install)?(o.add(f),f.install(l,...u)):xt(f)&&(o.add(f),f(l,...u))),l},mixin(f){return r.mixins.includes(f)||r.mixins.push(f),l},component(f,u){return u?(r.components[f]=u,l):r.components[f]},directive(f,u){return u?(r.directives[f]=u,l):r.directives[f]},mount(f,u,d){if(!a){const p=ot(s,i);return p.appContext=r,u&&e?e(p,f):t(p,f,d),a=!0,l._container=f,f.__vue_app__=l,Ys(p.component)||p.component.proxy}},unmount(){a&&(t(null,l._container),delete l._container.__vue_app__)},provide(f,u){return r.provides[f]=u,l}};return l}}function Si(t,e,n,s,i=!1){if(gt(t)){t.forEach((p,h)=>Si(p,e&&(gt(e)?e[h]:e),n,s,i));return}if(Mn(s)&&!i)return;const r=s.shapeFlag&4?Ys(s.component)||s.component.proxy:s.el,o=i?null:r,{i:a,r:l}=t,f=e&&e.r,u=a.refs===Ot?a.refs={}:a.refs,d=a.setupState;if(f!=null&&f!==l&&(Yt(f)?(u[f]=null,Et(d,f)&&(d[f]=null)):Ft(f)&&(f.value=null)),xt(l))Ke(l,a,12,[o,u]);else{const p=Yt(l),h=Ft(l);if(p||h){const _=()=>{if(t.f){const m=p?u[l]:l.value;i?gt(m)&&Di(m,r):gt(m)?m.includes(r)||m.push(r):p?(u[l]=[r],Et(d,l)&&(d[l]=u[l])):(l.value=[r],t.k&&(u[t.k]=l.value))}else p?(u[l]=o,Et(d,l)&&(d[l]=o)):h&&(l.value=o,t.k&&(u[t.k]=o))};o?(_.id=-1,oe(_,n)):_()}}}const oe=Cc;function tu(t){return eu(t)}function eu(t,e){const n=Ol();n.__VUE__=!0;const{insert:s,remove:i,patchProp:r,createElement:o,createText:a,createComment:l,setText:f,setElementText:u,parentNode:d,nextSibling:p,setScopeId:h=be,cloneNode:_,insertStaticContent:m}=t,g=(S,c,C,T=null,w=null,b=null,$=!1,L=null,F=!!c.dynamicChildren)=>{if(S===c)return;S&&!rn(S,c)&&(T=st(S),ct(S,w,b,!0),S=null),c.patchFlag===-2&&(F=!1,c.dynamicChildren=null);const{type:A,ref:W,shapeFlag:Z}=c;switch(A){case Qi:y(S,c,C,T);break;case _e:x(S,c,C,T);break;case Cs:S==null&&E(c,C,T,$);break;case Dt:V(S,c,C,T,w,b,$,L,F);break;default:Z&1?j(S,c,C,T,w,b,$,L,F):Z&6?v(S,c,C,T,w,b,$,L,F):(Z&64||Z&128)&&A.process(S,c,C,T,w,b,$,L,F,yt)}W!=null&&w&&Si(W,S&&S.ref,b,c||S,!c)},y=(S,c,C,T)=>{if(S==null)s(c.el=a(c.children),C,T);else{const w=c.el=S.el;c.children!==S.children&&f(w,c.children)}},x=(S,c,C,T)=>{S==null?s(c.el=l(c.children||""),C,T):c.el=S.el},E=(S,c,C,T)=>{[S.el,S.anchor]=m(S.children,c,C,T,S.el,S.anchor)},O=({el:S,anchor:c},C,T)=>{let w;for(;S&&S!==c;)w=p(S),s(S,C,T),S=w;s(c,C,T)},P=({el:S,anchor:c})=>{let C;for(;S&&S!==c;)C=p(S),i(S),S=C;i(c)},j=(S,c,C,T,w,b,$,L,F)=>{$=$||c.type==="svg",S==null?M(c,C,T,w,b,$,L,F):Y(S,c,w,b,$,L,F)},M=(S,c,C,T,w,b,$,L)=>{let F,A;const{type:W,props:Z,shapeFlag:q,transition:tt,patchFlag:ht,dirs:ut}=S;if(S.el&&_!==void 0&&ht===-1)F=S.el=_(S.el);else{if(F=S.el=o(S.type,b,Z&&Z.is,Z),q&8?u(F,S.children):q&16&&D(S.children,F,null,T,w,b&&W!=="foreignObject",$,L),ut&&Qe(S,null,T,"created"),Z){for(const It in Z)It!=="value"&&!ws(It)&&r(F,It,null,Z[It],b,S.children,T,w,nt);"value"in Z&&r(F,"value",null,Z.value),(A=Z.onVnodeBeforeMount)&&Ce(A,T,S)}N(F,S,S.scopeId,$,T)}ut&&Qe(S,null,T,"beforeMount");const kt=(!w||w&&!w.pendingBranch)&&tt&&!tt.persisted;kt&&tt.beforeEnter(F),s(F,c,C),((A=Z&&Z.onVnodeMounted)||kt||ut)&&oe(()=>{A&&Ce(A,T,S),kt&&tt.enter(F),ut&&Qe(S,null,T,"mounted")},w)},N=(S,c,C,T,w)=>{if(C&&h(S,C),T)for(let b=0;b<T.length;b++)h(S,T[b]);if(w){let b=w.subTree;if(c===b){const $=w.vnode;N(S,$,$.scopeId,$.slotScopeIds,w.parent)}}},D=(S,c,C,T,w,b,$,L,F=0)=>{for(let A=F;A<S.length;A++){const W=S[A]=L?Be(S[A]):$e(S[A]);g(null,W,c,C,T,w,b,$,L)}},Y=(S,c,C,T,w,b,$)=>{const L=c.el=S.el;let{patchFlag:F,dynamicChildren:A,dirs:W}=c;F|=S.patchFlag&16;const Z=S.props||Ot,q=c.props||Ot;let tt;C&&tn(C,!1),(tt=q.onVnodeBeforeUpdate)&&Ce(tt,C,c,S),W&&Qe(c,S,C,"beforeUpdate"),C&&tn(C,!0);const ht=w&&c.type!=="foreignObject";if(A?rt(S.dynamicChildren,A,L,C,T,ht,b):$||J(S,c,L,null,C,T,ht,b,!1),F>0){if(F&16)R(L,c,Z,q,C,T,w);else if(F&2&&Z.class!==q.class&&r(L,"class",null,q.class,w),F&4&&r(L,"style",Z.style,q.style,w),F&8){const ut=c.dynamicProps;for(let kt=0;kt<ut.length;kt++){const It=ut[kt],Bt=Z[It],de=q[It];(de!==Bt||It==="value")&&r(L,It,Bt,de,w,S.children,C,T,nt)}}F&1&&S.children!==c.children&&u(L,c.children)}else!$&&A==null&&R(L,c,Z,q,C,T,w);((tt=q.onVnodeUpdated)||W)&&oe(()=>{tt&&Ce(tt,C,c,S),W&&Qe(c,S,C,"updated")},T)},rt=(S,c,C,T,w,b,$)=>{for(let L=0;L<c.length;L++){const F=S[L],A=c[L],W=F.el&&(F.type===Dt||!rn(F,A)||F.shapeFlag&70)?d(F.el):C;g(F,A,W,null,T,w,b,$,!0)}},R=(S,c,C,T,w,b,$)=>{if(C!==T){for(const L in T){if(ws(L))continue;const F=T[L],A=C[L];F!==A&&L!=="value"&&r(S,L,A,F,$,c.children,w,b,nt)}if(C!==Ot)for(const L in C)!ws(L)&&!(L in T)&&r(S,L,C[L],null,$,c.children,w,b,nt);"value"in T&&r(S,"value",C.value,T.value)}},V=(S,c,C,T,w,b,$,L,F)=>{const A=c.el=S?S.el:a(""),W=c.anchor=S?S.anchor:a("");let{patchFlag:Z,dynamicChildren:q,slotScopeIds:tt}=c;tt&&(L=L?L.concat(tt):tt),S==null?(s(A,C,T),s(W,C,T),D(c.children,C,W,w,b,$,L,F)):Z>0&&Z&64&&q&&S.dynamicChildren?(rt(S.dynamicChildren,q,C,w,b,$,L),(c.key!=null||w&&c===w.subTree)&&wa(S,c,!0)):J(S,c,C,W,w,b,$,L,F)},v=(S,c,C,T,w,b,$,L,F)=>{c.slotScopeIds=L,S==null?c.shapeFlag&512?w.ctx.activate(c,C,T,$,F):K(c,C,T,w,b,$,F):et(S,c,F)},K=(S,c,C,T,w,b,$)=>{const L=S.component=uu(S,T,w);if(Ks(S)&&(L.ctx.renderer=yt),fu(L),L.asyncDep){if(w&&w.registerDep(L,G),!S.el){const F=L.subTree=ot(_e);x(null,F,c,C)}return}G(L,S,c,C,w,b,$)},et=(S,c,C)=>{const T=c.component=S.component;if(wc(S,c,C))if(T.asyncDep&&!T.asyncResolved){lt(T,c,C);return}else T.next=c,mc(T.update),T.update();else c.el=S.el,T.vnode=c},G=(S,c,C,T,w,b,$)=>{const L=()=>{if(S.isMounted){let{next:W,bu:Z,u:q,parent:tt,vnode:ht}=S,ut=W,kt;tn(S,!1),W?(W.el=ht.el,lt(S,W,$)):W=ht,Z&&xs(Z),(kt=W.props&&W.props.onVnodeBeforeUpdate)&&Ce(kt,tt,W,ht),tn(S,!0);const It=oi(S),Bt=S.subTree;S.subTree=It,g(Bt,It,d(Bt.el),st(Bt),S,w,b),W.el=It.el,ut===null&&xc(S,It.el),q&&oe(q,w),(kt=W.props&&W.props.onVnodeUpdated)&&oe(()=>Ce(kt,tt,W,ht),w)}else{let W;const{el:Z,props:q}=c,{bm:tt,m:ht,parent:ut}=S,kt=Mn(c);if(tn(S,!1),tt&&xs(tt),!kt&&(W=q&&q.onVnodeBeforeMount)&&Ce(W,ut,c),tn(S,!0),Z&&mt){const It=()=>{S.subTree=oi(S),mt(Z,S.subTree,S,w,null)};kt?c.type.__asyncLoader().then(()=>!S.isUnmounted&&It()):It()}else{const It=S.subTree=oi(S);g(null,It,C,T,S,w,b),c.el=It.el}if(ht&&oe(ht,w),!kt&&(W=q&&q.onVnodeMounted)){const It=c;oe(()=>Ce(W,ut,It),w)}(c.shapeFlag&256||ut&&Mn(ut.vnode)&&ut.vnode.shapeFlag&256)&&S.a&&oe(S.a,w),S.isMounted=!0,c=C=T=null}},F=S.effect=new Ui(L,()=>Gi(A),S.scope),A=S.update=()=>F.run();A.id=S.uid,tn(S,!0),A()},lt=(S,c,C)=>{c.component=S;const T=S.vnode.props;S.vnode=c,S.next=null,Zc(S,c.props,T,C),Xc(S,c.children,C),Tn(),Mr(),Rn()},J=(S,c,C,T,w,b,$,L,F=!1)=>{const A=S&&S.children,W=S?S.shapeFlag:0,Z=c.children,{patchFlag:q,shapeFlag:tt}=c;if(q>0){if(q&128){U(A,Z,C,T,w,b,$,L,F);return}else if(q&256){pt(A,Z,C,T,w,b,$,L,F);return}}tt&8?(W&16&&nt(A,w,b),Z!==A&&u(C,Z)):W&16?tt&16?U(A,Z,C,T,w,b,$,L,F):nt(A,w,b,!0):(W&8&&u(C,""),tt&16&&D(Z,C,T,w,b,$,L,F))},pt=(S,c,C,T,w,b,$,L,F)=>{S=S||gn,c=c||gn;const A=S.length,W=c.length,Z=Math.min(A,W);let q;for(q=0;q<Z;q++){const tt=c[q]=F?Be(c[q]):$e(c[q]);g(S[q],tt,C,null,w,b,$,L,F)}A>W?nt(S,w,b,!0,!1,Z):D(c,C,T,w,b,$,L,F,Z)},U=(S,c,C,T,w,b,$,L,F)=>{let A=0;const W=c.length;let Z=S.length-1,q=W-1;for(;A<=Z&&A<=q;){const tt=S[A],ht=c[A]=F?Be(c[A]):$e(c[A]);if(rn(tt,ht))g(tt,ht,C,null,w,b,$,L,F);else break;A++}for(;A<=Z&&A<=q;){const tt=S[Z],ht=c[q]=F?Be(c[q]):$e(c[q]);if(rn(tt,ht))g(tt,ht,C,null,w,b,$,L,F);else break;Z--,q--}if(A>Z){if(A<=q){const tt=q+1,ht=tt<W?c[tt].el:T;for(;A<=q;)g(null,c[A]=F?Be(c[A]):$e(c[A]),C,ht,w,b,$,L,F),A++}}else if(A>q)for(;A<=Z;)ct(S[A],w,b,!0),A++;else{const tt=A,ht=A,ut=new Map;for(A=ht;A<=q;A++){const Mt=c[A]=F?Be(c[A]):$e(c[A]);Mt.key!=null&&ut.set(Mt.key,A)}let kt,It=0;const Bt=q-ht+1;let de=!1,zt=0;const ke=new Array(Bt);for(A=0;A<Bt;A++)ke[A]=0;for(A=tt;A<=Z;A++){const Mt=S[A];if(It>=Bt){ct(Mt,w,b,!0);continue}let ae;if(Mt.key!=null)ae=ut.get(Mt.key);else for(kt=ht;kt<=q;kt++)if(ke[kt-ht]===0&&rn(Mt,c[kt])){ae=kt;break}ae===void 0?ct(Mt,w,b,!0):(ke[ae-ht]=A+1,ae>=zt?zt=ae:de=!0,g(Mt,c[ae],C,null,w,b,$,L,F),It++)}const hn=de?nu(ke):gn;for(kt=hn.length-1,A=Bt-1;A>=0;A--){const Mt=ht+A,ae=c[Mt],as=Mt+1<W?c[Mt+1].el:T;ke[A]===0?g(null,ae,C,as,w,b,$,L,F):de&&(kt<0||A!==hn[kt]?B(ae,C,as,2):kt--)}}},B=(S,c,C,T,w=null)=>{const{el:b,type:$,transition:L,children:F,shapeFlag:A}=S;if(A&6){B(S.component.subTree,c,C,T);return}if(A&128){S.suspense.move(c,C,T);return}if(A&64){$.move(S,c,C,yt);return}if($===Dt){s(b,c,C);for(let Z=0;Z<F.length;Z++)B(F[Z],c,C,T);s(S.anchor,c,C);return}if($===Cs){O(S,c,C);return}if(T!==2&&A&1&&L)if(T===0)L.beforeEnter(b),s(b,c,C),oe(()=>L.enter(b),w);else{const{leave:Z,delayLeave:q,afterLeave:tt}=L,ht=()=>s(b,c,C),ut=()=>{Z(b,()=>{ht(),tt&&tt()})};q?q(b,ht,ut):ut()}else s(b,c,C)},ct=(S,c,C,T=!1,w=!1)=>{const{type:b,props:$,ref:L,children:F,dynamicChildren:A,shapeFlag:W,patchFlag:Z,dirs:q}=S;if(L!=null&&Si(L,null,C,S,!0),W&256){c.ctx.deactivate(S);return}const tt=W&1&&q,ht=!Mn(S);let ut;if(ht&&(ut=$&&$.onVnodeBeforeUnmount)&&Ce(ut,c,S),W&6)it(S.component,C,T);else{if(W&128){S.suspense.unmount(C,T);return}tt&&Qe(S,null,c,"beforeUnmount"),W&64?S.type.remove(S,c,C,w,yt,T):A&&(b!==Dt||Z>0&&Z&64)?nt(A,c,C,!1,!0):(b===Dt&&Z&384||!w&&W&16)&&nt(F,c,C),T&&at(S)}(ht&&(ut=$&&$.onVnodeUnmounted)||tt)&&oe(()=>{ut&&Ce(ut,c,S),tt&&Qe(S,null,c,"unmounted")},C)},at=S=>{const{type:c,el:C,anchor:T,transition:w}=S;if(c===Dt){z(C,T);return}if(c===Cs){P(S);return}const b=()=>{i(C),w&&!w.persisted&&w.afterLeave&&w.afterLeave()};if(S.shapeFlag&1&&w&&!w.persisted){const{leave:$,delayLeave:L}=w,F=()=>$(C,b);L?L(S.el,b,F):F()}else b()},z=(S,c)=>{let C;for(;S!==c;)C=p(S),i(S),S=C;i(c)},it=(S,c,C)=>{const{bum:T,scope:w,update:b,subTree:$,um:L}=S;T&&xs(T),w.stop(),b&&(b.active=!1,ct($,S,c,C)),L&&oe(L,c),oe(()=>{S.isUnmounted=!0},c),c&&c.pendingBranch&&!c.isUnmounted&&S.asyncDep&&!S.asyncResolved&&S.suspenseId===c.pendingId&&(c.deps--,c.deps===0&&c.resolve())},nt=(S,c,C,T=!1,w=!1,b=0)=>{for(let $=b;$<S.length;$++)ct(S[$],c,C,T,w)},st=S=>S.shapeFlag&6?st(S.component.subTree):S.shapeFlag&128?S.suspense.next():p(S.anchor||S.el),ft=(S,c,C)=>{S==null?c._vnode&&ct(c._vnode,null,null,!0):g(c._vnode||null,S,c,null,null,null,C),Mr(),na(),c._vnode=S},yt={p:g,um:ct,m:B,r:at,mt:K,mc:D,pc:J,pbc:rt,n:st,o:t};let dt,mt;return e&&([dt,mt]=e(yt)),{render:ft,hydrate:dt,createApp:Qc(ft,dt)}}function tn({effect:t,update:e},n){t.allowRecurse=e.allowRecurse=n}function wa(t,e,n=!1){const s=t.children,i=e.children;if(gt(s)&&gt(i))for(let r=0;r<s.length;r++){const o=s[r];let a=i[r];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=i[r]=Be(i[r]),a.el=o.el),n||wa(o,a))}}function nu(t){const e=t.slice(),n=[0];let s,i,r,o,a;const l=t.length;for(s=0;s<l;s++){const f=t[s];if(f!==0){if(i=n[n.length-1],t[i]<f){e[s]=i,n.push(s);continue}for(r=0,o=n.length-1;r<o;)a=r+o>>1,t[n[a]]<f?r=a+1:o=a;f<t[n[r]]&&(r>0&&(e[s]=n[r-1]),n[r]=s)}}for(r=n.length,o=n[r-1];r-- >0;)n[r]=o,o=e[o];return n}const su=t=>t.__isTeleport,Dt=Symbol(void 0),Qi=Symbol(void 0),_e=Symbol(void 0),Cs=Symbol(void 0),Dn=[];let ve=null;function H(t=!1){Dn.push(ve=t?null:[])}function iu(){Dn.pop(),ve=Dn[Dn.length-1]||null}let Kn=1;function Gr(t){Kn+=t}function xa(t){return t.dynamicChildren=Kn>0?ve||gn:null,iu(),Kn>0&&ve&&ve.push(t),t}function X(t,e,n,s,i,r){return xa(k(t,e,n,s,i,r,!0))}function $t(t,e,n,s,i){return xa(ot(t,e,n,s,i,!0))}function Ps(t){return t?t.__v_isVNode===!0:!1}function rn(t,e){return t.type===e.type&&t.key===e.key}const Gs="__vInternal",ka=({key:t})=>t!=null?t:null,Ss=({ref:t,ref_key:e,ref_for:n})=>t!=null?Yt(t)||Ft(t)||xt(t)?{i:ee,r:t,k:e,f:!!n}:t:null;function k(t,e=null,n=null,s=0,i=null,r=t===Dt?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&ka(e),ref:e&&Ss(e),scopeId:qs,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:s,dynamicProps:i,dynamicChildren:null,appContext:null};return a?(er(l,n),r&128&&t.normalize(l)):n&&(l.shapeFlag|=Yt(n)?8:16),Kn>0&&!o&&ve&&(l.patchFlag>0||r&6)&&l.patchFlag!==32&&ve.push(l),l}const ot=ru;function ru(t,e=null,n=null,s=0,i=null,r=!1){if((!t||t===Nc)&&(t=_e),Ps(t)){const a=Ge(t,e,!0);return n&&er(a,n),Kn>0&&!r&&ve&&(a.shapeFlag&6?ve[ve.indexOf(t)]=a:ve.push(a)),a.patchFlag|=-2,a}if(_u(t)&&(t=t.__vccOpts),e){e=ou(e);let{class:a,style:l}=e;a&&!Yt(a)&&(e.class=Ct(a)),Lt(l)&&(Zo(l)&&!gt(l)&&(l=ne({},l)),e.style=pe(l))}const o=Yt(t)?1:kc(t)?128:su(t)?64:Lt(t)?4:xt(t)?2:0;return k(t,e,n,s,i,o,r,!0)}function ou(t){return t?Zo(t)||Gs in t?ne({},t):t:null}function Ge(t,e,n=!1){const{props:s,ref:i,patchFlag:r,children:o}=t,a=e?au(s||{},e):s;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:a,key:a&&ka(a),ref:e&&e.ref?n&&i?gt(i)?i.concat(Ss(e)):[i,Ss(e)]:Ss(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:o,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Dt?r===-1?16:r|16:r,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Ge(t.ssContent),ssFallback:t.ssFallback&&Ge(t.ssFallback),el:t.el,anchor:t.anchor}}function St(t=" ",e=0){return ot(Qi,null,t,e)}function tr(t,e){const n=ot(Cs,null,t);return n.staticCount=e,n}function Nt(t="",e=!1){return e?(H(),$t(_e,null,t)):ot(_e,null,t)}function $e(t){return t==null||typeof t=="boolean"?ot(_e):gt(t)?ot(Dt,null,t.slice()):typeof t=="object"?Be(t):ot(Qi,null,String(t))}function Be(t){return t.el===null||t.memo?t:Ge(t)}function er(t,e){let n=0;const{shapeFlag:s}=t;if(e==null)e=null;else if(gt(e))n=16;else if(typeof e=="object")if(s&65){const i=e.default;i&&(i._c&&(i._d=!1),er(t,i()),i._c&&(i._d=!0));return}else{n=32;const i=e._;!i&&!(Gs in e)?e._ctx=ee:i===3&&ee&&(ee.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else xt(e)?(e={default:e,_ctx:ee},n=32):(e=String(e),s&64?(n=16,e=[St(e)]):n=8);t.children=e,t.shapeFlag|=n}function au(...t){const e={};for(let n=0;n<t.length;n++){const s=t[n];for(const i in s)if(i==="class")e.class!==s.class&&(e.class=Ct([e.class,s.class]));else if(i==="style")e.style=pe([e.style,s.style]);else if(Ns(i)){const r=e[i],o=s[i];o&&r!==o&&!(gt(r)&&r.includes(o))&&(e[i]=r?[].concat(r,o):o)}else i!==""&&(e[i]=s[i])}return e}function Ce(t,e,n,s=null){me(t,e,7,[n,s])}const lu=ya();let cu=0;function uu(t,e,n){const s=t.type,i=(e?e.appContext:t.appContext)||lu,r={uid:cu++,vnode:t,type:s,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,scope:new Fo(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:ma(s,i),emitsOptions:ia(s,i),emit:null,emitted:null,propsDefaults:Ot,inheritAttrs:s.inheritAttrs,ctx:Ot,data:Ot,props:Ot,attrs:Ot,slots:Ot,refs:Ot,setupState:Ot,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx={_:r},r.root=e?e.root:r,r.emit=vc.bind(null,r),t.ce&&t.ce(r),r}let Gt=null;const nr=()=>Gt||ee,kn=t=>{Gt=t,t.scope.on()},cn=()=>{Gt&&Gt.scope.off(),Gt=null};function Ca(t){return t.vnode.shapeFlag&4}let Zn=!1;function fu(t,e=!1){Zn=e;const{props:n,children:s}=t.vnode,i=Ca(t);Kc(t,n,i,e),Yc(t,s);const r=i?du(t,e):void 0;return Zn=!1,r}function du(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=xn(new Proxy(t.ctx,Uc));const{setup:s}=n;if(s){const i=t.setupContext=s.length>1?pu(t):null;kn(t),Tn();const r=Ke(s,t,0,[t.props,i]);if(Rn(),cn(),Po(r)){if(r.then(cn,cn),e)return r.then(o=>{Yr(t,o,e)}).catch(o=>{Vs(o,t,0)});t.asyncDep=r}else Yr(t,r,e)}else Sa(t,e)}function Yr(t,e,n){xt(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Lt(e)&&(t.setupState=Jo(e)),Sa(t,n)}let Xr;function Sa(t,e,n){const s=t.type;if(!t.render){if(!e&&Xr&&!s.render){const i=s.template||Xi(t).template;if(i){const{isCustomElement:r,compilerOptions:o}=t.appContext.config,{delimiters:a,compilerOptions:l}=s,f=ne(ne({isCustomElement:r,delimiters:a},o),l);s.render=Xr(i,f)}}t.render=s.render||be}kn(t),Tn(),jc(t),Rn(),cn()}function hu(t){return new Proxy(t.attrs,{get(e,n){return ue(t,"get","$attrs"),e[n]}})}function pu(t){const e=s=>{t.exposed=s||{}};let n;return{get attrs(){return n||(n=hu(t))},slots:t.slots,emit:t.emit,expose:e}}function Ys(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(Jo(xn(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in Rs)return Rs[n](t)}}))}function mu(t,e=!0){return xt(t)?t.displayName||t.name:t.name||e&&t.__name}function _u(t){return xt(t)&&"__vccOpts"in t}const Tt=(t,e)=>dc(t,e,Zn);function Ea(t,e,n){const s=arguments.length;return s===2?Lt(e)&&!gt(e)?Ps(e)?ot(t,null,[e]):ot(t,e):ot(t,null,e):(s>3?n=Array.prototype.slice.call(arguments,2):s===3&&Ps(n)&&(n=[n]),ot(t,e,n))}const gu="3.2.39",vu="http://www.w3.org/2000/svg",on=typeof document<"u"?document:null,Jr=on&&on.createElement("template"),yu={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,s)=>{const i=e?on.createElementNS(vu,t):on.createElement(t,n?{is:n}:void 0);return t==="select"&&s&&s.multiple!=null&&i.setAttribute("multiple",s.multiple),i},createText:t=>on.createTextNode(t),createComment:t=>on.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>on.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},cloneNode(t){const e=t.cloneNode(!0);return"_value"in t&&(e._value=t._value),e},insertStaticContent(t,e,n,s,i,r){const o=n?n.previousSibling:e.lastChild;if(i&&(i===r||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),n),!(i===r||!(i=i.nextSibling)););else{Jr.innerHTML=s?`<svg>${t}</svg>`:t;const a=Jr.content;if(s){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}};function bu(t,e,n){const s=t._vtc;s&&(e=(e?[e,...s]:[...s]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}function wu(t,e,n){const s=t.style,i=Yt(n);if(n&&!i){for(const r in n)Ei(s,r,n[r]);if(e&&!Yt(e))for(const r in e)n[r]==null&&Ei(s,r,"")}else{const r=s.display;i?e!==n&&(s.cssText=n):e&&t.removeAttribute("style"),"_vod"in t&&(s.display=r)}}const Qr=/\s*!important$/;function Ei(t,e,n){if(gt(n))n.forEach(s=>Ei(t,e,s));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const s=xu(t,e);Qr.test(n)?t.setProperty(In(s),n.replace(Qr,""),"important"):t[s]=n}}const to=["Webkit","Moz","ms"],li={};function xu(t,e){const n=li[e];if(n)return n;let s=Ie(e);if(s!=="filter"&&s in t)return li[e]=s;s=Us(s);for(let i=0;i<to.length;i++){const r=to[i]+s;if(r in t)return li[e]=r}return e}const eo="http://www.w3.org/1999/xlink";function ku(t,e,n,s,i){if(s&&e.startsWith("xlink:"))n==null?t.removeAttributeNS(eo,e.slice(6,e.length)):t.setAttributeNS(eo,e,n);else{const r=wl(e);n==null||r&&!Ro(n)?t.removeAttribute(e):t.setAttribute(e,r?"":n)}}function Cu(t,e,n,s,i,r,o){if(e==="innerHTML"||e==="textContent"){s&&o(s,i,r),t[e]=n==null?"":n;return}if(e==="value"&&t.tagName!=="PROGRESS"&&!t.tagName.includes("-")){t._value=n;const l=n==null?"":n;(t.value!==l||t.tagName==="OPTION")&&(t.value=l),n==null&&t.removeAttribute(e);return}let a=!1;if(n===""||n==null){const l=typeof t[e];l==="boolean"?n=Ro(n):n==null&&l==="string"?(n="",a=!0):l==="number"&&(n=0,a=!0)}try{t[e]=n}catch{}a&&t.removeAttribute(e)}const[$a,Su]=(()=>{let t=Date.now,e=!1;if(typeof window<"u"){Date.now()>document.createEvent("Event").timeStamp&&(t=performance.now.bind(performance));const n=navigator.userAgent.match(/firefox\/(\d+)/i);e=!!(n&&Number(n[1])<=53)}return[t,e]})();let $i=0;const Eu=Promise.resolve(),$u=()=>{$i=0},Au=()=>$i||(Eu.then($u),$i=$a());function je(t,e,n,s){t.addEventListener(e,n,s)}function Iu(t,e,n,s){t.removeEventListener(e,n,s)}function Tu(t,e,n,s,i=null){const r=t._vei||(t._vei={}),o=r[e];if(s&&o)o.value=s;else{const[a,l]=Ru(e);if(s){const f=r[e]=Ou(s,i);je(t,a,f,l)}else o&&(Iu(t,a,o,l),r[e]=void 0)}}const no=/(?:Once|Passive|Capture)$/;function Ru(t){let e;if(no.test(t)){e={};let s;for(;s=t.match(no);)t=t.slice(0,t.length-s[0].length),e[s[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):In(t.slice(2)),e]}function Ou(t,e){const n=s=>{const i=s.timeStamp||$a();(Su||i>=n.attached-1)&&me(Pu(s,n.value),e,5,[s])};return n.value=t,n.attached=Au(),n}function Pu(t,e){if(gt(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(s=>i=>!i._stopped&&s&&s(i))}else return e}const so=/^on[a-z]/,Lu=(t,e,n,s,i=!1,r,o,a,l)=>{e==="class"?bu(t,s,i):e==="style"?wu(t,n,s):Ns(e)?Mi(e)||Tu(t,e,n,s,o):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):zu(t,e,s,i))?Cu(t,e,s,r,o,a,l):(e==="true-value"?t._trueValue=s:e==="false-value"&&(t._falseValue=s),ku(t,e,s,i))};function zu(t,e,n,s){return s?!!(e==="innerHTML"||e==="textContent"||e in t&&so.test(e)&&xt(n)):e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA"||so.test(e)&&Yt(n)?!1:e in t}const Fu={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};Ac.props;const Cn=t=>{const e=t.props["onUpdate:modelValue"]||!1;return gt(e)?n=>xs(e,n):e};function Mu(t){t.target.composing=!0}function io(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const ye={created(t,{modifiers:{lazy:e,trim:n,number:s}},i){t._assign=Cn(i);const r=s||i.props&&i.props.type==="number";je(t,e?"change":"input",o=>{if(o.target.composing)return;let a=t.value;n&&(a=a.trim()),r&&(a=As(a)),t._assign(a)}),n&&je(t,"change",()=>{t.value=t.value.trim()}),e||(je(t,"compositionstart",Mu),je(t,"compositionend",io),je(t,"change",io))},mounted(t,{value:e}){t.value=e==null?"":e},beforeUpdate(t,{value:e,modifiers:{lazy:n,trim:s,number:i}},r){if(t._assign=Cn(r),t.composing||document.activeElement===t&&t.type!=="range"&&(n||s&&t.value.trim()===e||(i||t.type==="number")&&As(t.value)===e))return;const o=e==null?"":e;t.value!==o&&(t.value=o)}},Du={deep:!0,created(t,e,n){t._assign=Cn(n),je(t,"change",()=>{const s=t._modelValue,i=Gn(t),r=t.checked,o=t._assign;if(gt(s)){const a=Fi(s,i),l=a!==-1;if(r&&!l)o(s.concat(i));else if(!r&&l){const f=[...s];f.splice(a,1),o(f)}}else if(An(s)){const a=new Set(s);r?a.add(i):a.delete(i),o(a)}else o(Aa(t,r))})},mounted:ro,beforeUpdate(t,e,n){t._assign=Cn(n),ro(t,e,n)}};function ro(t,{value:e,oldValue:n},s){t._modelValue=e,gt(e)?t.checked=Fi(e,s.props.value)>-1:An(e)?t.checked=e.has(s.props.value):e!==n&&(t.checked=Jn(e,Aa(t,!0)))}const Ls={deep:!0,created(t,{value:e,modifiers:{number:n}},s){const i=An(e);je(t,"change",()=>{const r=Array.prototype.filter.call(t.options,o=>o.selected).map(o=>n?As(Gn(o)):Gn(o));t._assign(t.multiple?i?new Set(r):r:r[0])}),t._assign=Cn(s)},mounted(t,{value:e}){oo(t,e)},beforeUpdate(t,e,n){t._assign=Cn(n)},updated(t,{value:e}){oo(t,e)}};function oo(t,e){const n=t.multiple;if(!(n&&!gt(e)&&!An(e))){for(let s=0,i=t.options.length;s<i;s++){const r=t.options[s],o=Gn(r);if(n)gt(e)?r.selected=Fi(e,o)>-1:r.selected=e.has(o);else if(Jn(Gn(r),e)){t.selectedIndex!==s&&(t.selectedIndex=s);return}}!n&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function Gn(t){return"_value"in t?t._value:t.value}function Aa(t,e){const n=e?"_trueValue":"_falseValue";return n in t?t[n]:e}const Nu=["ctrl","shift","alt","meta"],Bu={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>Nu.some(n=>t[`${n}Key`]&&!e.includes(n))},sr=(t,e)=>(n,...s)=>{for(let i=0;i<e.length;i++){const r=Bu[e[i]];if(r&&r(n,e))return}return t(n,...s)},Uu=ne({patchProp:Lu},yu);let ao;function ju(){return ao||(ao=tu(Uu))}const Hu=(...t)=>{const e=ju().createApp(...t),{mount:n}=e;return e.mount=s=>{const i=Vu(s);if(!i)return;const r=e._component;!xt(r)&&!r.render&&!r.template&&(r.template=i.innerHTML),i.innerHTML="";const o=n(i,!1,i instanceof SVGElement);return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),o},e};function Vu(t){return Yt(t)?document.querySelector(t):t}var Wu=!1;/*!
  * pinia v2.0.22
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */let Ia;const Xs=t=>Ia=t,Ta=Symbol();function Ai(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var Nn;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(Nn||(Nn={}));function qu(){const t=Mo(!0),e=t.run(()=>Q({}));let n=[],s=[];const i=xn({install(r){Xs(i),i._a=r,r.provide(Ta,i),r.config.globalProperties.$pinia=i,s.forEach(o=>n.push(o)),s=[]},use(r){return!this._a&&!Wu?s.push(r):n.push(r),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return i}const Ra=()=>{};function lo(t,e,n,s=Ra){t.push(e);const i=()=>{const r=t.indexOf(e);r>-1&&(t.splice(r,1),s())};return!n&&nr()&&Yi(i),i}function pn(t,...e){t.slice().forEach(n=>{n(...e)})}function Ii(t,e){t instanceof Map&&e instanceof Map&&e.forEach((n,s)=>t.set(s,n)),t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const n in e){if(!e.hasOwnProperty(n))continue;const s=e[n],i=t[n];Ai(i)&&Ai(s)&&t.hasOwnProperty(n)&&!Ft(s)&&!qe(s)?t[n]=Ii(i,s):t[n]=s}return t}const Ku=Symbol();function Zu(t){return!Ai(t)||!t.hasOwnProperty(Ku)}const{assign:Oe}=Object;function Gu(t){return!!(Ft(t)&&t.effect)}function Yu(t,e,n,s){const{state:i,actions:r,getters:o}=e,a=n.state.value[t];let l;function f(){a||(n.state.value[t]=i?i():{});const u=lc(n.state.value[t]);return Oe(u,r,Object.keys(o||{}).reduce((d,p)=>(d[p]=xn(Tt(()=>{Xs(n);const h=n._s.get(t);return o[p].call(h,h)})),d),{}))}return l=Oa(t,f,e,n,s,!0),l.$reset=function(){const d=i?i():{};this.$patch(p=>{Oe(p,d)})},l}function Oa(t,e,n={},s,i,r){let o;const a=Oe({actions:{}},n),l={deep:!0};let f,u,d=xn([]),p=xn([]),h;const _=s.state.value[t];!r&&!_&&(s.state.value[t]={}),Q({});let m;function g(M){let N;f=u=!1,typeof M=="function"?(M(s.state.value[t]),N={type:Nn.patchFunction,storeId:t,events:h}):(Ii(s.state.value[t],M),N={type:Nn.patchObject,payload:M,storeId:t,events:h});const D=m=Symbol();Zi().then(()=>{m===D&&(f=!0)}),u=!0,pn(d,N,s.state.value[t])}const y=Ra;function x(){o.stop(),d=[],p=[],s._s.delete(t)}function E(M,N){return function(){Xs(s);const D=Array.from(arguments),Y=[],rt=[];function R(K){Y.push(K)}function V(K){rt.push(K)}pn(p,{args:D,name:M,store:P,after:R,onError:V});let v;try{v=N.apply(this&&this.$id===t?this:P,D)}catch(K){throw pn(rt,K),K}return v instanceof Promise?v.then(K=>(pn(Y,K),K)).catch(K=>(pn(rt,K),Promise.reject(K))):(pn(Y,v),v)}}const O={_p:s,$id:t,$onAction:lo.bind(null,p),$patch:g,$reset:y,$subscribe(M,N={}){const D=lo(d,M,N.detached,()=>Y()),Y=o.run(()=>ce(()=>s.state.value[t],rt=>{(N.flush==="sync"?u:f)&&M({storeId:t,type:Nn.direct,events:h},rt)},Oe({},l,N)));return D},$dispose:x},P=Ut(Oe({},O));s._s.set(t,P);const j=s._e.run(()=>(o=Mo(),o.run(()=>e())));for(const M in j){const N=j[M];if(Ft(N)&&!Gu(N)||qe(N))r||(_&&Zu(N)&&(Ft(N)?N.value=_[M]:Ii(N,_[M])),s.state.value[t][M]=N);else if(typeof N=="function"){const D=E(M,N);j[M]=D,a.actions[M]=N}}return Oe(P,j),Oe(At(P),j),Object.defineProperty(P,"$state",{get:()=>s.state.value[t],set:M=>{g(N=>{Oe(N,M)})}}),s._p.forEach(M=>{Oe(P,o.run(()=>M({store:P,app:s._a,pinia:s,options:a})))}),_&&r&&n.hydrate&&n.hydrate(P.$state,_),f=!0,u=!0,P}function ir(t,e,n){let s,i;const r=typeof e=="function";typeof t=="string"?(s=t,i=r?n:e):(i=t,s=t.id);function o(a,l){const f=nr();return a=a||f&&Le(Ta),a&&Xs(a),a=Ia,a._s.has(s)||(r?Oa(s,e,i,a):Yu(s,i,a)),a._s.get(s)}return o.$id=s,o}/*!
  * vue-router v4.1.5
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */const _n=typeof window<"u";function Xu(t){return t.__esModule||t[Symbol.toStringTag]==="Module"}const Rt=Object.assign;function ci(t,e){const n={};for(const s in e){const i=e[s];n[s]=we(i)?i.map(t):t(i)}return n}const Bn=()=>{},we=Array.isArray,Ju=/\/$/,Qu=t=>t.replace(Ju,"");function ui(t,e,n="/"){let s,i={},r="",o="";const a=e.indexOf("#");let l=e.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(s=e.slice(0,l),r=e.slice(l+1,a>-1?a:e.length),i=t(r)),a>-1&&(s=s||e.slice(0,a),o=e.slice(a,e.length)),s=sf(s!=null?s:e,n),{fullPath:s+(r&&"?")+r+o,path:s,query:i,hash:o}}function tf(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function co(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function ef(t,e,n){const s=e.matched.length-1,i=n.matched.length-1;return s>-1&&s===i&&Sn(e.matched[s],n.matched[i])&&Pa(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function Sn(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function Pa(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!nf(t[n],e[n]))return!1;return!0}function nf(t,e){return we(t)?uo(t,e):we(e)?uo(e,t):t===e}function uo(t,e){return we(e)?t.length===e.length&&t.every((n,s)=>n===e[s]):t.length===1&&t[0]===e}function sf(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),s=t.split("/");let i=n.length-1,r,o;for(r=0;r<s.length;r++)if(o=s[r],o!==".")if(o==="..")i>1&&i--;else break;return n.slice(0,i).join("/")+"/"+s.slice(r-(r===s.length?1:0)).join("/")}var Yn;(function(t){t.pop="pop",t.push="push"})(Yn||(Yn={}));var Un;(function(t){t.back="back",t.forward="forward",t.unknown=""})(Un||(Un={}));function rf(t){if(!t)if(_n){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),Qu(t)}const of=/^[^#]+#/;function af(t,e){return t.replace(of,"#")+e}function lf(t,e){const n=document.documentElement.getBoundingClientRect(),s=t.getBoundingClientRect();return{behavior:e.behavior,left:s.left-n.left-(e.left||0),top:s.top-n.top-(e.top||0)}}const Js=()=>({left:window.pageXOffset,top:window.pageYOffset});function cf(t){let e;if("el"in t){const n=t.el,s=typeof n=="string"&&n.startsWith("#"),i=typeof n=="string"?s?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i)return;e=lf(i,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.pageXOffset,e.top!=null?e.top:window.pageYOffset)}function fo(t,e){return(history.state?history.state.position-e:-1)+t}const Ti=new Map;function uf(t,e){Ti.set(t,e)}function ff(t){const e=Ti.get(t);return Ti.delete(t),e}let df=()=>location.protocol+"//"+location.host;function La(t,e){const{pathname:n,search:s,hash:i}=e,r=t.indexOf("#");if(r>-1){let a=i.includes(t.slice(r))?t.slice(r).length:1,l=i.slice(a);return l[0]!=="/"&&(l="/"+l),co(l,"")}return co(n,t)+s+i}function hf(t,e,n,s){let i=[],r=[],o=null;const a=({state:p})=>{const h=La(t,location),_=n.value,m=e.value;let g=0;if(p){if(n.value=h,e.value=p,o&&o===_){o=null;return}g=m?p.position-m.position:0}else s(h);i.forEach(y=>{y(n.value,_,{delta:g,type:Yn.pop,direction:g?g>0?Un.forward:Un.back:Un.unknown})})};function l(){o=n.value}function f(p){i.push(p);const h=()=>{const _=i.indexOf(p);_>-1&&i.splice(_,1)};return r.push(h),h}function u(){const{history:p}=window;!p.state||p.replaceState(Rt({},p.state,{scroll:Js()}),"")}function d(){for(const p of r)p();r=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",u),{pauseListeners:l,listen:f,destroy:d}}function ho(t,e,n,s=!1,i=!1){return{back:t,current:e,forward:n,replaced:s,position:window.history.length,scroll:i?Js():null}}function pf(t){const{history:e,location:n}=window,s={value:La(t,n)},i={value:e.state};i.value||r(s.value,{back:null,current:s.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function r(l,f,u){const d=t.indexOf("#"),p=d>-1?(n.host&&document.querySelector("base")?t:t.slice(d))+l:df()+t+l;try{e[u?"replaceState":"pushState"](f,"",p),i.value=f}catch(h){console.error(h),n[u?"replace":"assign"](p)}}function o(l,f){const u=Rt({},e.state,ho(i.value.back,l,i.value.forward,!0),f,{position:i.value.position});r(l,u,!0),s.value=l}function a(l,f){const u=Rt({},i.value,e.state,{forward:l,scroll:Js()});r(u.current,u,!0);const d=Rt({},ho(s.value,l,null),{position:u.position+1},f);r(l,d,!1),s.value=l}return{location:s,state:i,push:a,replace:o}}function mf(t){t=rf(t);const e=pf(t),n=hf(t,e.state,e.location,e.replace);function s(r,o=!0){o||n.pauseListeners(),history.go(r)}const i=Rt({location:"",base:t,go:s,createHref:af.bind(null,t)},e,n);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>e.state.value}),i}function _f(t){return typeof t=="string"||t&&typeof t=="object"}function za(t){return typeof t=="string"||typeof t=="symbol"}const Ne={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},Fa=Symbol("");var po;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(po||(po={}));function En(t,e){return Rt(new Error,{type:t,[Fa]:!0},e)}function Te(t,e){return t instanceof Error&&Fa in t&&(e==null||!!(t.type&e))}const mo="[^/]+?",gf={sensitive:!1,strict:!1,start:!0,end:!0},vf=/[.+*?^${}()[\]/\\]/g;function yf(t,e){const n=Rt({},gf,e),s=[];let i=n.start?"^":"";const r=[];for(const f of t){const u=f.length?[]:[90];n.strict&&!f.length&&(i+="/");for(let d=0;d<f.length;d++){const p=f[d];let h=40+(n.sensitive?.25:0);if(p.type===0)d||(i+="/"),i+=p.value.replace(vf,"\\$&"),h+=40;else if(p.type===1){const{value:_,repeatable:m,optional:g,regexp:y}=p;r.push({name:_,repeatable:m,optional:g});const x=y||mo;if(x!==mo){h+=10;try{new RegExp(`(${x})`)}catch(O){throw new Error(`Invalid custom RegExp for param "${_}" (${x}): `+O.message)}}let E=m?`((?:${x})(?:/(?:${x}))*)`:`(${x})`;d||(E=g&&f.length<2?`(?:/${E})`:"/"+E),g&&(E+="?"),i+=E,h+=20,g&&(h+=-8),m&&(h+=-20),x===".*"&&(h+=-50)}u.push(h)}s.push(u)}if(n.strict&&n.end){const f=s.length-1;s[f][s[f].length-1]+=.7000000000000001}n.strict||(i+="/?"),n.end?i+="$":n.strict&&(i+="(?:/|$)");const o=new RegExp(i,n.sensitive?"":"i");function a(f){const u=f.match(o),d={};if(!u)return null;for(let p=1;p<u.length;p++){const h=u[p]||"",_=r[p-1];d[_.name]=h&&_.repeatable?h.split("/"):h}return d}function l(f){let u="",d=!1;for(const p of t){(!d||!u.endsWith("/"))&&(u+="/"),d=!1;for(const h of p)if(h.type===0)u+=h.value;else if(h.type===1){const{value:_,repeatable:m,optional:g}=h,y=_ in f?f[_]:"";if(we(y)&&!m)throw new Error(`Provided param "${_}" is an array but it is not repeatable (* or + modifiers)`);const x=we(y)?y.join("/"):y;if(!x)if(g)p.length<2&&(u.endsWith("/")?u=u.slice(0,-1):d=!0);else throw new Error(`Missing required param "${_}"`);u+=x}}return u||"/"}return{re:o,score:s,keys:r,parse:a,stringify:l}}function bf(t,e){let n=0;for(;n<t.length&&n<e.length;){const s=e[n]-t[n];if(s)return s;n++}return t.length<e.length?t.length===1&&t[0]===40+40?-1:1:t.length>e.length?e.length===1&&e[0]===40+40?1:-1:0}function wf(t,e){let n=0;const s=t.score,i=e.score;for(;n<s.length&&n<i.length;){const r=bf(s[n],i[n]);if(r)return r;n++}if(Math.abs(i.length-s.length)===1){if(_o(s))return 1;if(_o(i))return-1}return i.length-s.length}function _o(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const xf={type:0,value:""},kf=/[a-zA-Z0-9_]/;function Cf(t){if(!t)return[[]];if(t==="/")return[[xf]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(h){throw new Error(`ERR (${n})/"${f}": ${h}`)}let n=0,s=n;const i=[];let r;function o(){r&&i.push(r),r=[]}let a=0,l,f="",u="";function d(){!f||(n===0?r.push({type:0,value:f}):n===1||n===2||n===3?(r.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${f}) must be alone in its segment. eg: '/:ids+.`),r.push({type:1,value:f,regexp:u,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),f="")}function p(){f+=l}for(;a<t.length;){if(l=t[a++],l==="\\"&&n!==2){s=n,n=4;continue}switch(n){case 0:l==="/"?(f&&d(),o()):l===":"?(d(),n=1):p();break;case 4:p(),n=s;break;case 1:l==="("?n=2:kf.test(l)?p():(d(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+l:n=3:u+=l;break;case 3:d(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,u="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${f}"`),d(),o(),i}function Sf(t,e,n){const s=yf(Cf(t.path),n),i=Rt(s,{record:t,parent:e,children:[],alias:[]});return e&&!i.record.aliasOf==!e.record.aliasOf&&e.children.push(i),i}function Ef(t,e){const n=[],s=new Map;e=yo({strict:!1,end:!0,sensitive:!1},e);function i(u){return s.get(u)}function r(u,d,p){const h=!p,_=$f(u);_.aliasOf=p&&p.record;const m=yo(e,u),g=[_];if("alias"in u){const E=typeof u.alias=="string"?[u.alias]:u.alias;for(const O of E)g.push(Rt({},_,{components:p?p.record.components:_.components,path:O,aliasOf:p?p.record:_}))}let y,x;for(const E of g){const{path:O}=E;if(d&&O[0]!=="/"){const P=d.record.path,j=P[P.length-1]==="/"?"":"/";E.path=d.record.path+(O&&j+O)}if(y=Sf(E,d,m),p?p.alias.push(y):(x=x||y,x!==y&&x.alias.push(y),h&&u.name&&!vo(y)&&o(u.name)),_.children){const P=_.children;for(let j=0;j<P.length;j++)r(P[j],y,p&&p.children[j])}p=p||y,l(y)}return x?()=>{o(x)}:Bn}function o(u){if(za(u)){const d=s.get(u);d&&(s.delete(u),n.splice(n.indexOf(d),1),d.children.forEach(o),d.alias.forEach(o))}else{const d=n.indexOf(u);d>-1&&(n.splice(d,1),u.record.name&&s.delete(u.record.name),u.children.forEach(o),u.alias.forEach(o))}}function a(){return n}function l(u){let d=0;for(;d<n.length&&wf(u,n[d])>=0&&(u.record.path!==n[d].record.path||!Ma(u,n[d]));)d++;n.splice(d,0,u),u.record.name&&!vo(u)&&s.set(u.record.name,u)}function f(u,d){let p,h={},_,m;if("name"in u&&u.name){if(p=s.get(u.name),!p)throw En(1,{location:u});m=p.record.name,h=Rt(go(d.params,p.keys.filter(x=>!x.optional).map(x=>x.name)),u.params&&go(u.params,p.keys.map(x=>x.name))),_=p.stringify(h)}else if("path"in u)_=u.path,p=n.find(x=>x.re.test(_)),p&&(h=p.parse(_),m=p.record.name);else{if(p=d.name?s.get(d.name):n.find(x=>x.re.test(d.path)),!p)throw En(1,{location:u,currentLocation:d});m=p.record.name,h=Rt({},d.params,u.params),_=p.stringify(h)}const g=[];let y=p;for(;y;)g.unshift(y.record),y=y.parent;return{name:m,path:_,params:h,matched:g,meta:If(g)}}return t.forEach(u=>r(u)),{addRoute:r,resolve:f,removeRoute:o,getRoutes:a,getRecordMatcher:i}}function go(t,e){const n={};for(const s of e)s in t&&(n[s]=t[s]);return n}function $f(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:Af(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}}}function Af(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const s in t.components)e[s]=typeof n=="boolean"?n:n[s];return e}function vo(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function If(t){return t.reduce((e,n)=>Rt(e,n.meta),{})}function yo(t,e){const n={};for(const s in t)n[s]=s in e?e[s]:t[s];return n}function Ma(t,e){return e.children.some(n=>n===t||Ma(t,n))}const Da=/#/g,Tf=/&/g,Rf=/\//g,Of=/=/g,Pf=/\?/g,Na=/\+/g,Lf=/%5B/g,zf=/%5D/g,Ba=/%5E/g,Ff=/%60/g,Ua=/%7B/g,Mf=/%7C/g,ja=/%7D/g,Df=/%20/g;function rr(t){return encodeURI(""+t).replace(Mf,"|").replace(Lf,"[").replace(zf,"]")}function Nf(t){return rr(t).replace(Ua,"{").replace(ja,"}").replace(Ba,"^")}function Ri(t){return rr(t).replace(Na,"%2B").replace(Df,"+").replace(Da,"%23").replace(Tf,"%26").replace(Ff,"`").replace(Ua,"{").replace(ja,"}").replace(Ba,"^")}function Bf(t){return Ri(t).replace(Of,"%3D")}function Uf(t){return rr(t).replace(Da,"%23").replace(Pf,"%3F")}function jf(t){return t==null?"":Uf(t).replace(Rf,"%2F")}function zs(t){try{return decodeURIComponent(""+t)}catch{}return""+t}function Hf(t){const e={};if(t===""||t==="?")return e;const s=(t[0]==="?"?t.slice(1):t).split("&");for(let i=0;i<s.length;++i){const r=s[i].replace(Na," "),o=r.indexOf("="),a=zs(o<0?r:r.slice(0,o)),l=o<0?null:zs(r.slice(o+1));if(a in e){let f=e[a];we(f)||(f=e[a]=[f]),f.push(l)}else e[a]=l}return e}function bo(t){let e="";for(let n in t){const s=t[n];if(n=Bf(n),s==null){s!==void 0&&(e+=(e.length?"&":"")+n);continue}(we(s)?s.map(r=>r&&Ri(r)):[s&&Ri(s)]).forEach(r=>{r!==void 0&&(e+=(e.length?"&":"")+n,r!=null&&(e+="="+r))})}return e}function Vf(t){const e={};for(const n in t){const s=t[n];s!==void 0&&(e[n]=we(s)?s.map(i=>i==null?null:""+i):s==null?s:""+s)}return e}const Wf=Symbol(""),wo=Symbol(""),or=Symbol(""),Ha=Symbol(""),Oi=Symbol("");function Pn(){let t=[];function e(s){return t.push(s),()=>{const i=t.indexOf(s);i>-1&&t.splice(i,1)}}function n(){t=[]}return{add:e,list:()=>t,reset:n}}function Ue(t,e,n,s,i){const r=s&&(s.enterCallbacks[i]=s.enterCallbacks[i]||[]);return()=>new Promise((o,a)=>{const l=d=>{d===!1?a(En(4,{from:n,to:e})):d instanceof Error?a(d):_f(d)?a(En(2,{from:e,to:d})):(r&&s.enterCallbacks[i]===r&&typeof d=="function"&&r.push(d),o())},f=t.call(s&&s.instances[i],e,n,l);let u=Promise.resolve(f);t.length<3&&(u=u.then(l)),u.catch(d=>a(d))})}function fi(t,e,n,s){const i=[];for(const r of t)for(const o in r.components){let a=r.components[o];if(!(e!=="beforeRouteEnter"&&!r.instances[o]))if(qf(a)){const f=(a.__vccOpts||a)[e];f&&i.push(Ue(f,n,s,r,o))}else{let l=a();i.push(()=>l.then(f=>{if(!f)return Promise.reject(new Error(`Couldn't resolve component "${o}" at "${r.path}"`));const u=Xu(f)?f.default:f;r.components[o]=u;const p=(u.__vccOpts||u)[e];return p&&Ue(p,n,s,r,o)()}))}}return i}function qf(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function xo(t){const e=Le(or),n=Le(Ha),s=Tt(()=>e.resolve(I(t.to))),i=Tt(()=>{const{matched:l}=s.value,{length:f}=l,u=l[f-1],d=n.matched;if(!u||!d.length)return-1;const p=d.findIndex(Sn.bind(null,u));if(p>-1)return p;const h=ko(l[f-2]);return f>1&&ko(u)===h&&d[d.length-1].path!==h?d.findIndex(Sn.bind(null,l[f-2])):p}),r=Tt(()=>i.value>-1&&Yf(n.params,s.value.params)),o=Tt(()=>i.value>-1&&i.value===n.matched.length-1&&Pa(n.params,s.value.params));function a(l={}){return Gf(l)?e[I(t.replace)?"replace":"push"](I(t.to)).catch(Bn):Promise.resolve()}return{route:s,href:Tt(()=>s.value.href),isActive:r,isExactActive:o,navigate:a}}const Kf=ca({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:xo,setup(t,{slots:e}){const n=Ut(xo(t)),{options:s}=Le(or),i=Tt(()=>({[Co(t.activeClass,s.linkActiveClass,"router-link-active")]:n.isActive,[Co(t.exactActiveClass,s.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const r=e.default&&e.default(n);return t.custom?r:Ea("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:i.value},r)}}}),Zf=Kf;function Gf(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function Yf(t,e){for(const n in e){const s=e[n],i=t[n];if(typeof s=="string"){if(s!==i)return!1}else if(!we(i)||i.length!==s.length||s.some((r,o)=>r!==i[o]))return!1}return!0}function ko(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const Co=(t,e,n)=>t!=null?t:e!=null?e:n,Xf=ca({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const s=Le(Oi),i=Tt(()=>t.route||s.value),r=Le(wo,0),o=Tt(()=>{let f=I(r);const{matched:u}=i.value;let d;for(;(d=u[f])&&!d.components;)f++;return f}),a=Tt(()=>i.value.matched[o.value]);ks(wo,Tt(()=>o.value+1)),ks(Wf,a),ks(Oi,i);const l=Q();return ce(()=>[l.value,a.value,t.name],([f,u,d],[p,h,_])=>{u&&(u.instances[d]=f,h&&h!==u&&f&&f===p&&(u.leaveGuards.size||(u.leaveGuards=h.leaveGuards),u.updateGuards.size||(u.updateGuards=h.updateGuards))),f&&u&&(!h||!Sn(u,h)||!p)&&(u.enterCallbacks[d]||[]).forEach(m=>m(f))},{flush:"post"}),()=>{const f=i.value,u=t.name,d=a.value,p=d&&d.components[u];if(!p)return So(n.default,{Component:p,route:f});const h=d.props[u],_=h?h===!0?f.params:typeof h=="function"?h(f):h:null,g=Ea(p,Rt({},_,e,{onVnodeUnmounted:y=>{y.component.isUnmounted&&(d.instances[u]=null)},ref:l}));return So(n.default,{Component:g,route:f})||g}}});function So(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const Jf=Xf;function Qf(t){const e=Ef(t.routes,t),n=t.parseQuery||Hf,s=t.stringifyQuery||bo,i=t.history,r=Pn(),o=Pn(),a=Pn(),l=rc(Ne);let f=Ne;_n&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=ci.bind(null,z=>""+z),d=ci.bind(null,jf),p=ci.bind(null,zs);function h(z,it){let nt,st;return za(z)?(nt=e.getRecordMatcher(z),st=it):st=z,e.addRoute(st,nt)}function _(z){const it=e.getRecordMatcher(z);it&&e.removeRoute(it)}function m(){return e.getRoutes().map(z=>z.record)}function g(z){return!!e.getRecordMatcher(z)}function y(z,it){if(it=Rt({},it||l.value),typeof z=="string"){const mt=ui(n,z,it.path),S=e.resolve({path:mt.path},it),c=i.createHref(mt.fullPath);return Rt(mt,S,{params:p(S.params),hash:zs(mt.hash),redirectedFrom:void 0,href:c})}let nt;if("path"in z)nt=Rt({},z,{path:ui(n,z.path,it.path).path});else{const mt=Rt({},z.params);for(const S in mt)mt[S]==null&&delete mt[S];nt=Rt({},z,{params:d(z.params)}),it.params=d(it.params)}const st=e.resolve(nt,it),ft=z.hash||"";st.params=u(p(st.params));const yt=tf(s,Rt({},z,{hash:Nf(ft),path:st.path})),dt=i.createHref(yt);return Rt({fullPath:yt,hash:ft,query:s===bo?Vf(z.query):z.query||{}},st,{redirectedFrom:void 0,href:dt})}function x(z){return typeof z=="string"?ui(n,z,l.value.path):Rt({},z)}function E(z,it){if(f!==z)return En(8,{from:it,to:z})}function O(z){return M(z)}function P(z){return O(Rt(x(z),{replace:!0}))}function j(z){const it=z.matched[z.matched.length-1];if(it&&it.redirect){const{redirect:nt}=it;let st=typeof nt=="function"?nt(z):nt;return typeof st=="string"&&(st=st.includes("?")||st.includes("#")?st=x(st):{path:st},st.params={}),Rt({query:z.query,hash:z.hash,params:"path"in st?{}:z.params},st)}}function M(z,it){const nt=f=y(z),st=l.value,ft=z.state,yt=z.force,dt=z.replace===!0,mt=j(nt);if(mt)return M(Rt(x(mt),{state:typeof mt=="object"?Rt({},ft,mt.state):ft,force:yt,replace:dt}),it||nt);const S=nt;S.redirectedFrom=it;let c;return!yt&&ef(s,st,nt)&&(c=En(16,{to:S,from:st}),pt(st,st,!0,!1)),(c?Promise.resolve(c):D(S,st)).catch(C=>Te(C)?Te(C,2)?C:J(C):G(C,S,st)).then(C=>{if(C){if(Te(C,2))return M(Rt({replace:dt},x(C.to),{state:typeof C.to=="object"?Rt({},ft,C.to.state):ft,force:yt}),it||S)}else C=rt(S,st,!0,dt,ft);return Y(S,st,C),C})}function N(z,it){const nt=E(z,it);return nt?Promise.reject(nt):Promise.resolve()}function D(z,it){let nt;const[st,ft,yt]=td(z,it);nt=fi(st.reverse(),"beforeRouteLeave",z,it);for(const mt of st)mt.leaveGuards.forEach(S=>{nt.push(Ue(S,z,it))});const dt=N.bind(null,z,it);return nt.push(dt),mn(nt).then(()=>{nt=[];for(const mt of r.list())nt.push(Ue(mt,z,it));return nt.push(dt),mn(nt)}).then(()=>{nt=fi(ft,"beforeRouteUpdate",z,it);for(const mt of ft)mt.updateGuards.forEach(S=>{nt.push(Ue(S,z,it))});return nt.push(dt),mn(nt)}).then(()=>{nt=[];for(const mt of z.matched)if(mt.beforeEnter&&!it.matched.includes(mt))if(we(mt.beforeEnter))for(const S of mt.beforeEnter)nt.push(Ue(S,z,it));else nt.push(Ue(mt.beforeEnter,z,it));return nt.push(dt),mn(nt)}).then(()=>(z.matched.forEach(mt=>mt.enterCallbacks={}),nt=fi(yt,"beforeRouteEnter",z,it),nt.push(dt),mn(nt))).then(()=>{nt=[];for(const mt of o.list())nt.push(Ue(mt,z,it));return nt.push(dt),mn(nt)}).catch(mt=>Te(mt,8)?mt:Promise.reject(mt))}function Y(z,it,nt){for(const st of a.list())st(z,it,nt)}function rt(z,it,nt,st,ft){const yt=E(z,it);if(yt)return yt;const dt=it===Ne,mt=_n?history.state:{};nt&&(st||dt?i.replace(z.fullPath,Rt({scroll:dt&&mt&&mt.scroll},ft)):i.push(z.fullPath,ft)),l.value=z,pt(z,it,nt,dt),J()}let R;function V(){R||(R=i.listen((z,it,nt)=>{if(!at.listening)return;const st=y(z),ft=j(st);if(ft){M(Rt(ft,{replace:!0}),st).catch(Bn);return}f=st;const yt=l.value;_n&&uf(fo(yt.fullPath,nt.delta),Js()),D(st,yt).catch(dt=>Te(dt,12)?dt:Te(dt,2)?(M(dt.to,st).then(mt=>{Te(mt,20)&&!nt.delta&&nt.type===Yn.pop&&i.go(-1,!1)}).catch(Bn),Promise.reject()):(nt.delta&&i.go(-nt.delta,!1),G(dt,st,yt))).then(dt=>{dt=dt||rt(st,yt,!1),dt&&(nt.delta&&!Te(dt,8)?i.go(-nt.delta,!1):nt.type===Yn.pop&&Te(dt,20)&&i.go(-1,!1)),Y(st,yt,dt)}).catch(Bn)}))}let v=Pn(),K=Pn(),et;function G(z,it,nt){J(z);const st=K.list();return st.length?st.forEach(ft=>ft(z,it,nt)):console.error(z),Promise.reject(z)}function lt(){return et&&l.value!==Ne?Promise.resolve():new Promise((z,it)=>{v.add([z,it])})}function J(z){return et||(et=!z,V(),v.list().forEach(([it,nt])=>z?nt(z):it()),v.reset()),z}function pt(z,it,nt,st){const{scrollBehavior:ft}=t;if(!_n||!ft)return Promise.resolve();const yt=!nt&&ff(fo(z.fullPath,0))||(st||!nt)&&history.state&&history.state.scroll||null;return Zi().then(()=>ft(z,it,yt)).then(dt=>dt&&cf(dt)).catch(dt=>G(dt,z,it))}const U=z=>i.go(z);let B;const ct=new Set,at={currentRoute:l,listening:!0,addRoute:h,removeRoute:_,hasRoute:g,getRoutes:m,resolve:y,options:t,push:O,replace:P,go:U,back:()=>U(-1),forward:()=>U(1),beforeEach:r.add,beforeResolve:o.add,afterEach:a.add,onError:K.add,isReady:lt,install(z){const it=this;z.component("RouterLink",Zf),z.component("RouterView",Jf),z.config.globalProperties.$router=it,Object.defineProperty(z.config.globalProperties,"$route",{enumerable:!0,get:()=>I(l)}),_n&&!B&&l.value===Ne&&(B=!0,O(i.location).catch(ft=>{}));const nt={};for(const ft in Ne)nt[ft]=Tt(()=>l.value[ft]);z.provide(or,it),z.provide(Ha,Ut(nt)),z.provide(Oi,l);const st=z.unmount;ct.add(z),z.unmount=function(){ct.delete(z),ct.size<1&&(f=Ne,R&&R(),R=null,l.value=Ne,B=!1,et=!1),st()}}};return at}function mn(t){return t.reduce((e,n)=>e.then(()=>n()),Promise.resolve())}function td(t,e){const n=[],s=[],i=[],r=Math.max(e.matched.length,t.matched.length);for(let o=0;o<r;o++){const a=e.matched[o];a&&(t.matched.find(f=>Sn(f,a))?s.push(a):n.push(a));const l=t.matched[o];l&&(e.matched.find(f=>Sn(f,l))||i.push(l))}return[n,s,i]}const ed={__name:"Home",setup(t){return(e,n)=>(H(),X("h1",null,"Home"))}};function Qs(t,e){fe(()=>{Ft(e)?t.value.appendChild(e.value):t.value.appendChild(e)})}let _s;const nd=new Uint8Array(16);function sd(){if(!_s&&(_s=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!_s))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return _s(nd)}const Xt=[];for(let t=0;t<256;++t)Xt.push((t+256).toString(16).slice(1));function rd(t,e=0){return(Xt[t[e+0]]+Xt[t[e+1]]+Xt[t[e+2]]+Xt[t[e+3]]+"-"+Xt[t[e+4]]+Xt[t[e+5]]+"-"+Xt[t[e+6]]+Xt[t[e+7]]+"-"+Xt[t[e+8]]+Xt[t[e+9]]+"-"+Xt[t[e+10]]+Xt[t[e+11]]+Xt[t[e+12]]+Xt[t[e+13]]+Xt[t[e+14]]+Xt[t[e+15]]).toLowerCase()}const od=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Eo={randomUUID:od};function un(t,e,n){if(Eo.randomUUID&&!e&&!t)return Eo.randomUUID();t=t||{};const s=t.random||(t.rng||sd)();if(s[6]=s[6]&15|64,s[8]=s[8]&63|128,e){n=n||0;for(let i=0;i<16;++i)e[n+i]=s[i];return e}return rd(s)}function Va(t=0,e=0){return[t,e]}function se(t,e,n){return t[0]=e,t[1]=n,t}function ad(t){return se(t,0,0)}function ld(t,[e,n]){return se(t,e,n)}function cd([t,e]){return Va(t,e)}function ud(t,[e,n],[s,i]){return se(t,e+s,n+i)}function fd(t,[e,n],[s,i]){return se(t,e-s,n-i)}function dd(t,[e,n],[s,i]){return se(t,e*s,n*i)}function hd(t,[e,n],[s,i]){return se(t,e/s,n/i)}function pd(t,[e,n],s){return se(t,e*s,n*s)}function md(t,[e,n]){return se(t,n,-e)}function _d(t,[e,n]){return se(t,-n,e)}function gd(t,[e,n],s){const i=Math.cos(s),r=Math.sin(s);return se(t,i*e-r*n,r*e+i*n)}function vd(t,[e,n]){return se(t,Math.floor(e),Math.floor(n))}function yd(t,[e,n]){return se(t,Math.ceil(e),Math.ceil(n))}function bd(t,[e,n]){return se(t,Math.round(e),Math.round(n))}function wd(t,[e,n]){const s=Math.hypot(e,n);return se(t,e/s,n/s)}function xd(t,[e,n],[s,i],[r,o]){return se(t,Range.clamp(e,s,r),Range.clamp(n,i,o))}const Vt={create:Va,set:se,reset:ad,copy:ld,clone:cd,add:ud,subtract:fd,multiply:dd,divide:hd,scale:pd,perpLeft:md,perpRight:_d,rotate:gd,floor:vd,ceil:yd,round:bd,normalize:wd,clamp:xd},kd={ORTHOGONAL:"orthogonal",ISOMETRIC:"isometric",ISOMETRIC_STAGGERED:"isometric_staggered",HEXAGONAL_STAGGERED:"hexagonal_staggered"};function Cd(t,e,n,s){return Canvas.create(t,e).getContext(n,s)}const Sd={create:Cd};var Pe,He,Ve;const Ds=class{constructor(e,n,s){cs(this,Pe,0);cs(this,He,0);cs(this,Ve,null);if(!Number.isFinite(e))throw new Error("Non finite width");if(!Number.isFinite(n))throw new Error("Non finite height");if(!Number.isInteger(e))throw new Error("Non integer width");if(!Number.isInteger(n))throw new Error("Non integer height");if(s&&s.length!==e*n)throw new Error("Data length is not equal to width by height");us(this,Pe,e),us(this,He,n),us(this,Ve,s!=null?s:new Uint8ClampedArray(e*n))}static fromImageData(e){return new Ds(e.width,e.height)}get width(){return re(this,Pe)}get height(){return re(this,He)}get data(){return re(this,Ve)}getOffset(e,n){if(!Number.isFinite(e)||!Number.isInteger(e))throw new Error("x is not finite or integer");if(!Number.isFinite(n)||!Number.isInteger(n))throw new Error("x is not finite or integer");return n*re(this,Pe)+e}isInside(e,n){return e>=0&&e<=re(this,Pe)-1&&n>=0&&n<=re(this,He)-1}putColor(e,n,s){const i=this.getOffset(e,n);return re(this,Ve)[i]=s,this}getColor(e,n){const s=this.getOffset(e,n);return re(this,Ve)[s]}clone(){return new Ds(re(this,Pe),re(this,He),re(this,Ve).slice())}toString(){return`IndexedImageData(${re(this,Pe)}, ${re(this,He)})`}};let Pi=Ds;Pe=new WeakMap,He=new WeakMap,Ve=new WeakMap;function $o(t,e,n){return t<e?e:t>n?n:t}function Ed(t,e,n){return e>=0&&e<t.width&&n>=0&&n<t.height}function $d(t,e,n){return!Ed(t,e,n)}function Xn(t,e,n){return(Math.floor($o(n,0,t.height-1))*t.width+Math.floor($o(e,0,t.width-1)))*4}function Ht(t,e,n,[s,i,r,o]){if($d(t,e,n))return t;const a=Xn(t,e,n);return t.data[a+0]=s,t.data[a+1]=i,t.data[a+2]=r,t.data[a+3]=o,t}function Fs(t,e,n){const s=Xn(t,e,n),i=t.data[s+0],r=t.data[s+1],o=t.data[s+2],a=t.data[s+3];return[i,r,o,a]}function Wa(t,[e,n,s],[i,r,o,a]){for(let l=0;l<t.data.length;l+=4){const f=t.data[l+0],u=t.data[l+1],d=t.data[l+2];e===f&&n===u&&s===d&&(t.data[l+0]=i,t.data[l+1]=r,t.data[l+2]=o,t.data[l+3]=a)}return t}function Ad(t,e,n,[s,i,r,o]){const[a,l,f]=Fs(t,e,n);Wa(t,[a,l,f],[s,i,r,o])}function Id(t){t.data.fill(0)}function Td(t,e,n,s,i){for(let r=0;r<e.height;r++){const o=r+s;if(!(o<0||o>=t.height))for(let a=0;a<e.width;a++){const l=a+n;if(l<0||l>=t.width)continue;const f=Xn(e,a,r),u=Xn(t,l,o);i(t.data,e.data,u,f)}}}function Rd(t,e,n,s,i=[[-1,0],[1,0],[0,-1],[0,1]]){const[r,o,a,l]=s,[f,u,d,p]=Fs(t,e,n);if(r==f&&o==u&&a==d&&l==p)return!1;const h=Pi.fromImageData(t),_=[[e,n]];for(;_.length>0;){const[m,g]=_.pop();h.putColor(m,g,255);const[y,x,E]=Fs(t,m,g);if(!(y!=f||x!=u||E!=d)){Ht(t,m,g,s);for(const[O,P]of i){const j=m+O,M=g+P;h.isInside(j,M)&&h.getColor(j,M)!==255&&_.push([j,M])}}}}function zn(t,e,n,s,i,r){let o=e,a=n,l=s,f=i;if(o===l&&a===f){Ht(t,o,a,r);return}let u=!1;Math.abs(f-a)>Math.abs(l-o)&&(o=n,a=e,l=i,f=s,u=!0);const d=Math.abs(l-o)+1,p=Math.abs(f-a)+1,h=Math.sign(l-o),_=Math.sign(f-a);let m=0,g=a;l+=h;for(let y=o;y!==l;y+=h)u?Ht(t,g,y,r):Ht(t,y,g,r),m+=p,m>=d&&(g+=_,m-=d)}function qa(t,e,n,s,i,r){const o=Math.min(e,s),a=Math.max(e,s),l=Math.min(n,i),f=Math.max(n,i);for(let u=l;u<=f;u++)for(let d=o;d<=a;d++)Ht(t,d,u,r);return t}function Ka(t,e,n,s,i,r){return zn(t,e,n,s,n,r),zn(t,s,n,s,i,r),zn(t,s,i,e,i,r),zn(t,e,i,e,n,r),t}function Od(t,e,n,s,i,r,o=!1){return o?qa(t,e,n,s,i,r):Ka(t,e,n,s,i,r)}function Za(t,e,n,s,i,r){let o=Math.abs(s-e),a=Math.abs(i-n),l=a&1,f=4*(1-o)*a*a,u=4*(l+1)*o*o,d=f+u+l*o*o,p;e>s&&(e=s,s+=o),n>i&&(n=i),n+=(a+1)/2,i=n-l,o*=8*o,l=8*a*a;do{for(let h=e;h<s;h++)Ht(t,h,n,r),Ht(t,h,i,r);p=2*d,p<=u&&(n++,i--,d+=u+=o),(p>=f||2*d>u)&&(e++,s--,d+=f+=l)}while(e<=s);for(;n-i<a;)Ht(t,e-1,n,r),Ht(t,s+1,n++,r),Ht(t,e-1,i,r),Ht(t,s+1,i--,r);return t}function Ga(t,e,n,s,i,r){let o=Math.abs(s-e),a=Math.abs(i-n),l=a&1,f=4*(1-o)*a*a,u=4*(l+1)*o*o,d=f+u+l*o*o,p;e>s&&(e=s,s+=o),n>i&&(n=i),n+=(a+1)/2,i=n-l,o*=8*o,l=8*a*a;do Ht(t,s,n,r),Ht(t,e,n,r),Ht(t,e,i,r),Ht(t,s,i,r),p=2*d,p<=u&&(n++,i--,d+=u+=o),(p>=f||2*d>u)&&(e++,s--,d+=f+=l);while(e<=s);for(;n-i<a;)Ht(t,e-1,n,r),Ht(t,s+1,n++,r),Ht(t,e-1,i,r),Ht(t,s+1,i--,r);return t}function Pd(t,e,n,s,i,r,o=!1){return o?Za(t,e,n,s,i,r):Ga(t,e,n,s,i,r)}function Ld(t,e){if(t.data.length!==e.data.length)return!1;for(let n=0;n<t.data.length;n++)if(t.data[n]!==e.data[n])return!1;return!0}function zd(t){return new ImageData(t.data.slice(),t.width,t.height)}function Ya(t,e){t.data.set(e.data,0)}function Fd(t,e){const n=e.getContext("2d"),s=n.getImageData(0,0,n.canvas.width,n.canvas.height);Ya(t,s)}function Md(t,e){e.getContext("2d").putImageData(t,0,0)}function Dd(t,e,n,s){let i=e,r=n;Number.isInteger(e)||(i=e<0?Math.ceil(e):Math.floor(e)),Number.isInteger(n)||(r=n<0?Math.ceil(n):Math.floor(e));const o=new Uint32Array(t.data.buffer),a=new Uint32Array(t.data.slice().buffer);for(let l=0;l<t.height;l++)for(let f=0;f<t.width;f++){let u=(l-r)%t.height;u<0&&(u+=t.height);let d=(f-i)%t.width;d<0&&(d+=t.width);const p=u*t.width+d,h=l*t.width+f;a[h]=o[p]}o.set(a,0)}const Pt={getOffset:Xn,putColor:Ht,getColor:Fs,replaceColor:Wa,replaceColorAt:Ad,line:zn,strokeRect:Ka,fillRect:qa,rect:Od,strokeEllipse:Ga,fillEllipse:Za,clear:Id,paint:Td,fill:Rd,ellipse:Pd,equals:Ld,copy:Ya,copyFromCanvas:Fd,copyToCanvas:Md,clone:zd,translate:Dd},ar=new Map([["black","#000000"],["silver","#c0c0c0"],["gray","#808080"],["white","#ffffff"],["maroon","#800000"],["red","#ff0000"],["purple","#800080"],["fuchsia","#ff00ff"],["green","#008000"],["lime","#00ff00"],["olive","#808000"],["yellow","#ffff00"],["navy","#000080"],["blue","#0000ff"],["teal","#008080"],["aqua","#00ffff"],["orange","#ffa500"],["aliceblue","#f0f8ff"],["antiquewhite","#faebd7"],["aquamarine","#7fffd4"],["azure","#f0ffff"],["beige","#f5f5dc"],["bisque","#ffe4c4"],["blanchedalmond","#ffebcd"],["blueviolet","#8a2be2"],["brown","#a52a2a"],["burlywood","#deb887"],["cadetblue","#5f9ea0"],["chartreuse","#7fff00"],["chocolate","#d2691e"],["coral","#ff7f50"],["cornflowerblue","#6495ed"],["cornsilk","#fff8dc"],["crimson","#dc143c"],["cyan","#00ffff"],["darkblue","#00008b"],["darkcyan","#008b8b"],["darkgoldenrod","#b8860b"],["darkgray","#a9a9a9"],["darkgreen","#006400"],["darkgrey","#a9a9a9"],["darkkhaki","#bdb76b"],["darkmagenta","#8b008b"],["darkolivegreen","#556b2f"],["darkorange","#ff8c00"],["darkorchid","#9932cc"],["darkred","#8b0000"],["darksalmon","#e9967a"],["darkseagreen","#8fbc8f"],["darkslateblue","#483d8b"],["darkslategray","#2f4f4f"],["darkslategrey","#2f4f4f"],["darkturquoise","#00ced1"],["darkviolet","#9400d3"],["deeppink","#ff1493"],["deepskyblue","#00bfff"],["dimgray","#696969"],["dimgrey","#696969"],["dodgerblue","#1e90ff"],["firebrick","#b22222"],["floralwhite","#fffaf0"],["forestgreen","#228b22"],["gainsboro","#dcdcdc"],["ghostwhite","#f8f8ff"],["gold","#ffd700"],["goldenrod","#daa520"],["greenyellow","#adff2f"],["grey","#808080"],["honeydew","#f0fff0"],["hotpink","#ff69b4"],["indianred","#cd5c5c"],["indigo","#4b0082"],["ivory","#fffff0"],["khaki","#f0e68c"],["lavender","#e6e6fa"],["lavenderblush","#fff0f5"],["lawngreen","#7cfc00"],["lemonchiffon","#fffacd"],["lightblue","#add8e6"],["lightcoral","#f08080"],["lightcyan","#e0ffff"],["lightgoldenrodyellow","#fafad2"],["lightgray","#d3d3d3"],["lightgreen","#90ee90"],["lightgrey","#d3d3d3"],["lightpink","#ffb6c1"],["lightsalmon","#ffa07a"],["lightseagreen","#20b2aa"],["lightskyblue","#87cefa"],["lightslategray","#778899"],["lightslategrey","#778899"],["lightsteelblue","#b0c4de"],["lightyellow","#ffffe0"],["limegreen","#32cd32"],["linen","#faf0e6"],["magenta","#ff00ff"],["mediumaquamarine","#66cdaa"],["mediumblue","#0000cd"],["mediumorchid","#ba55d3"],["mediumpurple","#9370db"],["mediumseagreen","#3cb371"],["mediumslateblue","#7b68ee"],["mediumspringgreen","#00fa9a"],["mediumturquoise","#48d1cc"],["mediumvioletred","#c71585"],["midnightblue","#191970"],["mintcream","#f5fffa"],["mistyrose","#ffe4e1"],["moccasin","#ffe4b5"],["navajowhite","#ffdead"],["oldlace","#fdf5e6"],["olivedrab","#6b8e23"],["orangered","#ff4500"],["orchid","#da70d6"],["palegoldenrod","#eee8aa"],["palegreen","#98fb98"],["paleturquoise","#afeeee"],["palevioletred","#db7093"],["papayawhip","#ffefd5"],["peachpuff","#ffdab9"],["peru","#cd853f"],["pink","#ffc0cb"],["plum","#dda0dd"],["powderblue","#b0e0e6"],["rosybrown","#bc8f8f"],["royalblue","#4169e1"],["saddlebrown","#8b4513"],["salmon","#fa8072"],["sandybrown","#f4a460"],["seagreen","#2e8b57"],["seashell","#fff5ee"],["sienna","#a0522d"],["skyblue","#87ceeb"],["slateblue","#6a5acd"],["slategray","#708090"],["slategrey","#708090"],["snow","#fffafa"],["springgreen","#00ff7f"],["steelblue","#4682b4"],["tan","#d2b48c"],["thistle","#d8bfd8"],["tomato","#ff6347"],["transparent","#00000000"],["turquoise","#40e0d0"],["violet","#ee82ee"],["wheat","#f5deb3"],["whitesmoke","#f5f5f5"],["yellowgreen","#9acd32"],["rebeccapurple","#663399"]]);function Nd(t,[e,n,s,i]){const r=s/100,o=n/100,a=(1-Math.abs(2*r-1))*o,l=e/60,f=a*(1-Math.abs(l%2-1));let u,d,p;l>=0&&l<1?[u,d,p]=[a,f,0]:l>=1&&l<2?[u,d,p]=[f,a,0]:l>=2&&l<3?[u,d,p]=[0,a,f]:l>=3&&l<4?[u,d,p]=[0,f,a]:l>=4&&l<5?[u,d,p]=[f,0,a]:l>=5&&l<6&&([u,d,p]=[a,0,f]);const h=r-a/2;return wt.set(t,u+h,d+h,p+h,i)}function Bd(t){return t.toLowerCase()==="currentcolor"}function Xa(t){return t.toLowerCase()==="none"}function Ud(t,e=ar){return e.has(t)}function Ja(t){return t.startsWith("#")?/^[a-f0-9]+$/i.test(t.slice(1))&&t.length===4||t.length===5||t.length===7||t.length===9:!1}function jd(t,e,n){if(n!==1&&n!==2)throw new Error("Invalid hex channel size");const s=t.slice(e,e+n);return n===1?parseInt(s+s,16)/255:parseInt(s,16)/255}function gs(t,e,n){const s=[];for(let i=1;i<1+e*n;i+=n)s.push(jd(t,i,n));return s.length===3&&s.push(1),s}function Qa(t){if(!Ja(t))throw new Error("Invalid hex color");switch(t.length){case 4:return gs(t,3,1);case 5:return gs(t,4,1);case 7:return gs(t,3,2);case 9:return gs(t,4,2);default:throw new Error("")}}function Hd(t,e=ar){return Qa(e.get(t))}function tl(t){return/^[-+]?[0-9]+(?:\.[0-9]+)?%$/.test(t)}function Vd(t){return parseFloat(t.slice(0,-1))/100}function Wd(t){return/^[-+]?[0-9]+(?:\.[0-9]+)?$/.test(t)}function ti(t){return tl(t)||Wd(t)||Xa(t)}function el(t,e){return Xa(t)?0:tl(t)?Vd(t):e<3?parseFloat(t)/255:Math.max(0,Math.min(1,parseFloat(t)))}function qd(t){const e=t.match(/^(rgba?)\((.*?)\)$/i);if(e){const[,n,s]=e,i=s.split(/\s*[,/ ]\s*/g);return n==="rgba"&&i.length<4?!1:i.every(r=>ti(r))}return!1}function Kd(t){const e=t.match(/^(rgba?)\((.*?)\)$/i);if(e){const[,n,s]=e,i=s.split(/\s*[,/ ]\s*/g);if(!i.every(o=>ti(o)))throw new Error("Invalid channel values");if(n==="rgba"&&i.length<4)throw new Error("Invalid amount of channels");const r=i.map((o,a)=>el(o,a));return r.length===3&&r.push(1),r}throw new Error("Invalid rgb or rgba value")}function Zd(t){const e=t.match(/^(hsla?)\((.*?)\)$/i);if(e){const[,n,s]=e,i=s.split(/\s*[,/ ]\s*/g);return n==="hsla"&&i.length<4?!1:i.every(r=>ti(r))}return!1}function Gd(t){const e=t.match(/^(hsla?)\((.*?)\)$/i);if(e){const[,n,s]=e,i=s.split(/\s*[,/ ]\s*/g);if(!i.every(o=>ti(o)))throw new Error("Invalid channel values");if(n==="hsla"&&i.length<4)throw new Error("Invalid amount of channels");const r=i.map((o,a)=>el(o,a));return r.length===3&&r.push(1),Nd([0,0,0,0],r)}throw new Error("Invalid rgb or rgba value")}function Ms(t,e=ar){if(Bd(t))throw new Error("Error: currentcolor needs to be computed, try using window.getComputedStyle");if(Ud(t,e))return Hd(t,e);if(Ja(t))return Qa(t);if(qd(t))return Kd(t);if(Zd(t))return Gd(t);throw new Error("Unsupported color definition")}function Yd(t){return(t*255).toString(16).padStart(2,0)}function Ao(t){return`${(t*100).toFixed(2)}%`}function Xd(t){return(t*255).toFixed(2)}function Li(t){return t.toFixed(2)}function nl(t,e){return e<4?Xd(t):Li(t)}function sl(t,e,n){return e===0?Li(al(n)):e===1?Ao(saturation(n)):e===2?Ao(lightness(n)):Li(t)}function Jd(t){return"#"+t.map(Yd).join("")}function Qd(t){return`rgba(${t.map(nl).join(",")})`}function th(t){return`rgb(${t.slice(0,3).map(nl).join(",")})`}function eh(t){return`hsla(${t.map(sl).join(",")})`}function nh(t){return`hsla(${t.slice(0,3).map(sl).join(",")})`}function sh(t,e="hex"){switch(e){default:case"rgba":return Qd(t);case"rgb":return th(t);case"hsla":return eh(t);case"hsl":return nh(t);case"hex":return Jd(t)}}function ih(t,e,n,s){const i=Math.min(1,Math.max(0,n/100)),r=Math.min(1,Math.max(0,e/100)),o=(1-Math.abs(2*i-1))*r,a=Math.min(6,Math.max(0,t/60)),l=o*(1-Math.abs(a%2-1));let f,u,d;a>=0&&a<1?[f,u,d]=[o,l,0]:a>=1&&a<2?[f,u,d]=[l,o,0]:a>=2&&a<3?[f,u,d]=[0,o,l]:a>=3&&a<4?[f,u,d]=[0,l,o]:a>=4&&a<5?[f,u,d]=[l,0,o]:a>=5&&a<6&&([f,u,d]=[o,0,l]);const p=i-o/2;return ei(f+p,u+p,d+p,s)}function rh(t=0,e=0,n=0,s=255){return ei(t/255,e/255,n/255,s/255)}function ei(t=0,e=0,n=0,s=1){return[t,e,n,s]}function lr(t,e,n,s,i){return t[0]=e,t[1]=n,t[2]=s,t[3]=i,t}function oh(t){return lr(t,0,0,0,1)}function ah(t,[e,n,s,i]){return lr(t,e,n,ba)}function lh([t,e,n,s]){return ei(t,e,n,s)}function es([t,e,n]){return Math.max(t,e,n)}function ni([t,e,n]){return Math.min(t,e,n)}function il(t){return(es(t)+ni(t))/2}function ch(t){return 1-ni(t)/es(t)}function uh([t,e,n]){return(t+e+n)/3}const rl=il;function ol(t){return es(t)-ni(t)}const cr=ol;function al(t){const e=cr(t),n=es(t),[s,i,r]=t;if(e===0)return 0;let o=0;return n===s?o=(i-r)/e%6:n===i?o=(r-s)/e+2:n===r&&(o=(s-i)/e+4),o*60}function fh(t){const e=rl(t),n=cr(t);return e===1||e===0?0:n/(1-Math.abs(2*e-1))}function ll([t,e,n,s]){return new Uint8Array([t*255,e*255,n*255,s*255])}function dh(t){return ll(Ms(t))}function hh(t,e){if(t===e)return!0;const[n,s,i,r]=Ms(t),[o,a,l,f]=Ms(e);return n===o&&s===a&&i===l&&r===f}const wt={fromHSLA:ih,fromRGBA:rh,create:ei,set:lr,reset:oh,copy:ah,clone:lh,average:uh,max:es,min:ni,mid:il,range:ol,chroma:cr,hue:al,lightness:rl,saturationHSV:ch,saturation:fh,asUint8:ll,toUint8:dh,parse:Ms,stringify:sh,equals:hh};function ph(t,e,n){return Sd.create(t,e,"2d",n)}function fn(t,e){const n=t.getImageData(0,0,t.canvas.width,t.canvas.height);return e(n),t.putImageData(n,0,0),t}function mh(t,e){const n=e.getImageData(0,0,e.canvas.width,e.canvas.height);t.putImageData(n,0,0)}function _h(t,e){t.clearRect(0,0,t.canvas.width,t.canvas.height),t.drawImage(e,0,0)}function gh(t,e,n){const s=t.getImageData(0,0,t.canvas.width,t.canvas.height),i=Pt.getColor(s,e,n).map(r=>r/255);return wt.stringify(i,"rgba")}function vh(t,e,n,s){return fn(t,i=>Pt.putColor(i,e,n,wt.asUint8(wt.parse(s))))}function yh(t,e,n,s,i=!0){return fn(t,r=>{i?Pt.fill(r,e,n,wt.asUint8(wt.parse(s))):Pt.replaceColorAt(r,e,n,wt.asUint8(wt.parse(s)))})}function bh(t,e,n,s,i,r){return fn(t,o=>{Pt.line(o,e,n,s,i,wt.asUint8(wt.parse(r)))})}function wh(t,e,n,s,i,r,o){return fn(t,a=>{Pt.rect(a,e,n,s,i,wt.asUint8(wt.parse(r)),o)})}function xh(t,e,n,s,i,r,o){return fn(t,a=>{Pt.ellipse(a,e,n,s,i,wt.asUint8(wt.parse(r)),o)})}function kh(t,e,n,s){return fn(t,i=>{Pt.translate(i,e,n,s)})}const cl={create:ph,replaceImageData:fn,swapImageData:mh,putImage:_h,getColor:gh,putColor:vh,fill:yh,line:bh,rectangle:wh,ellipse:xh,translate:kh};function ur(t,e){const n=document.createElement("canvas");return n.width=t,n.height=e,n}function Ch(t,e,...n){const s=ur(t,e);return n.forEach(i=>s.classList.add(i)),s}function Sh(t,e=1){let n=!1;const s=Math.floor(t.clientWidth*e);t.width!==s&&(t.width=s,n=!0);const i=Math.floor(t.clientHeight*e);return t.height!==i&&(t.height=i,n=!0),n}function Eh(t,e,n){let s=!1;const i=Math.floor(e);t.width!==i&&(t.width=i,s=!0);const r=Math.floor(n);return t.height!==r&&(t.height=r,s=!0),s}function $h(t){const e=ur(t.width,t.height);return ul(e,t),e}function ul(t,e){cl.swapImageData(t.getContext("2d"),e.getContext("2d"))}function Ah(t,e,n){return new Promise(s=>t.toBlob(i=>s(i),e,n))}const jt={create:ur,createWithClasses:Ch,resize:Sh,resizeTo:Eh,duplicate:$h,swap:ul,createBlob:Ah};function Ih({name:t="Unnamed",visible:e=!0,width:n,height:s,tileWidth:i,tileHeight:r}={}){const o=Q(un()),a=Q(t),l=Q(e),f=new Uint32Array(n*s),u=jt.create(n*i,s*r),d=u.getContext("2d");return{id:o,name:a,visible:l,data:f,canvas:u,context:d}}function Th({name:t,visible:e,data:n,width:s,height:i,tileWidth:r,tileHeight:o}){const a=Q(un()),l=Q(t),f=Q(e),u=n.slice(),d=jt.create(s*r,i*o),p=d.getContext("2d");return{id:a,name:l,visible:f,data:u,canvas:d,context:p}}const Rh={create:Ih,duplicate:Th};function Es(t,e,n){e.forEach(s=>t.addEventListener(s,n))}function Fn(t,e,n){e.forEach(s=>t.removeEventListener(s,n))}function Oh(t,e,n){fe(()=>Es(t,e,n)),ts(()=>Fn(t,e,n))}function fr(t,e,n="down"){const s=Ut({x:0,y:0}),i=Ut({x:0,y:0}),r=Ut({x:0,y:0}),o=Ut({x:0,y:0}),a=Ut({x:0,y:0}),l=Ut({x:0,y:0}),f=Ut({x:0,y:0}),u=Ut({x:0,y:0}),d=Ut({x:0,y:0}),p=Ut({x:0,y:0}),h=Ut({x:0,y:0}),_=Ut({x:0,y:0}),m=Q(0),g=Q(""),y=Q(""),x=Q(0),E=Q(0),O=Q(0),P=Q(0),j=Q(0),M=Q(),N=Q(),D=Tt(()=>y.value==="mouse"),Y=Tt(()=>y.value==="pen"),rt=Tt(()=>y.value==="touch"),R=Tt(()=>navigator.maxTouchPoints>1),V=et=>{n==="down"&&(et.type==="pointerdown"?Es(window,["pointermove","pointerup"],V):et.type==="pointerup"&&Fn(window,["pointermove","pointerup"],V)),s.x=et.pageX,s.y=et.pageY,u.x=et.screenX,u.y=et.screenY,i.x=et.clientX,i.y=et.clientY,d.x=et.tiltX,d.y=et.tiltY,p.x=et.movementX,p.y=et.movementY,r.x=et.offsetX,r.y=et.offsetY,et.type==="pointermove"||et.type==="pointerup"?(o.x=a.x,o.y=a.y,a.x=Math.floor(r.x),a.y=Math.floor(r.y),_.x=Math.floor(a.x-o.x),_.y=Math.floor(a.y-o.y),et.type==="pointerup"&&(f.x=a.x,f.y=a.y)):et.type==="pointerdown"&&(l.x=Math.floor(r.x),l.y=Math.floor(r.y),o.x=a.x=Math.floor(r.x),o.y=a.y=Math.floor(r.y),_.x=0,_.y=0),M.value=et.target,N.value=et.currentTarget,g.value=et.pointerId,y.value=et.pointerType,j.value=et.isPrimary,x.value=et.pressure,E.value=et.tangentialPressure,O.value=et.width,P.value=et.height,m.value=et.twist,e(et)};function v(){n==="down"?Es(t,["pointerdown"],V):Es(t,["pointerdown","pointerup","pointermove"],V)}function K(){n==="down"?(Fn(t,["pointerdown"],V),Fn(window,["pointermove","pointerup"],V)):Fn(t,["pointerdown","pointerup","pointermove"],V)}return{startListening:v,stopListening:K,target:M,currentTarget:N,page:s,client:i,offset:r,start:l,end:f,current:a,previous:o,relative:_,absolute:h,screen:u,movement:p,tilt:d,twist:m,id:g,type:y,pressure:x,tangentialPressure:E,width:O,height:P,isPrimary:j,isMouse:D,isPen:Y,isTouch:rt,isMultiTouch:R}}const Ph={NORMAL:"source-over",MULTIPLY:"multiply",SCREEN:"screen",OVERLAY:"overlay",DARKEN:"darken",LIGHTEN:"lighten",COLOR_DODGE:"color-dodge",COLOR_BURN:"color-burn",HARD_LIGHT:"hard-light",SOFT_LIGHT:"soft-light",DIFFERENCE:"difference",EXCLUSION:"exclusion",HUE:"hue",SATURATION:"saturation",COLOR:"color",LUMINOSITY:"luminosity"};function dr({layer:t=null,layers:e=[],Layer:n}={}){if(n===void 0&&typeof n!="function")throw new Error("Invalid Layer type");const s=Q(t),i=Ut(e),r=Q(null);function o(h){const _=le(n.create(h)),m=i.findIndex(g=>g.id===s.id);s.value=_,i.splice(m+1,0,_)}function a(h){const _=i.findIndex(g=>g.id===h.id);if(_<0)throw new Error(`Layer with ${id} not found`);const[m]=i.splice(_,1);console.log(m)}function l(h){const _=le(n.duplicate(h)),m=i.findIndex(g=>g.id===s.id);s.value=_,i.splice(m,0,_),r.value=null}function f(h,_){const[m]=i.splice(h,1);i.splice(_,0,m)}function u(h){h.visible=!h.visible}function d(){const h=i.findIndex(m=>m===m);if(h<0)throw new Error("Cannot find layer index");const[_]=i.splice(h,1);i.splice(h+1,0,_)}function p(){const h=i.findIndex(m=>m===m);if(h<0)throw new Error("Cannot find layer index");const[_]=i.splice(h,1);i.splice(h-1,0,_)}return{current:s,list:i,settings:r,add:o,remove:a,duplicate:l,swap:f,toggle:u,moveUp:d,moveDown:p}}function hr({max:t=1024}={}){const e=Ut([]),n=Q(-1),s=Tt(()=>n.value>=0&&e.length>0),i=Tt(()=>n.value<e.length-1);function r(l){if(n.value<e.length-1){const f=e.length-n.value;e.splice(n.value,f,l)}else e.push(l);if(e.length>t){const f=e.length-t;e.splice(0,f)}n.value=e.length-1}function o(){if(n.value<0)return;const l=e[n.value];return n.value--,l}function a(){return n.value===e.length-1?void 0:(n.value++,e[n.value])}return{canUndo:s,canRedo:i,list:e,index:n,add:r,undo:o,redo:a}}const vt={PENCIL:"pencil",ERASER:"eraser",FILL:"fill",SHAPE:"shape",TRANSFORM:"transform",SELECT:"select",DROPPER:"dropper"},Xe=ir("tileMapDocument",{state:()=>({canvas:null,pointer:null,tool:vt.PENCIL,position:Vt.create(),tileMap:{kind:kd.ORTHOGONAL,width:256,height:256},tileSheet:{width:16,height:16,selectedIndex:-1,selected:null,emptyTileData:null,tiles:[]},history:hr(),layers:dr({Layer:Rh})}),getters:{},actions:{redrawAll(){const{canvas:t,tileMap:e,tileSheet:n,layers:s}=this;if(jt.resize(t),n.tiles.length===0)return;const i=t.getContext("2d");i.clearRect(0,0,t.width,t.height),i.save(),i.translate(this.position[0],this.position[1]),i.strokeStyle="#0cf",i.strokeRect(0,0,e.width*n.width,e.height*n.height);for(const r of s.list)i.drawImage(r.canvas,0,0);i.restore()},redrawLayerPartially(t,e,n,s,i){const{tileMap:r,tileSheet:o}=this,{context:a}=t;for(let l=n;l<=i;l++)for(let f=e;f<=s;f++){const u=l*r.width+f,d=t.data[u];(d-1<0||d-1>=o.tiles.length)&&a.putImageData(emptyTile,f*o.width,l*o.height);const p=o.tiles[d-1];!p||a.putImageData(p.imageData,f*o.width,l*o.height)}},redrawLayer(t){const{tileMap:e,tileSheet:n}=this,{context:s}=t;s.clearRect(0,0,s.canvas.width,s.canvas.height);for(let i=0;i<e.height;i++)for(let r=0;r<e.width;r++){const o=i*e.width+r,a=t.data[o];if(a-1>n.tiles.length)continue;const l=n.tiles[a-1];!l||s.putImageData(l.imageData,r*n.width,i*n.height)}},create(t,e,n,s,i){if(!Number.isInteger(e)&&e<0)throw new Error("Invalid width value");if(!Number.isInteger(n)&&n<0)throw new Error("Invalid height value");if(!Number.isInteger(s)&&s<0)throw new Error("Invalid tileWidth value");if(!Number.isInteger(i)&&i<0)throw new Error("Invalid tileHeight value");this.tileMap.kind=t,this.tileMap.width=e,this.tileMap.height=n,this.tileSheet.width=s,this.tileSheet.height=i,this.tileSheet.emptyTileData=new ImageData(s,i),this.layers.add({name:"Background",width:e,height:n,tileWidth:s,tileHeight:i}),this.canvas=jt.createWithClasses(s,i,"tilemap-canvas"),this.pointer=fr(this.canvas,this.useTool),this.pointer.startListening()},moveTo(t,e){Vt.set(this.position,t,e)},moveBy(t,e){Vt.add(this.position,this.position,[t,e])},setTool(t){this.tool=t},useTool(t){if(t.ctrlKey||t.buttons===4){this.pointer.pressure>0&&this.moveBy(t.movementX,t.movementY);return}if(this.tool===vt.PENCIL){if(this.pointer.pressure>0){const e=Math.floor(this.pointer.current.x/this.tileSheet.width),n=Math.floor(this.pointer.current.y/this.tileSheet.height);this.setTileAt(this.tileSheet.selectedIndex+1,e,n),this.redrawLayerPartially(this.layers.current,e,n,e,n)}}else if(this.tool===vt.ERASER){if(this.pointer.pressure>0){const e=Math.floor(this.pointer.current.x/this.tileSheet.width),n=Math.floor(this.pointer.current.y/this.tileSheet.height);this.setTileAt(0,e,n),this.redrawLayerPartially(this.layers.current,e,n,e,n)}}else if(this.tool===vt.FILL&&this.pointer.pressure>0){const e=Math.floor(this.pointer.current.x/this.tileSheet.width),n=Math.floor(this.pointer.current.y/this.tileSheet.height);this.fillTileAt(this.tileSheet.selectedIndex+1,e,n),this.redrawLayer(this.layers.current)}this.redrawAll()},setTileAt(t,e,n){const s=n*this.tileMap.width+e;this.layers.current.data[s]=t},fillTileAt(t,e,n){const s=n*this.tileMap.width+e,i=this.layers.current.data[s];this.layers.current.data[s]=t;const r=new Uint8ClampedArray(this.tileMap.width*this.tileMap.height),o=[];for(e>0&&o.push([e-1,n]),n>0&&o.push([e,n-1]),e<this.tileMap.width-1&&o.push([e+1,n]),n<this.tileMap.height-1&&o.push([e,n+1]);o.length>0;){const[a,l]=o.pop(),f=l*this.tileMap.width+a;r[f]||(r[f]=1,this.layers.current.data[f]===i&&(this.layers.current.data[f]=t,a>0&&!r[l*this.tileMap.width+(a-1)]&&o.push([a-1,l]),l>0&&!r[(l-1)*this.tileMap.width+a]&&o.push([a,l-1]),a<this.tileMap.width-1&&!r[l*this.tileMap.width+(a+1)]&&o.push([a+1,l]),l<this.tileMap.height-1&&!r[(l+1)*this.tileMap.width+a]&&o.push([a,l+1])))}},selectTile(t,e){this.tileSheet.selectedIndex=e,this.tileSheet.selected=t},async loadTileSheet(){try{const t=await window.showOpenFilePicker({types:[{description:"Tile sheets",accept:{"image/*":[".png",".gif",".jpeg",".jpg"]}}],multiple:!0}),e=await Promise.all(t.map(a=>a.getFile())),n=await Promise.all(e.map(a=>createImageBitmap(a))),s=await Promise.all(n.flatMap(a=>{const l=this.tileSheet.width,f=this.tileSheet.height,u=Math.floor(a.width/l),d=Math.floor(a.height/f),p=[];for(let h=0;h<d;h++){const _=h*f;for(let m=0;m<u;m++){const g=m*l;p.push(createImageBitmap(a,g,_,l,f))}}return p})),r=jt.create(this.tileSheet.width,this.tileSheet.height).getContext("2d"),o=s.map(a=>{r.clearRect(0,0,r.canvas.width,r.canvas.height),r.drawImage(a,0,0);const l=r.getImageData(0,0,r.canvas.width,r.canvas.height);return{id:un(),imageData:l,imageBitmap:a}});this.tileSheet.tiles.push(...o)}catch(t){console.error(t)}},async saveTileSheet(){try{await window.showSaveFilePicker({})}catch(t){console.error(t)}}}});function Lh(t,e,n){fe(()=>t.addEventListener(e,n)),ts(()=>t.removeEventListener(e,n))}function zh(t){return["INPUT","SELECT","TEXTAREA"].includes(t.nodeName)}function pr(t,e=window){Lh(e,"keydown",n=>{if(!zh(document.activeElement))for(const[s,i]of t){const[r,...o]=s;if(n.key.toLowerCase()===r&&o.every(a=>n[`${a}Key`])){n.preventDefault(),i(n);break}}})}function fl(t){let e=1/0,n=-1/0,s=1/0,i=-1/0;for(const r of t.touches)e=Math.min(r.clientX,e),n=Math.max(r.clientX,n),s=Math.min(r.clientY,s),i=Math.max(r.clientY,i);return[e,n,s,i]}function Io(t){const[e,n,s,i]=fl(t),r=n-e,o=i-s;return[r,o]}function To(t){if(t.touches.length>1){const[e,n,s,i]=fl(t),r=e+(n-e)*.5,o=s+(i-s)*.5;return[r,o]}else{const[e]=t.touches;return[e.clientX,e.clientY]}}function dl(t){const e=Q(1),n=Q(0),s=Q(0),i=Ut([0,0]);if(navigator.maxTouchPoints===0)return console.warn("Touch events not initialized"),{supported:!1,distance:e,angle:n};let r=Vt.create(),o=Vt.create(),a=1/0,l=1/0;return console.info("Touch events initialized"),Oh(t,["touchstart","touchmove","touchcancel","touchend"],f=>{if(s.value=f.touches.length,f.type==="touchstart"){if(f.touches.length>=2){const[u,d]=Io(f),[p,h]=To(f);Vt.copy(r,o),Vt.set(r,p,h),a=Math.atan2(d,u),l=Math.hypot(u,d),e.value=1,n.value=0}}else if(f.type==="touchmove"){if(f.touches.length>=2){const[u,d]=Io(f);Number.isFinite(a)||(a=Math.atan2(d,u)),Number.isFinite(l)||(l=Math.hypot(u,d));const[p,h]=To(f);Vt.set(o,p,h),Vt.subtract(i,o,r),Vt.copy(r,o);const _=Math.hypot(u/l,d/l),m=Math.atan2(d,u)-a;e.value=_,n.value=m,a=Math.atan2(d,u),l=Math.hypot(u,d)}}else(f.type==="touchend"||f.type==="touchcancel")&&(a=1/0,l=1/0)}),{supported:!1,fingers:s,distance:e,angle:n,movement:i}}function hl(t,e=window){fe(()=>{Ft(e)?e.value.addEventListener("wheel",n=>t(n)):e.addEventListener("wheel",n=>t(n))}),ts(()=>{Ft(e)?e.value.removeEventListener("wheel",n=>t(n)):e.removeEventListener("wheel",n=>t(n))})}const bt=(t,e)=>{const n=t.__vccOpts||t;for(const[s,i]of e)n[s]=i;return n},Fh={class:"panel"},Mh={class:"header"},Dh={class:"title"},Nh={class:"actions"},Bh={__name:"Panel",props:{title:{type:String,required:!0},scrollable:{type:Boolean,default:!0,required:!1}},setup(t){return(e,n)=>(H(),X("div",Fh,[k("div",Mh,[k("div",Dh,Wt(t.title),1),k("div",Nh,[Fe(e.$slots,"actions",{},void 0,!0)])]),k("div",{class:Ct(["content",{scrollable:t.scrollable}])},[Fe(e.$slots,"default",{},void 0,!0)],2)]))}},bn=bt(Bh,[["__scopeId","data-v-1bb86965"]]),Uh={},jh={class:"panels"};function Hh(t,e){return H(),X("div",jh,[Fe(t.$slots,"default")])}const mr=bt(Uh,[["render",Hh]]);const Vh={},Wh={class:"overlay"};function qh(t,e){return H(),X("div",Wh,[Fe(t.$slots,"default",{},void 0,!0)])}const _r=bt(Vh,[["render",qh],["__scopeId","data-v-726014cf"]]);const Kh=t=>(qt("data-v-eb897be6"),t=t(),Kt(),t),Zh={class:"modal"},Gh={class:"header"},Yh={class:"title"},Xh=Kh(()=>k("button",{type:"button",class:"close"},[k("i",{class:"bx bxs-message-square-x"})],-1)),Jh={class:"body"},Qh={class:"footer"},tp={__name:"Modal",props:{title:{type:String,required:!0}},setup(t){return(e,n)=>(H(),X("div",Zh,[k("div",Gh,[k("div",Yh,Wt(t.title),1),Xh]),k("div",Jh,[Fe(e.$slots,"default",{},void 0,!0)]),k("div",Qh,[Fe(e.$slots,"footer",{},void 0,!0)])]))}},gr=bt(tp,[["__scopeId","data-v-eb897be6"]]);const ep={},np={class:"tools"};function sp(t,e){return H(),X("div",np,[Fe(t.$slots,"default",{},void 0,!0)])}const vr=bt(ep,[["render",sp],["__scopeId","data-v-074bf518"]]);const ip={__name:"ToolToggle",props:{id:{type:String,required:!0},active:{type:Boolean,required:!1,default:!1}},setup(t){return(e,n)=>(H(),X("button",{type:"button",class:Ct(["tool",{active:t.active}]),onClick:n[0]||(n[0]=(...s)=>e.onClick&&e.onClick(...s))},[Fe(e.$slots,"default",{},void 0,!0)],2))}},Jt=bt(ip,[["__scopeId","data-v-d166d413"]]);function pl({initial:t=1,max:e=64,min:n=1,defaultStep:s=1}={}){const i=Q(t),r=Tt(()=>`${(i.value*100).toFixed(2)}%`);return{current:i,percentage:r,reset(){i.value=t},half(){i.value*=.5},double(){i.value*=2},increase(o=s){i.value<e&&(i.value+=o)},decrease(o=s){i.value>n&&(i.value-=o)},relative(o){i.value=i.value*o}}}const Se={PAUSED:"paused",PLAYING:"playing"};function rp({initialState:t=Se.PAUSED,initialTotal:e=1,initialCurrent:n=0,initialSpeed:s=12,initialLoop:i=!0,callback:r}={}){const o=Q(e),a=Q(n),l=Q(s),f=Q(t),u=Q(i),d=Tt(()=>f.value===Se.PAUSED),p=Tt(()=>f.value===Se.PLAYING),h=Tt(()=>o.value>1),_=Tt(()=>h&&a.value>0&&d),m=Tt(()=>h&&a.value<o.value-1&&d),g=Tt(()=>h&&a.value>0&&d),y=Tt(()=>h&&a.value<o.value-1&&d);let x=null;function E(){return 1e3/l.value}function O(){return x=setTimeout(j,E())}function P(){clearTimeout(x),x=null}function j(){a.value<o.value-1?a.value++:u.value?a.value=0:f.value=Se.PAUSED,typeof r=="function"&&r(),f.value===Se.PLAYING&&O()}function M(){return f.value!==Se.PAUSED?!1:(O(),f.value=Se.PLAYING,!0)}function N(){return f.value!==Se.PLAYING?!1:(P(),f.value=Se.PAUSED,!0)}function D(){return f.value===Se.PAUSED?M():N()}function Y(lt){if(lt<0||lt>=o.value)throw new Error(`Invalid frame number ${lt}`);a.value=lt}function rt(){a.value=0}function R(){a.value=o.value-1}function V(){a.value<o.value-1&&a.value++}function v(){a.value>0&&a.value--}const K=1024;function et(){return o.value<K?(o.value++,!0):!1}function G(){return o.value>0?(o.value--,!0):!1}return{total:o,current:a,speed:l,state:f,loop:u,isPaused:d,isPlaying:p,canPlay:h,canGoFirst:g,canGoLast:y,canGoNext:m,canGoPrevious:_,add:et,remove:G,play:M,pause:N,toggle:D,go:Y,last:R,first:rt,next:V,previous:v}}var vs=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ys(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var ml={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/(function(t,e){(function(n){t.exports=n()})(function(){return function n(s,i,r){function o(f,u){if(!i[f]){if(!s[f]){var d=typeof ys=="function"&&ys;if(!u&&d)return d(f,!0);if(a)return a(f,!0);var p=new Error("Cannot find module '"+f+"'");throw p.code="MODULE_NOT_FOUND",p}var h=i[f]={exports:{}};s[f][0].call(h.exports,function(_){var m=s[f][1][_];return o(m||_)},h,h.exports,n,s,i,r)}return i[f].exports}for(var a=typeof ys=="function"&&ys,l=0;l<r.length;l++)o(r[l]);return o}({1:[function(n,s,i){var r=n("./utils"),o=n("./support"),a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.encode=function(l){for(var f,u,d,p,h,_,m,g=[],y=0,x=l.length,E=x,O=r.getTypeOf(l)!=="string";y<l.length;)E=x-y,d=O?(f=l[y++],u=y<x?l[y++]:0,y<x?l[y++]:0):(f=l.charCodeAt(y++),u=y<x?l.charCodeAt(y++):0,y<x?l.charCodeAt(y++):0),p=f>>2,h=(3&f)<<4|u>>4,_=1<E?(15&u)<<2|d>>6:64,m=2<E?63&d:64,g.push(a.charAt(p)+a.charAt(h)+a.charAt(_)+a.charAt(m));return g.join("")},i.decode=function(l){var f,u,d,p,h,_,m=0,g=0,y="data:";if(l.substr(0,y.length)===y)throw new Error("Invalid base64 input, it looks like a data url.");var x,E=3*(l=l.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(l.charAt(l.length-1)===a.charAt(64)&&E--,l.charAt(l.length-2)===a.charAt(64)&&E--,E%1!=0)throw new Error("Invalid base64 input, bad content length.");for(x=o.uint8array?new Uint8Array(0|E):new Array(0|E);m<l.length;)f=a.indexOf(l.charAt(m++))<<2|(p=a.indexOf(l.charAt(m++)))>>4,u=(15&p)<<4|(h=a.indexOf(l.charAt(m++)))>>2,d=(3&h)<<6|(_=a.indexOf(l.charAt(m++))),x[g++]=f,h!==64&&(x[g++]=u),_!==64&&(x[g++]=d);return x}},{"./support":30,"./utils":32}],2:[function(n,s,i){var r=n("./external"),o=n("./stream/DataWorker"),a=n("./stream/Crc32Probe"),l=n("./stream/DataLengthProbe");function f(u,d,p,h,_){this.compressedSize=u,this.uncompressedSize=d,this.crc32=p,this.compression=h,this.compressedContent=_}f.prototype={getContentWorker:function(){var u=new o(r.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new l("data_length")),d=this;return u.on("end",function(){if(this.streamInfo.data_length!==d.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),u},getCompressedWorker:function(){return new o(r.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},f.createWorkerFrom=function(u,d,p){return u.pipe(new a).pipe(new l("uncompressedSize")).pipe(d.compressWorker(p)).pipe(new l("compressedSize")).withStreamInfo("compression",d)},s.exports=f},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(n,s,i){var r=n("./stream/GenericWorker");i.STORE={magic:"\0\0",compressWorker:function(){return new r("STORE compression")},uncompressWorker:function(){return new r("STORE decompression")}},i.DEFLATE=n("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(n,s,i){var r=n("./utils"),o=function(){for(var a,l=[],f=0;f<256;f++){a=f;for(var u=0;u<8;u++)a=1&a?3988292384^a>>>1:a>>>1;l[f]=a}return l}();s.exports=function(a,l){return a!==void 0&&a.length?r.getTypeOf(a)!=="string"?function(f,u,d,p){var h=o,_=p+d;f^=-1;for(var m=p;m<_;m++)f=f>>>8^h[255&(f^u[m])];return-1^f}(0|l,a,a.length,0):function(f,u,d,p){var h=o,_=p+d;f^=-1;for(var m=p;m<_;m++)f=f>>>8^h[255&(f^u.charCodeAt(m))];return-1^f}(0|l,a,a.length,0):0}},{"./utils":32}],5:[function(n,s,i){i.base64=!1,i.binary=!1,i.dir=!1,i.createFolders=!0,i.date=null,i.compression=null,i.compressionOptions=null,i.comment=null,i.unixPermissions=null,i.dosPermissions=null},{}],6:[function(n,s,i){var r=null;r=typeof Promise<"u"?Promise:n("lie"),s.exports={Promise:r}},{lie:37}],7:[function(n,s,i){var r=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",o=n("pako"),a=n("./utils"),l=n("./stream/GenericWorker"),f=r?"uint8array":"array";function u(d,p){l.call(this,"FlateWorker/"+d),this._pako=null,this._pakoAction=d,this._pakoOptions=p,this.meta={}}i.magic="\b\0",a.inherits(u,l),u.prototype.processChunk=function(d){this.meta=d.meta,this._pako===null&&this._createPako(),this._pako.push(a.transformTo(f,d.data),!1)},u.prototype.flush=function(){l.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},u.prototype.cleanUp=function(){l.prototype.cleanUp.call(this),this._pako=null},u.prototype._createPako=function(){this._pako=new o[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var d=this;this._pako.onData=function(p){d.push({data:p,meta:d.meta})}},i.compressWorker=function(d){return new u("Deflate",d)},i.uncompressWorker=function(){return new u("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(n,s,i){function r(h,_){var m,g="";for(m=0;m<_;m++)g+=String.fromCharCode(255&h),h>>>=8;return g}function o(h,_,m,g,y,x){var E,O,P=h.file,j=h.compression,M=x!==f.utf8encode,N=a.transformTo("string",x(P.name)),D=a.transformTo("string",f.utf8encode(P.name)),Y=P.comment,rt=a.transformTo("string",x(Y)),R=a.transformTo("string",f.utf8encode(Y)),V=D.length!==P.name.length,v=R.length!==Y.length,K="",et="",G="",lt=P.dir,J=P.date,pt={crc32:0,compressedSize:0,uncompressedSize:0};_&&!m||(pt.crc32=h.crc32,pt.compressedSize=h.compressedSize,pt.uncompressedSize=h.uncompressedSize);var U=0;_&&(U|=8),M||!V&&!v||(U|=2048);var B=0,ct=0;lt&&(B|=16),y==="UNIX"?(ct=798,B|=function(z,it){var nt=z;return z||(nt=it?16893:33204),(65535&nt)<<16}(P.unixPermissions,lt)):(ct=20,B|=function(z){return 63&(z||0)}(P.dosPermissions)),E=J.getUTCHours(),E<<=6,E|=J.getUTCMinutes(),E<<=5,E|=J.getUTCSeconds()/2,O=J.getUTCFullYear()-1980,O<<=4,O|=J.getUTCMonth()+1,O<<=5,O|=J.getUTCDate(),V&&(et=r(1,1)+r(u(N),4)+D,K+="up"+r(et.length,2)+et),v&&(G=r(1,1)+r(u(rt),4)+R,K+="uc"+r(G.length,2)+G);var at="";return at+=`
\0`,at+=r(U,2),at+=j.magic,at+=r(E,2),at+=r(O,2),at+=r(pt.crc32,4),at+=r(pt.compressedSize,4),at+=r(pt.uncompressedSize,4),at+=r(N.length,2),at+=r(K.length,2),{fileRecord:d.LOCAL_FILE_HEADER+at+N+K,dirRecord:d.CENTRAL_FILE_HEADER+r(ct,2)+at+r(rt.length,2)+"\0\0\0\0"+r(B,4)+r(g,4)+N+K+rt}}var a=n("../utils"),l=n("../stream/GenericWorker"),f=n("../utf8"),u=n("../crc32"),d=n("../signature");function p(h,_,m,g){l.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=_,this.zipPlatform=m,this.encodeFileName=g,this.streamFiles=h,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}a.inherits(p,l),p.prototype.push=function(h){var _=h.meta.percent||0,m=this.entriesCount,g=this._sources.length;this.accumulate?this.contentBuffer.push(h):(this.bytesWritten+=h.data.length,l.prototype.push.call(this,{data:h.data,meta:{currentFile:this.currentFile,percent:m?(_+100*(m-g-1))/m:100}}))},p.prototype.openedSource=function(h){this.currentSourceOffset=this.bytesWritten,this.currentFile=h.file.name;var _=this.streamFiles&&!h.file.dir;if(_){var m=o(h,_,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:m.fileRecord,meta:{percent:0}})}else this.accumulate=!0},p.prototype.closedSource=function(h){this.accumulate=!1;var _=this.streamFiles&&!h.file.dir,m=o(h,_,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(m.dirRecord),_)this.push({data:function(g){return d.DATA_DESCRIPTOR+r(g.crc32,4)+r(g.compressedSize,4)+r(g.uncompressedSize,4)}(h),meta:{percent:100}});else for(this.push({data:m.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},p.prototype.flush=function(){for(var h=this.bytesWritten,_=0;_<this.dirRecords.length;_++)this.push({data:this.dirRecords[_],meta:{percent:100}});var m=this.bytesWritten-h,g=function(y,x,E,O,P){var j=a.transformTo("string",P(O));return d.CENTRAL_DIRECTORY_END+"\0\0\0\0"+r(y,2)+r(y,2)+r(x,4)+r(E,4)+r(j.length,2)+j}(this.dirRecords.length,m,h,this.zipComment,this.encodeFileName);this.push({data:g,meta:{percent:100}})},p.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},p.prototype.registerPrevious=function(h){this._sources.push(h);var _=this;return h.on("data",function(m){_.processChunk(m)}),h.on("end",function(){_.closedSource(_.previous.streamInfo),_._sources.length?_.prepareNextSource():_.end()}),h.on("error",function(m){_.error(m)}),this},p.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},p.prototype.error=function(h){var _=this._sources;if(!l.prototype.error.call(this,h))return!1;for(var m=0;m<_.length;m++)try{_[m].error(h)}catch{}return!0},p.prototype.lock=function(){l.prototype.lock.call(this);for(var h=this._sources,_=0;_<h.length;_++)h[_].lock()},s.exports=p},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(n,s,i){var r=n("../compressions"),o=n("./ZipFileWorker");i.generateWorker=function(a,l,f){var u=new o(l.streamFiles,f,l.platform,l.encodeFileName),d=0;try{a.forEach(function(p,h){d++;var _=function(x,E){var O=x||E,P=r[O];if(!P)throw new Error(O+" is not a valid compression method !");return P}(h.options.compression,l.compression),m=h.options.compressionOptions||l.compressionOptions||{},g=h.dir,y=h.date;h._compressWorker(_,m).withStreamInfo("file",{name:p,dir:g,date:y,comment:h.comment||"",unixPermissions:h.unixPermissions,dosPermissions:h.dosPermissions}).pipe(u)}),u.entriesCount=d}catch(p){u.error(p)}return u}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(n,s,i){function r(){if(!(this instanceof r))return new r;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var o=new r;for(var a in this)typeof this[a]!="function"&&(o[a]=this[a]);return o}}(r.prototype=n("./object")).loadAsync=n("./load"),r.support=n("./support"),r.defaults=n("./defaults"),r.version="3.10.1",r.loadAsync=function(o,a){return new r().loadAsync(o,a)},r.external=n("./external"),s.exports=r},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(n,s,i){var r=n("./utils"),o=n("./external"),a=n("./utf8"),l=n("./zipEntries"),f=n("./stream/Crc32Probe"),u=n("./nodejsUtils");function d(p){return new o.Promise(function(h,_){var m=p.decompressed.getContentWorker().pipe(new f);m.on("error",function(g){_(g)}).on("end",function(){m.streamInfo.crc32!==p.decompressed.crc32?_(new Error("Corrupted zip : CRC32 mismatch")):h()}).resume()})}s.exports=function(p,h){var _=this;return h=r.extend(h||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:a.utf8decode}),u.isNode&&u.isStream(p)?o.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):r.prepareContent("the loaded zip file",p,!0,h.optimizedBinaryString,h.base64).then(function(m){var g=new l(h);return g.load(m),g}).then(function(m){var g=[o.Promise.resolve(m)],y=m.files;if(h.checkCRC32)for(var x=0;x<y.length;x++)g.push(d(y[x]));return o.Promise.all(g)}).then(function(m){for(var g=m.shift(),y=g.files,x=0;x<y.length;x++){var E=y[x],O=E.fileNameStr,P=r.resolve(E.fileNameStr);_.file(P,E.decompressed,{binary:!0,optimizedBinaryString:!0,date:E.date,dir:E.dir,comment:E.fileCommentStr.length?E.fileCommentStr:null,unixPermissions:E.unixPermissions,dosPermissions:E.dosPermissions,createFolders:h.createFolders}),E.dir||(_.file(P).unsafeOriginalName=O)}return g.zipComment.length&&(_.comment=g.zipComment),_})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(n,s,i){var r=n("../utils"),o=n("../stream/GenericWorker");function a(l,f){o.call(this,"Nodejs stream input adapter for "+l),this._upstreamEnded=!1,this._bindStream(f)}r.inherits(a,o),a.prototype._bindStream=function(l){var f=this;(this._stream=l).pause(),l.on("data",function(u){f.push({data:u,meta:{percent:0}})}).on("error",function(u){f.isPaused?this.generatedError=u:f.error(u)}).on("end",function(){f.isPaused?f._upstreamEnded=!0:f.end()})},a.prototype.pause=function(){return!!o.prototype.pause.call(this)&&(this._stream.pause(),!0)},a.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},s.exports=a},{"../stream/GenericWorker":28,"../utils":32}],13:[function(n,s,i){var r=n("readable-stream").Readable;function o(a,l,f){r.call(this,l),this._helper=a;var u=this;a.on("data",function(d,p){u.push(d)||u._helper.pause(),f&&f(p)}).on("error",function(d){u.emit("error",d)}).on("end",function(){u.push(null)})}n("../utils").inherits(o,r),o.prototype._read=function(){this._helper.resume()},s.exports=o},{"../utils":32,"readable-stream":16}],14:[function(n,s,i){s.exports={isNode:typeof Buffer<"u",newBufferFrom:function(r,o){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(r,o);if(typeof r=="number")throw new Error('The "data" argument must not be a number');return new Buffer(r,o)},allocBuffer:function(r){if(Buffer.alloc)return Buffer.alloc(r);var o=new Buffer(r);return o.fill(0),o},isBuffer:function(r){return Buffer.isBuffer(r)},isStream:function(r){return r&&typeof r.on=="function"&&typeof r.pause=="function"&&typeof r.resume=="function"}}},{}],15:[function(n,s,i){function r(P,j,M){var N,D=a.getTypeOf(j),Y=a.extend(M||{},u);Y.date=Y.date||new Date,Y.compression!==null&&(Y.compression=Y.compression.toUpperCase()),typeof Y.unixPermissions=="string"&&(Y.unixPermissions=parseInt(Y.unixPermissions,8)),Y.unixPermissions&&16384&Y.unixPermissions&&(Y.dir=!0),Y.dosPermissions&&16&Y.dosPermissions&&(Y.dir=!0),Y.dir&&(P=y(P)),Y.createFolders&&(N=g(P))&&x.call(this,N,!0);var rt=D==="string"&&Y.binary===!1&&Y.base64===!1;M&&M.binary!==void 0||(Y.binary=!rt),(j instanceof d&&j.uncompressedSize===0||Y.dir||!j||j.length===0)&&(Y.base64=!1,Y.binary=!0,j="",Y.compression="STORE",D="string");var R=null;R=j instanceof d||j instanceof l?j:_.isNode&&_.isStream(j)?new m(P,j):a.prepareContent(P,j,Y.binary,Y.optimizedBinaryString,Y.base64);var V=new p(P,R,Y);this.files[P]=V}var o=n("./utf8"),a=n("./utils"),l=n("./stream/GenericWorker"),f=n("./stream/StreamHelper"),u=n("./defaults"),d=n("./compressedObject"),p=n("./zipObject"),h=n("./generate"),_=n("./nodejsUtils"),m=n("./nodejs/NodejsStreamInputAdapter"),g=function(P){P.slice(-1)==="/"&&(P=P.substring(0,P.length-1));var j=P.lastIndexOf("/");return 0<j?P.substring(0,j):""},y=function(P){return P.slice(-1)!=="/"&&(P+="/"),P},x=function(P,j){return j=j!==void 0?j:u.createFolders,P=y(P),this.files[P]||r.call(this,P,null,{dir:!0,createFolders:j}),this.files[P]};function E(P){return Object.prototype.toString.call(P)==="[object RegExp]"}var O={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(P){var j,M,N;for(j in this.files)N=this.files[j],(M=j.slice(this.root.length,j.length))&&j.slice(0,this.root.length)===this.root&&P(M,N)},filter:function(P){var j=[];return this.forEach(function(M,N){P(M,N)&&j.push(N)}),j},file:function(P,j,M){if(arguments.length!==1)return P=this.root+P,r.call(this,P,j,M),this;if(E(P)){var N=P;return this.filter(function(Y,rt){return!rt.dir&&N.test(Y)})}var D=this.files[this.root+P];return D&&!D.dir?D:null},folder:function(P){if(!P)return this;if(E(P))return this.filter(function(D,Y){return Y.dir&&P.test(D)});var j=this.root+P,M=x.call(this,j),N=this.clone();return N.root=M.name,N},remove:function(P){P=this.root+P;var j=this.files[P];if(j||(P.slice(-1)!=="/"&&(P+="/"),j=this.files[P]),j&&!j.dir)delete this.files[P];else for(var M=this.filter(function(D,Y){return Y.name.slice(0,P.length)===P}),N=0;N<M.length;N++)delete this.files[M[N].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(P){var j,M={};try{if((M=a.extend(P||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:o.utf8encode})).type=M.type.toLowerCase(),M.compression=M.compression.toUpperCase(),M.type==="binarystring"&&(M.type="string"),!M.type)throw new Error("No output type specified.");a.checkSupport(M.type),M.platform!=="darwin"&&M.platform!=="freebsd"&&M.platform!=="linux"&&M.platform!=="sunos"||(M.platform="UNIX"),M.platform==="win32"&&(M.platform="DOS");var N=M.comment||this.comment||"";j=h.generateWorker(this,M,N)}catch(D){(j=new l("error")).error(D)}return new f(j,M.type||"string",M.mimeType)},generateAsync:function(P,j){return this.generateInternalStream(P).accumulate(j)},generateNodeStream:function(P,j){return(P=P||{}).type||(P.type="nodebuffer"),this.generateInternalStream(P).toNodejsStream(j)}};s.exports=O},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(n,s,i){s.exports=n("stream")},{stream:void 0}],17:[function(n,s,i){var r=n("./DataReader");function o(a){r.call(this,a);for(var l=0;l<this.data.length;l++)a[l]=255&a[l]}n("../utils").inherits(o,r),o.prototype.byteAt=function(a){return this.data[this.zero+a]},o.prototype.lastIndexOfSignature=function(a){for(var l=a.charCodeAt(0),f=a.charCodeAt(1),u=a.charCodeAt(2),d=a.charCodeAt(3),p=this.length-4;0<=p;--p)if(this.data[p]===l&&this.data[p+1]===f&&this.data[p+2]===u&&this.data[p+3]===d)return p-this.zero;return-1},o.prototype.readAndCheckSignature=function(a){var l=a.charCodeAt(0),f=a.charCodeAt(1),u=a.charCodeAt(2),d=a.charCodeAt(3),p=this.readData(4);return l===p[0]&&f===p[1]&&u===p[2]&&d===p[3]},o.prototype.readData=function(a){if(this.checkOffset(a),a===0)return[];var l=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},s.exports=o},{"../utils":32,"./DataReader":18}],18:[function(n,s,i){var r=n("../utils");function o(a){this.data=a,this.length=a.length,this.index=0,this.zero=0}o.prototype={checkOffset:function(a){this.checkIndex(this.index+a)},checkIndex:function(a){if(this.length<this.zero+a||a<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+a+"). Corrupted zip ?")},setIndex:function(a){this.checkIndex(a),this.index=a},skip:function(a){this.setIndex(this.index+a)},byteAt:function(){},readInt:function(a){var l,f=0;for(this.checkOffset(a),l=this.index+a-1;l>=this.index;l--)f=(f<<8)+this.byteAt(l);return this.index+=a,f},readString:function(a){return r.transformTo("string",this.readData(a))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var a=this.readInt(4);return new Date(Date.UTC(1980+(a>>25&127),(a>>21&15)-1,a>>16&31,a>>11&31,a>>5&63,(31&a)<<1))}},s.exports=o},{"../utils":32}],19:[function(n,s,i){var r=n("./Uint8ArrayReader");function o(a){r.call(this,a)}n("../utils").inherits(o,r),o.prototype.readData=function(a){this.checkOffset(a);var l=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},s.exports=o},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(n,s,i){var r=n("./DataReader");function o(a){r.call(this,a)}n("../utils").inherits(o,r),o.prototype.byteAt=function(a){return this.data.charCodeAt(this.zero+a)},o.prototype.lastIndexOfSignature=function(a){return this.data.lastIndexOf(a)-this.zero},o.prototype.readAndCheckSignature=function(a){return a===this.readData(4)},o.prototype.readData=function(a){this.checkOffset(a);var l=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},s.exports=o},{"../utils":32,"./DataReader":18}],21:[function(n,s,i){var r=n("./ArrayReader");function o(a){r.call(this,a)}n("../utils").inherits(o,r),o.prototype.readData=function(a){if(this.checkOffset(a),a===0)return new Uint8Array(0);var l=this.data.subarray(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},s.exports=o},{"../utils":32,"./ArrayReader":17}],22:[function(n,s,i){var r=n("../utils"),o=n("../support"),a=n("./ArrayReader"),l=n("./StringReader"),f=n("./NodeBufferReader"),u=n("./Uint8ArrayReader");s.exports=function(d){var p=r.getTypeOf(d);return r.checkSupport(p),p!=="string"||o.uint8array?p==="nodebuffer"?new f(d):o.uint8array?new u(r.transformTo("uint8array",d)):new a(r.transformTo("array",d)):new l(d)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(n,s,i){i.LOCAL_FILE_HEADER="PK",i.CENTRAL_FILE_HEADER="PK",i.CENTRAL_DIRECTORY_END="PK",i.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",i.ZIP64_CENTRAL_DIRECTORY_END="PK",i.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(n,s,i){var r=n("./GenericWorker"),o=n("../utils");function a(l){r.call(this,"ConvertWorker to "+l),this.destType=l}o.inherits(a,r),a.prototype.processChunk=function(l){this.push({data:o.transformTo(this.destType,l.data),meta:l.meta})},s.exports=a},{"../utils":32,"./GenericWorker":28}],25:[function(n,s,i){var r=n("./GenericWorker"),o=n("../crc32");function a(){r.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}n("../utils").inherits(a,r),a.prototype.processChunk=function(l){this.streamInfo.crc32=o(l.data,this.streamInfo.crc32||0),this.push(l)},s.exports=a},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(n,s,i){var r=n("../utils"),o=n("./GenericWorker");function a(l){o.call(this,"DataLengthProbe for "+l),this.propName=l,this.withStreamInfo(l,0)}r.inherits(a,o),a.prototype.processChunk=function(l){if(l){var f=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=f+l.data.length}o.prototype.processChunk.call(this,l)},s.exports=a},{"../utils":32,"./GenericWorker":28}],27:[function(n,s,i){var r=n("../utils"),o=n("./GenericWorker");function a(l){o.call(this,"DataWorker");var f=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,l.then(function(u){f.dataIsReady=!0,f.data=u,f.max=u&&u.length||0,f.type=r.getTypeOf(u),f.isPaused||f._tickAndRepeat()},function(u){f.error(u)})}r.inherits(a,o),a.prototype.cleanUp=function(){o.prototype.cleanUp.call(this),this.data=null},a.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,r.delay(this._tickAndRepeat,[],this)),!0)},a.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(r.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},a.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var l=null,f=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":l=this.data.substring(this.index,f);break;case"uint8array":l=this.data.subarray(this.index,f);break;case"array":case"nodebuffer":l=this.data.slice(this.index,f)}return this.index=f,this.push({data:l,meta:{percent:this.max?this.index/this.max*100:0}})},s.exports=a},{"../utils":32,"./GenericWorker":28}],28:[function(n,s,i){function r(o){this.name=o||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}r.prototype={push:function(o){this.emit("data",o)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(o){this.emit("error",o)}return!0},error:function(o){return!this.isFinished&&(this.isPaused?this.generatedError=o:(this.isFinished=!0,this.emit("error",o),this.previous&&this.previous.error(o),this.cleanUp()),!0)},on:function(o,a){return this._listeners[o].push(a),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(o,a){if(this._listeners[o])for(var l=0;l<this._listeners[o].length;l++)this._listeners[o][l].call(this,a)},pipe:function(o){return o.registerPrevious(this)},registerPrevious:function(o){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=o.streamInfo,this.mergeStreamInfo(),this.previous=o;var a=this;return o.on("data",function(l){a.processChunk(l)}),o.on("end",function(){a.end()}),o.on("error",function(l){a.error(l)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var o=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),o=!0),this.previous&&this.previous.resume(),!o},flush:function(){},processChunk:function(o){this.push(o)},withStreamInfo:function(o,a){return this.extraStreamInfo[o]=a,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var o in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,o)&&(this.streamInfo[o]=this.extraStreamInfo[o])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var o="Worker "+this.name;return this.previous?this.previous+" -> "+o:o}},s.exports=r},{}],29:[function(n,s,i){var r=n("../utils"),o=n("./ConvertWorker"),a=n("./GenericWorker"),l=n("../base64"),f=n("../support"),u=n("../external"),d=null;if(f.nodestream)try{d=n("../nodejs/NodejsStreamOutputAdapter")}catch{}function p(_,m){return new u.Promise(function(g,y){var x=[],E=_._internalType,O=_._outputType,P=_._mimeType;_.on("data",function(j,M){x.push(j),m&&m(M)}).on("error",function(j){x=[],y(j)}).on("end",function(){try{var j=function(M,N,D){switch(M){case"blob":return r.newBlob(r.transformTo("arraybuffer",N),D);case"base64":return l.encode(N);default:return r.transformTo(M,N)}}(O,function(M,N){var D,Y=0,rt=null,R=0;for(D=0;D<N.length;D++)R+=N[D].length;switch(M){case"string":return N.join("");case"array":return Array.prototype.concat.apply([],N);case"uint8array":for(rt=new Uint8Array(R),D=0;D<N.length;D++)rt.set(N[D],Y),Y+=N[D].length;return rt;case"nodebuffer":return Buffer.concat(N);default:throw new Error("concat : unsupported type '"+M+"'")}}(E,x),P);g(j)}catch(M){y(M)}x=[]}).resume()})}function h(_,m,g){var y=m;switch(m){case"blob":case"arraybuffer":y="uint8array";break;case"base64":y="string"}try{this._internalType=y,this._outputType=m,this._mimeType=g,r.checkSupport(y),this._worker=_.pipe(new o(y)),_.lock()}catch(x){this._worker=new a("error"),this._worker.error(x)}}h.prototype={accumulate:function(_){return p(this,_)},on:function(_,m){var g=this;return _==="data"?this._worker.on(_,function(y){m.call(g,y.data,y.meta)}):this._worker.on(_,function(){r.delay(m,arguments,g)}),this},resume:function(){return r.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(_){if(r.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new d(this,{objectMode:this._outputType!=="nodebuffer"},_)}},s.exports=h},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(n,s,i){if(i.base64=!0,i.array=!0,i.string=!0,i.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",i.nodebuffer=typeof Buffer<"u",i.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")i.blob=!1;else{var r=new ArrayBuffer(0);try{i.blob=new Blob([r],{type:"application/zip"}).size===0}catch{try{var o=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);o.append(r),i.blob=o.getBlob("application/zip").size===0}catch{i.blob=!1}}}try{i.nodestream=!!n("readable-stream").Readable}catch{i.nodestream=!1}},{"readable-stream":16}],31:[function(n,s,i){for(var r=n("./utils"),o=n("./support"),a=n("./nodejsUtils"),l=n("./stream/GenericWorker"),f=new Array(256),u=0;u<256;u++)f[u]=252<=u?6:248<=u?5:240<=u?4:224<=u?3:192<=u?2:1;f[254]=f[254]=1;function d(){l.call(this,"utf-8 decode"),this.leftOver=null}function p(){l.call(this,"utf-8 encode")}i.utf8encode=function(h){return o.nodebuffer?a.newBufferFrom(h,"utf-8"):function(_){var m,g,y,x,E,O=_.length,P=0;for(x=0;x<O;x++)(64512&(g=_.charCodeAt(x)))==55296&&x+1<O&&(64512&(y=_.charCodeAt(x+1)))==56320&&(g=65536+(g-55296<<10)+(y-56320),x++),P+=g<128?1:g<2048?2:g<65536?3:4;for(m=o.uint8array?new Uint8Array(P):new Array(P),x=E=0;E<P;x++)(64512&(g=_.charCodeAt(x)))==55296&&x+1<O&&(64512&(y=_.charCodeAt(x+1)))==56320&&(g=65536+(g-55296<<10)+(y-56320),x++),g<128?m[E++]=g:(g<2048?m[E++]=192|g>>>6:(g<65536?m[E++]=224|g>>>12:(m[E++]=240|g>>>18,m[E++]=128|g>>>12&63),m[E++]=128|g>>>6&63),m[E++]=128|63&g);return m}(h)},i.utf8decode=function(h){return o.nodebuffer?r.transformTo("nodebuffer",h).toString("utf-8"):function(_){var m,g,y,x,E=_.length,O=new Array(2*E);for(m=g=0;m<E;)if((y=_[m++])<128)O[g++]=y;else if(4<(x=f[y]))O[g++]=65533,m+=x-1;else{for(y&=x===2?31:x===3?15:7;1<x&&m<E;)y=y<<6|63&_[m++],x--;1<x?O[g++]=65533:y<65536?O[g++]=y:(y-=65536,O[g++]=55296|y>>10&1023,O[g++]=56320|1023&y)}return O.length!==g&&(O.subarray?O=O.subarray(0,g):O.length=g),r.applyFromCharCode(O)}(h=r.transformTo(o.uint8array?"uint8array":"array",h))},r.inherits(d,l),d.prototype.processChunk=function(h){var _=r.transformTo(o.uint8array?"uint8array":"array",h.data);if(this.leftOver&&this.leftOver.length){if(o.uint8array){var m=_;(_=new Uint8Array(m.length+this.leftOver.length)).set(this.leftOver,0),_.set(m,this.leftOver.length)}else _=this.leftOver.concat(_);this.leftOver=null}var g=function(x,E){var O;for((E=E||x.length)>x.length&&(E=x.length),O=E-1;0<=O&&(192&x[O])==128;)O--;return O<0||O===0?E:O+f[x[O]]>E?O:E}(_),y=_;g!==_.length&&(o.uint8array?(y=_.subarray(0,g),this.leftOver=_.subarray(g,_.length)):(y=_.slice(0,g),this.leftOver=_.slice(g,_.length))),this.push({data:i.utf8decode(y),meta:h.meta})},d.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:i.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},i.Utf8DecodeWorker=d,r.inherits(p,l),p.prototype.processChunk=function(h){this.push({data:i.utf8encode(h.data),meta:h.meta})},i.Utf8EncodeWorker=p},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(n,s,i){var r=n("./support"),o=n("./base64"),a=n("./nodejsUtils"),l=n("./external");function f(m){return m}function u(m,g){for(var y=0;y<m.length;++y)g[y]=255&m.charCodeAt(y);return g}n("setimmediate"),i.newBlob=function(m,g){i.checkSupport("blob");try{return new Blob([m],{type:g})}catch{try{var y=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return y.append(m),y.getBlob(g)}catch{throw new Error("Bug : can't construct the Blob.")}}};var d={stringifyByChunk:function(m,g,y){var x=[],E=0,O=m.length;if(O<=y)return String.fromCharCode.apply(null,m);for(;E<O;)g==="array"||g==="nodebuffer"?x.push(String.fromCharCode.apply(null,m.slice(E,Math.min(E+y,O)))):x.push(String.fromCharCode.apply(null,m.subarray(E,Math.min(E+y,O)))),E+=y;return x.join("")},stringifyByChar:function(m){for(var g="",y=0;y<m.length;y++)g+=String.fromCharCode(m[y]);return g},applyCanBeUsed:{uint8array:function(){try{return r.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return r.nodebuffer&&String.fromCharCode.apply(null,a.allocBuffer(1)).length===1}catch{return!1}}()}};function p(m){var g=65536,y=i.getTypeOf(m),x=!0;if(y==="uint8array"?x=d.applyCanBeUsed.uint8array:y==="nodebuffer"&&(x=d.applyCanBeUsed.nodebuffer),x)for(;1<g;)try{return d.stringifyByChunk(m,y,g)}catch{g=Math.floor(g/2)}return d.stringifyByChar(m)}function h(m,g){for(var y=0;y<m.length;y++)g[y]=m[y];return g}i.applyFromCharCode=p;var _={};_.string={string:f,array:function(m){return u(m,new Array(m.length))},arraybuffer:function(m){return _.string.uint8array(m).buffer},uint8array:function(m){return u(m,new Uint8Array(m.length))},nodebuffer:function(m){return u(m,a.allocBuffer(m.length))}},_.array={string:p,array:f,arraybuffer:function(m){return new Uint8Array(m).buffer},uint8array:function(m){return new Uint8Array(m)},nodebuffer:function(m){return a.newBufferFrom(m)}},_.arraybuffer={string:function(m){return p(new Uint8Array(m))},array:function(m){return h(new Uint8Array(m),new Array(m.byteLength))},arraybuffer:f,uint8array:function(m){return new Uint8Array(m)},nodebuffer:function(m){return a.newBufferFrom(new Uint8Array(m))}},_.uint8array={string:p,array:function(m){return h(m,new Array(m.length))},arraybuffer:function(m){return m.buffer},uint8array:f,nodebuffer:function(m){return a.newBufferFrom(m)}},_.nodebuffer={string:p,array:function(m){return h(m,new Array(m.length))},arraybuffer:function(m){return _.nodebuffer.uint8array(m).buffer},uint8array:function(m){return h(m,new Uint8Array(m.length))},nodebuffer:f},i.transformTo=function(m,g){if(g=g||"",!m)return g;i.checkSupport(m);var y=i.getTypeOf(g);return _[y][m](g)},i.resolve=function(m){for(var g=m.split("/"),y=[],x=0;x<g.length;x++){var E=g[x];E==="."||E===""&&x!==0&&x!==g.length-1||(E===".."?y.pop():y.push(E))}return y.join("/")},i.getTypeOf=function(m){return typeof m=="string"?"string":Object.prototype.toString.call(m)==="[object Array]"?"array":r.nodebuffer&&a.isBuffer(m)?"nodebuffer":r.uint8array&&m instanceof Uint8Array?"uint8array":r.arraybuffer&&m instanceof ArrayBuffer?"arraybuffer":void 0},i.checkSupport=function(m){if(!r[m.toLowerCase()])throw new Error(m+" is not supported by this platform")},i.MAX_VALUE_16BITS=65535,i.MAX_VALUE_32BITS=-1,i.pretty=function(m){var g,y,x="";for(y=0;y<(m||"").length;y++)x+="\\x"+((g=m.charCodeAt(y))<16?"0":"")+g.toString(16).toUpperCase();return x},i.delay=function(m,g,y){setImmediate(function(){m.apply(y||null,g||[])})},i.inherits=function(m,g){function y(){}y.prototype=g.prototype,m.prototype=new y},i.extend=function(){var m,g,y={};for(m=0;m<arguments.length;m++)for(g in arguments[m])Object.prototype.hasOwnProperty.call(arguments[m],g)&&y[g]===void 0&&(y[g]=arguments[m][g]);return y},i.prepareContent=function(m,g,y,x,E){return l.Promise.resolve(g).then(function(O){return r.blob&&(O instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(O))!==-1)&&typeof FileReader<"u"?new l.Promise(function(P,j){var M=new FileReader;M.onload=function(N){P(N.target.result)},M.onerror=function(N){j(N.target.error)},M.readAsArrayBuffer(O)}):O}).then(function(O){var P=i.getTypeOf(O);return P?(P==="arraybuffer"?O=i.transformTo("uint8array",O):P==="string"&&(E?O=o.decode(O):y&&x!==!0&&(O=function(j){return u(j,r.uint8array?new Uint8Array(j.length):new Array(j.length))}(O))),O):l.Promise.reject(new Error("Can't read the data of '"+m+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(n,s,i){var r=n("./reader/readerFor"),o=n("./utils"),a=n("./signature"),l=n("./zipEntry"),f=n("./support");function u(d){this.files=[],this.loadOptions=d}u.prototype={checkSignature:function(d){if(!this.reader.readAndCheckSignature(d)){this.reader.index-=4;var p=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+o.pretty(p)+", expected "+o.pretty(d)+")")}},isSignature:function(d,p){var h=this.reader.index;this.reader.setIndex(d);var _=this.reader.readString(4)===p;return this.reader.setIndex(h),_},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var d=this.reader.readData(this.zipCommentLength),p=f.uint8array?"uint8array":"array",h=o.transformTo(p,d);this.zipComment=this.loadOptions.decodeFileName(h)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var d,p,h,_=this.zip64EndOfCentralSize-44;0<_;)d=this.reader.readInt(2),p=this.reader.readInt(4),h=this.reader.readData(p),this.zip64ExtensibleData[d]={id:d,length:p,value:h}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var d,p;for(d=0;d<this.files.length;d++)p=this.files[d],this.reader.setIndex(p.localHeaderOffset),this.checkSignature(a.LOCAL_FILE_HEADER),p.readLocalPart(this.reader),p.handleUTF8(),p.processAttributes()},readCentralDir:function(){var d;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(a.CENTRAL_FILE_HEADER);)(d=new l({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(d);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var d=this.reader.lastIndexOfSignature(a.CENTRAL_DIRECTORY_END);if(d<0)throw this.isSignature(0,a.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(d);var p=d;if(this.checkSignature(a.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===o.MAX_VALUE_16BITS||this.diskWithCentralDirStart===o.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===o.MAX_VALUE_16BITS||this.centralDirRecords===o.MAX_VALUE_16BITS||this.centralDirSize===o.MAX_VALUE_32BITS||this.centralDirOffset===o.MAX_VALUE_32BITS){if(this.zip64=!0,(d=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(d),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,a.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var h=this.centralDirOffset+this.centralDirSize;this.zip64&&(h+=20,h+=12+this.zip64EndOfCentralSize);var _=p-h;if(0<_)this.isSignature(p,a.CENTRAL_FILE_HEADER)||(this.reader.zero=_);else if(_<0)throw new Error("Corrupted zip: missing "+Math.abs(_)+" bytes.")},prepareReader:function(d){this.reader=r(d)},load:function(d){this.prepareReader(d),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},s.exports=u},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(n,s,i){var r=n("./reader/readerFor"),o=n("./utils"),a=n("./compressedObject"),l=n("./crc32"),f=n("./utf8"),u=n("./compressions"),d=n("./support");function p(h,_){this.options=h,this.loadOptions=_}p.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(h){var _,m;if(h.skip(22),this.fileNameLength=h.readInt(2),m=h.readInt(2),this.fileName=h.readData(this.fileNameLength),h.skip(m),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((_=function(g){for(var y in u)if(Object.prototype.hasOwnProperty.call(u,y)&&u[y].magic===g)return u[y];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+o.pretty(this.compressionMethod)+" unknown (inner file : "+o.transformTo("string",this.fileName)+")");this.decompressed=new a(this.compressedSize,this.uncompressedSize,this.crc32,_,h.readData(this.compressedSize))},readCentralPart:function(h){this.versionMadeBy=h.readInt(2),h.skip(2),this.bitFlag=h.readInt(2),this.compressionMethod=h.readString(2),this.date=h.readDate(),this.crc32=h.readInt(4),this.compressedSize=h.readInt(4),this.uncompressedSize=h.readInt(4);var _=h.readInt(2);if(this.extraFieldsLength=h.readInt(2),this.fileCommentLength=h.readInt(2),this.diskNumberStart=h.readInt(2),this.internalFileAttributes=h.readInt(2),this.externalFileAttributes=h.readInt(4),this.localHeaderOffset=h.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");h.skip(_),this.readExtraFields(h),this.parseZIP64ExtraField(h),this.fileComment=h.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var h=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),h==0&&(this.dosPermissions=63&this.externalFileAttributes),h==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var h=r(this.extraFields[1].value);this.uncompressedSize===o.MAX_VALUE_32BITS&&(this.uncompressedSize=h.readInt(8)),this.compressedSize===o.MAX_VALUE_32BITS&&(this.compressedSize=h.readInt(8)),this.localHeaderOffset===o.MAX_VALUE_32BITS&&(this.localHeaderOffset=h.readInt(8)),this.diskNumberStart===o.MAX_VALUE_32BITS&&(this.diskNumberStart=h.readInt(4))}},readExtraFields:function(h){var _,m,g,y=h.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});h.index+4<y;)_=h.readInt(2),m=h.readInt(2),g=h.readData(m),this.extraFields[_]={id:_,length:m,value:g};h.setIndex(y)},handleUTF8:function(){var h=d.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=f.utf8decode(this.fileName),this.fileCommentStr=f.utf8decode(this.fileComment);else{var _=this.findExtraFieldUnicodePath();if(_!==null)this.fileNameStr=_;else{var m=o.transformTo(h,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(m)}var g=this.findExtraFieldUnicodeComment();if(g!==null)this.fileCommentStr=g;else{var y=o.transformTo(h,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(y)}}},findExtraFieldUnicodePath:function(){var h=this.extraFields[28789];if(h){var _=r(h.value);return _.readInt(1)!==1||l(this.fileName)!==_.readInt(4)?null:f.utf8decode(_.readData(h.length-5))}return null},findExtraFieldUnicodeComment:function(){var h=this.extraFields[25461];if(h){var _=r(h.value);return _.readInt(1)!==1||l(this.fileComment)!==_.readInt(4)?null:f.utf8decode(_.readData(h.length-5))}return null}},s.exports=p},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(n,s,i){function r(_,m,g){this.name=_,this.dir=g.dir,this.date=g.date,this.comment=g.comment,this.unixPermissions=g.unixPermissions,this.dosPermissions=g.dosPermissions,this._data=m,this._dataBinary=g.binary,this.options={compression:g.compression,compressionOptions:g.compressionOptions}}var o=n("./stream/StreamHelper"),a=n("./stream/DataWorker"),l=n("./utf8"),f=n("./compressedObject"),u=n("./stream/GenericWorker");r.prototype={internalStream:function(_){var m=null,g="string";try{if(!_)throw new Error("No output type specified.");var y=(g=_.toLowerCase())==="string"||g==="text";g!=="binarystring"&&g!=="text"||(g="string"),m=this._decompressWorker();var x=!this._dataBinary;x&&!y&&(m=m.pipe(new l.Utf8EncodeWorker)),!x&&y&&(m=m.pipe(new l.Utf8DecodeWorker))}catch(E){(m=new u("error")).error(E)}return new o(m,g,"")},async:function(_,m){return this.internalStream(_).accumulate(m)},nodeStream:function(_,m){return this.internalStream(_||"nodebuffer").toNodejsStream(m)},_compressWorker:function(_,m){if(this._data instanceof f&&this._data.compression.magic===_.magic)return this._data.getCompressedWorker();var g=this._decompressWorker();return this._dataBinary||(g=g.pipe(new l.Utf8EncodeWorker)),f.createWorkerFrom(g,_,m)},_decompressWorker:function(){return this._data instanceof f?this._data.getContentWorker():this._data instanceof u?this._data:new a(this._data)}};for(var d=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],p=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},h=0;h<d.length;h++)r.prototype[d[h]]=p;s.exports=r},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(n,s,i){(function(r){var o,a,l=r.MutationObserver||r.WebKitMutationObserver;if(l){var f=0,u=new l(_),d=r.document.createTextNode("");u.observe(d,{characterData:!0}),o=function(){d.data=f=++f%2}}else if(r.setImmediate||r.MessageChannel===void 0)o="document"in r&&"onreadystatechange"in r.document.createElement("script")?function(){var m=r.document.createElement("script");m.onreadystatechange=function(){_(),m.onreadystatechange=null,m.parentNode.removeChild(m),m=null},r.document.documentElement.appendChild(m)}:function(){setTimeout(_,0)};else{var p=new r.MessageChannel;p.port1.onmessage=_,o=function(){p.port2.postMessage(0)}}var h=[];function _(){var m,g;a=!0;for(var y=h.length;y;){for(g=h,h=[],m=-1;++m<y;)g[m]();y=h.length}a=!1}s.exports=function(m){h.push(m)!==1||a||o()}}).call(this,typeof vs<"u"?vs:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(n,s,i){var r=n("immediate");function o(){}var a={},l=["REJECTED"],f=["FULFILLED"],u=["PENDING"];function d(y){if(typeof y!="function")throw new TypeError("resolver must be a function");this.state=u,this.queue=[],this.outcome=void 0,y!==o&&m(this,y)}function p(y,x,E){this.promise=y,typeof x=="function"&&(this.onFulfilled=x,this.callFulfilled=this.otherCallFulfilled),typeof E=="function"&&(this.onRejected=E,this.callRejected=this.otherCallRejected)}function h(y,x,E){r(function(){var O;try{O=x(E)}catch(P){return a.reject(y,P)}O===y?a.reject(y,new TypeError("Cannot resolve promise with itself")):a.resolve(y,O)})}function _(y){var x=y&&y.then;if(y&&(typeof y=="object"||typeof y=="function")&&typeof x=="function")return function(){x.apply(y,arguments)}}function m(y,x){var E=!1;function O(M){E||(E=!0,a.reject(y,M))}function P(M){E||(E=!0,a.resolve(y,M))}var j=g(function(){x(P,O)});j.status==="error"&&O(j.value)}function g(y,x){var E={};try{E.value=y(x),E.status="success"}catch(O){E.status="error",E.value=O}return E}(s.exports=d).prototype.finally=function(y){if(typeof y!="function")return this;var x=this.constructor;return this.then(function(E){return x.resolve(y()).then(function(){return E})},function(E){return x.resolve(y()).then(function(){throw E})})},d.prototype.catch=function(y){return this.then(null,y)},d.prototype.then=function(y,x){if(typeof y!="function"&&this.state===f||typeof x!="function"&&this.state===l)return this;var E=new this.constructor(o);return this.state!==u?h(E,this.state===f?y:x,this.outcome):this.queue.push(new p(E,y,x)),E},p.prototype.callFulfilled=function(y){a.resolve(this.promise,y)},p.prototype.otherCallFulfilled=function(y){h(this.promise,this.onFulfilled,y)},p.prototype.callRejected=function(y){a.reject(this.promise,y)},p.prototype.otherCallRejected=function(y){h(this.promise,this.onRejected,y)},a.resolve=function(y,x){var E=g(_,x);if(E.status==="error")return a.reject(y,E.value);var O=E.value;if(O)m(y,O);else{y.state=f,y.outcome=x;for(var P=-1,j=y.queue.length;++P<j;)y.queue[P].callFulfilled(x)}return y},a.reject=function(y,x){y.state=l,y.outcome=x;for(var E=-1,O=y.queue.length;++E<O;)y.queue[E].callRejected(x);return y},d.resolve=function(y){return y instanceof this?y:a.resolve(new this(o),y)},d.reject=function(y){var x=new this(o);return a.reject(x,y)},d.all=function(y){var x=this;if(Object.prototype.toString.call(y)!=="[object Array]")return this.reject(new TypeError("must be an array"));var E=y.length,O=!1;if(!E)return this.resolve([]);for(var P=new Array(E),j=0,M=-1,N=new this(o);++M<E;)D(y[M],M);return N;function D(Y,rt){x.resolve(Y).then(function(R){P[rt]=R,++j!==E||O||(O=!0,a.resolve(N,P))},function(R){O||(O=!0,a.reject(N,R))})}},d.race=function(y){var x=this;if(Object.prototype.toString.call(y)!=="[object Array]")return this.reject(new TypeError("must be an array"));var E=y.length,O=!1;if(!E)return this.resolve([]);for(var P=-1,j=new this(o);++P<E;)M=y[P],x.resolve(M).then(function(N){O||(O=!0,a.resolve(j,N))},function(N){O||(O=!0,a.reject(j,N))});var M;return j}},{immediate:36}],38:[function(n,s,i){var r={};(0,n("./lib/utils/common").assign)(r,n("./lib/deflate"),n("./lib/inflate"),n("./lib/zlib/constants")),s.exports=r},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(n,s,i){var r=n("./zlib/deflate"),o=n("./utils/common"),a=n("./utils/strings"),l=n("./zlib/messages"),f=n("./zlib/zstream"),u=Object.prototype.toString,d=0,p=-1,h=0,_=8;function m(y){if(!(this instanceof m))return new m(y);this.options=o.assign({level:p,method:_,chunkSize:16384,windowBits:15,memLevel:8,strategy:h,to:""},y||{});var x=this.options;x.raw&&0<x.windowBits?x.windowBits=-x.windowBits:x.gzip&&0<x.windowBits&&x.windowBits<16&&(x.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new f,this.strm.avail_out=0;var E=r.deflateInit2(this.strm,x.level,x.method,x.windowBits,x.memLevel,x.strategy);if(E!==d)throw new Error(l[E]);if(x.header&&r.deflateSetHeader(this.strm,x.header),x.dictionary){var O;if(O=typeof x.dictionary=="string"?a.string2buf(x.dictionary):u.call(x.dictionary)==="[object ArrayBuffer]"?new Uint8Array(x.dictionary):x.dictionary,(E=r.deflateSetDictionary(this.strm,O))!==d)throw new Error(l[E]);this._dict_set=!0}}function g(y,x){var E=new m(x);if(E.push(y,!0),E.err)throw E.msg||l[E.err];return E.result}m.prototype.push=function(y,x){var E,O,P=this.strm,j=this.options.chunkSize;if(this.ended)return!1;O=x===~~x?x:x===!0?4:0,typeof y=="string"?P.input=a.string2buf(y):u.call(y)==="[object ArrayBuffer]"?P.input=new Uint8Array(y):P.input=y,P.next_in=0,P.avail_in=P.input.length;do{if(P.avail_out===0&&(P.output=new o.Buf8(j),P.next_out=0,P.avail_out=j),(E=r.deflate(P,O))!==1&&E!==d)return this.onEnd(E),!(this.ended=!0);P.avail_out!==0&&(P.avail_in!==0||O!==4&&O!==2)||(this.options.to==="string"?this.onData(a.buf2binstring(o.shrinkBuf(P.output,P.next_out))):this.onData(o.shrinkBuf(P.output,P.next_out)))}while((0<P.avail_in||P.avail_out===0)&&E!==1);return O===4?(E=r.deflateEnd(this.strm),this.onEnd(E),this.ended=!0,E===d):O!==2||(this.onEnd(d),!(P.avail_out=0))},m.prototype.onData=function(y){this.chunks.push(y)},m.prototype.onEnd=function(y){y===d&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=y,this.msg=this.strm.msg},i.Deflate=m,i.deflate=g,i.deflateRaw=function(y,x){return(x=x||{}).raw=!0,g(y,x)},i.gzip=function(y,x){return(x=x||{}).gzip=!0,g(y,x)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(n,s,i){var r=n("./zlib/inflate"),o=n("./utils/common"),a=n("./utils/strings"),l=n("./zlib/constants"),f=n("./zlib/messages"),u=n("./zlib/zstream"),d=n("./zlib/gzheader"),p=Object.prototype.toString;function h(m){if(!(this instanceof h))return new h(m);this.options=o.assign({chunkSize:16384,windowBits:0,to:""},m||{});var g=this.options;g.raw&&0<=g.windowBits&&g.windowBits<16&&(g.windowBits=-g.windowBits,g.windowBits===0&&(g.windowBits=-15)),!(0<=g.windowBits&&g.windowBits<16)||m&&m.windowBits||(g.windowBits+=32),15<g.windowBits&&g.windowBits<48&&(15&g.windowBits)==0&&(g.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var y=r.inflateInit2(this.strm,g.windowBits);if(y!==l.Z_OK)throw new Error(f[y]);this.header=new d,r.inflateGetHeader(this.strm,this.header)}function _(m,g){var y=new h(g);if(y.push(m,!0),y.err)throw y.msg||f[y.err];return y.result}h.prototype.push=function(m,g){var y,x,E,O,P,j,M=this.strm,N=this.options.chunkSize,D=this.options.dictionary,Y=!1;if(this.ended)return!1;x=g===~~g?g:g===!0?l.Z_FINISH:l.Z_NO_FLUSH,typeof m=="string"?M.input=a.binstring2buf(m):p.call(m)==="[object ArrayBuffer]"?M.input=new Uint8Array(m):M.input=m,M.next_in=0,M.avail_in=M.input.length;do{if(M.avail_out===0&&(M.output=new o.Buf8(N),M.next_out=0,M.avail_out=N),(y=r.inflate(M,l.Z_NO_FLUSH))===l.Z_NEED_DICT&&D&&(j=typeof D=="string"?a.string2buf(D):p.call(D)==="[object ArrayBuffer]"?new Uint8Array(D):D,y=r.inflateSetDictionary(this.strm,j)),y===l.Z_BUF_ERROR&&Y===!0&&(y=l.Z_OK,Y=!1),y!==l.Z_STREAM_END&&y!==l.Z_OK)return this.onEnd(y),!(this.ended=!0);M.next_out&&(M.avail_out!==0&&y!==l.Z_STREAM_END&&(M.avail_in!==0||x!==l.Z_FINISH&&x!==l.Z_SYNC_FLUSH)||(this.options.to==="string"?(E=a.utf8border(M.output,M.next_out),O=M.next_out-E,P=a.buf2string(M.output,E),M.next_out=O,M.avail_out=N-O,O&&o.arraySet(M.output,M.output,E,O,0),this.onData(P)):this.onData(o.shrinkBuf(M.output,M.next_out)))),M.avail_in===0&&M.avail_out===0&&(Y=!0)}while((0<M.avail_in||M.avail_out===0)&&y!==l.Z_STREAM_END);return y===l.Z_STREAM_END&&(x=l.Z_FINISH),x===l.Z_FINISH?(y=r.inflateEnd(this.strm),this.onEnd(y),this.ended=!0,y===l.Z_OK):x!==l.Z_SYNC_FLUSH||(this.onEnd(l.Z_OK),!(M.avail_out=0))},h.prototype.onData=function(m){this.chunks.push(m)},h.prototype.onEnd=function(m){m===l.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=m,this.msg=this.strm.msg},i.Inflate=h,i.inflate=_,i.inflateRaw=function(m,g){return(g=g||{}).raw=!0,_(m,g)},i.ungzip=_},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(n,s,i){var r=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";i.assign=function(l){for(var f=Array.prototype.slice.call(arguments,1);f.length;){var u=f.shift();if(u){if(typeof u!="object")throw new TypeError(u+"must be non-object");for(var d in u)u.hasOwnProperty(d)&&(l[d]=u[d])}}return l},i.shrinkBuf=function(l,f){return l.length===f?l:l.subarray?l.subarray(0,f):(l.length=f,l)};var o={arraySet:function(l,f,u,d,p){if(f.subarray&&l.subarray)l.set(f.subarray(u,u+d),p);else for(var h=0;h<d;h++)l[p+h]=f[u+h]},flattenChunks:function(l){var f,u,d,p,h,_;for(f=d=0,u=l.length;f<u;f++)d+=l[f].length;for(_=new Uint8Array(d),f=p=0,u=l.length;f<u;f++)h=l[f],_.set(h,p),p+=h.length;return _}},a={arraySet:function(l,f,u,d,p){for(var h=0;h<d;h++)l[p+h]=f[u+h]},flattenChunks:function(l){return[].concat.apply([],l)}};i.setTyped=function(l){l?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,o)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,a))},i.setTyped(r)},{}],42:[function(n,s,i){var r=n("./common"),o=!0,a=!0;try{String.fromCharCode.apply(null,[0])}catch{o=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{a=!1}for(var l=new r.Buf8(256),f=0;f<256;f++)l[f]=252<=f?6:248<=f?5:240<=f?4:224<=f?3:192<=f?2:1;function u(d,p){if(p<65537&&(d.subarray&&a||!d.subarray&&o))return String.fromCharCode.apply(null,r.shrinkBuf(d,p));for(var h="",_=0;_<p;_++)h+=String.fromCharCode(d[_]);return h}l[254]=l[254]=1,i.string2buf=function(d){var p,h,_,m,g,y=d.length,x=0;for(m=0;m<y;m++)(64512&(h=d.charCodeAt(m)))==55296&&m+1<y&&(64512&(_=d.charCodeAt(m+1)))==56320&&(h=65536+(h-55296<<10)+(_-56320),m++),x+=h<128?1:h<2048?2:h<65536?3:4;for(p=new r.Buf8(x),m=g=0;g<x;m++)(64512&(h=d.charCodeAt(m)))==55296&&m+1<y&&(64512&(_=d.charCodeAt(m+1)))==56320&&(h=65536+(h-55296<<10)+(_-56320),m++),h<128?p[g++]=h:(h<2048?p[g++]=192|h>>>6:(h<65536?p[g++]=224|h>>>12:(p[g++]=240|h>>>18,p[g++]=128|h>>>12&63),p[g++]=128|h>>>6&63),p[g++]=128|63&h);return p},i.buf2binstring=function(d){return u(d,d.length)},i.binstring2buf=function(d){for(var p=new r.Buf8(d.length),h=0,_=p.length;h<_;h++)p[h]=d.charCodeAt(h);return p},i.buf2string=function(d,p){var h,_,m,g,y=p||d.length,x=new Array(2*y);for(h=_=0;h<y;)if((m=d[h++])<128)x[_++]=m;else if(4<(g=l[m]))x[_++]=65533,h+=g-1;else{for(m&=g===2?31:g===3?15:7;1<g&&h<y;)m=m<<6|63&d[h++],g--;1<g?x[_++]=65533:m<65536?x[_++]=m:(m-=65536,x[_++]=55296|m>>10&1023,x[_++]=56320|1023&m)}return u(x,_)},i.utf8border=function(d,p){var h;for((p=p||d.length)>d.length&&(p=d.length),h=p-1;0<=h&&(192&d[h])==128;)h--;return h<0||h===0?p:h+l[d[h]]>p?h:p}},{"./common":41}],43:[function(n,s,i){s.exports=function(r,o,a,l){for(var f=65535&r|0,u=r>>>16&65535|0,d=0;a!==0;){for(a-=d=2e3<a?2e3:a;u=u+(f=f+o[l++]|0)|0,--d;);f%=65521,u%=65521}return f|u<<16|0}},{}],44:[function(n,s,i){s.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(n,s,i){var r=function(){for(var o,a=[],l=0;l<256;l++){o=l;for(var f=0;f<8;f++)o=1&o?3988292384^o>>>1:o>>>1;a[l]=o}return a}();s.exports=function(o,a,l,f){var u=r,d=f+l;o^=-1;for(var p=f;p<d;p++)o=o>>>8^u[255&(o^a[p])];return-1^o}},{}],46:[function(n,s,i){var r,o=n("../utils/common"),a=n("./trees"),l=n("./adler32"),f=n("./crc32"),u=n("./messages"),d=0,p=4,h=0,_=-2,m=-1,g=4,y=2,x=8,E=9,O=286,P=30,j=19,M=2*O+1,N=15,D=3,Y=258,rt=Y+D+1,R=42,V=113,v=1,K=2,et=3,G=4;function lt(c,C){return c.msg=u[C],C}function J(c){return(c<<1)-(4<c?9:0)}function pt(c){for(var C=c.length;0<=--C;)c[C]=0}function U(c){var C=c.state,T=C.pending;T>c.avail_out&&(T=c.avail_out),T!==0&&(o.arraySet(c.output,C.pending_buf,C.pending_out,T,c.next_out),c.next_out+=T,C.pending_out+=T,c.total_out+=T,c.avail_out-=T,C.pending-=T,C.pending===0&&(C.pending_out=0))}function B(c,C){a._tr_flush_block(c,0<=c.block_start?c.block_start:-1,c.strstart-c.block_start,C),c.block_start=c.strstart,U(c.strm)}function ct(c,C){c.pending_buf[c.pending++]=C}function at(c,C){c.pending_buf[c.pending++]=C>>>8&255,c.pending_buf[c.pending++]=255&C}function z(c,C){var T,w,b=c.max_chain_length,$=c.strstart,L=c.prev_length,F=c.nice_match,A=c.strstart>c.w_size-rt?c.strstart-(c.w_size-rt):0,W=c.window,Z=c.w_mask,q=c.prev,tt=c.strstart+Y,ht=W[$+L-1],ut=W[$+L];c.prev_length>=c.good_match&&(b>>=2),F>c.lookahead&&(F=c.lookahead);do if(W[(T=C)+L]===ut&&W[T+L-1]===ht&&W[T]===W[$]&&W[++T]===W[$+1]){$+=2,T++;do;while(W[++$]===W[++T]&&W[++$]===W[++T]&&W[++$]===W[++T]&&W[++$]===W[++T]&&W[++$]===W[++T]&&W[++$]===W[++T]&&W[++$]===W[++T]&&W[++$]===W[++T]&&$<tt);if(w=Y-(tt-$),$=tt-Y,L<w){if(c.match_start=C,F<=(L=w))break;ht=W[$+L-1],ut=W[$+L]}}while((C=q[C&Z])>A&&--b!=0);return L<=c.lookahead?L:c.lookahead}function it(c){var C,T,w,b,$,L,F,A,W,Z,q=c.w_size;do{if(b=c.window_size-c.lookahead-c.strstart,c.strstart>=q+(q-rt)){for(o.arraySet(c.window,c.window,q,q,0),c.match_start-=q,c.strstart-=q,c.block_start-=q,C=T=c.hash_size;w=c.head[--C],c.head[C]=q<=w?w-q:0,--T;);for(C=T=q;w=c.prev[--C],c.prev[C]=q<=w?w-q:0,--T;);b+=q}if(c.strm.avail_in===0)break;if(L=c.strm,F=c.window,A=c.strstart+c.lookahead,W=b,Z=void 0,Z=L.avail_in,W<Z&&(Z=W),T=Z===0?0:(L.avail_in-=Z,o.arraySet(F,L.input,L.next_in,Z,A),L.state.wrap===1?L.adler=l(L.adler,F,Z,A):L.state.wrap===2&&(L.adler=f(L.adler,F,Z,A)),L.next_in+=Z,L.total_in+=Z,Z),c.lookahead+=T,c.lookahead+c.insert>=D)for($=c.strstart-c.insert,c.ins_h=c.window[$],c.ins_h=(c.ins_h<<c.hash_shift^c.window[$+1])&c.hash_mask;c.insert&&(c.ins_h=(c.ins_h<<c.hash_shift^c.window[$+D-1])&c.hash_mask,c.prev[$&c.w_mask]=c.head[c.ins_h],c.head[c.ins_h]=$,$++,c.insert--,!(c.lookahead+c.insert<D)););}while(c.lookahead<rt&&c.strm.avail_in!==0)}function nt(c,C){for(var T,w;;){if(c.lookahead<rt){if(it(c),c.lookahead<rt&&C===d)return v;if(c.lookahead===0)break}if(T=0,c.lookahead>=D&&(c.ins_h=(c.ins_h<<c.hash_shift^c.window[c.strstart+D-1])&c.hash_mask,T=c.prev[c.strstart&c.w_mask]=c.head[c.ins_h],c.head[c.ins_h]=c.strstart),T!==0&&c.strstart-T<=c.w_size-rt&&(c.match_length=z(c,T)),c.match_length>=D)if(w=a._tr_tally(c,c.strstart-c.match_start,c.match_length-D),c.lookahead-=c.match_length,c.match_length<=c.max_lazy_match&&c.lookahead>=D){for(c.match_length--;c.strstart++,c.ins_h=(c.ins_h<<c.hash_shift^c.window[c.strstart+D-1])&c.hash_mask,T=c.prev[c.strstart&c.w_mask]=c.head[c.ins_h],c.head[c.ins_h]=c.strstart,--c.match_length!=0;);c.strstart++}else c.strstart+=c.match_length,c.match_length=0,c.ins_h=c.window[c.strstart],c.ins_h=(c.ins_h<<c.hash_shift^c.window[c.strstart+1])&c.hash_mask;else w=a._tr_tally(c,0,c.window[c.strstart]),c.lookahead--,c.strstart++;if(w&&(B(c,!1),c.strm.avail_out===0))return v}return c.insert=c.strstart<D-1?c.strstart:D-1,C===p?(B(c,!0),c.strm.avail_out===0?et:G):c.last_lit&&(B(c,!1),c.strm.avail_out===0)?v:K}function st(c,C){for(var T,w,b;;){if(c.lookahead<rt){if(it(c),c.lookahead<rt&&C===d)return v;if(c.lookahead===0)break}if(T=0,c.lookahead>=D&&(c.ins_h=(c.ins_h<<c.hash_shift^c.window[c.strstart+D-1])&c.hash_mask,T=c.prev[c.strstart&c.w_mask]=c.head[c.ins_h],c.head[c.ins_h]=c.strstart),c.prev_length=c.match_length,c.prev_match=c.match_start,c.match_length=D-1,T!==0&&c.prev_length<c.max_lazy_match&&c.strstart-T<=c.w_size-rt&&(c.match_length=z(c,T),c.match_length<=5&&(c.strategy===1||c.match_length===D&&4096<c.strstart-c.match_start)&&(c.match_length=D-1)),c.prev_length>=D&&c.match_length<=c.prev_length){for(b=c.strstart+c.lookahead-D,w=a._tr_tally(c,c.strstart-1-c.prev_match,c.prev_length-D),c.lookahead-=c.prev_length-1,c.prev_length-=2;++c.strstart<=b&&(c.ins_h=(c.ins_h<<c.hash_shift^c.window[c.strstart+D-1])&c.hash_mask,T=c.prev[c.strstart&c.w_mask]=c.head[c.ins_h],c.head[c.ins_h]=c.strstart),--c.prev_length!=0;);if(c.match_available=0,c.match_length=D-1,c.strstart++,w&&(B(c,!1),c.strm.avail_out===0))return v}else if(c.match_available){if((w=a._tr_tally(c,0,c.window[c.strstart-1]))&&B(c,!1),c.strstart++,c.lookahead--,c.strm.avail_out===0)return v}else c.match_available=1,c.strstart++,c.lookahead--}return c.match_available&&(w=a._tr_tally(c,0,c.window[c.strstart-1]),c.match_available=0),c.insert=c.strstart<D-1?c.strstart:D-1,C===p?(B(c,!0),c.strm.avail_out===0?et:G):c.last_lit&&(B(c,!1),c.strm.avail_out===0)?v:K}function ft(c,C,T,w,b){this.good_length=c,this.max_lazy=C,this.nice_length=T,this.max_chain=w,this.func=b}function yt(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=x,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new o.Buf16(2*M),this.dyn_dtree=new o.Buf16(2*(2*P+1)),this.bl_tree=new o.Buf16(2*(2*j+1)),pt(this.dyn_ltree),pt(this.dyn_dtree),pt(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new o.Buf16(N+1),this.heap=new o.Buf16(2*O+1),pt(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new o.Buf16(2*O+1),pt(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function dt(c){var C;return c&&c.state?(c.total_in=c.total_out=0,c.data_type=y,(C=c.state).pending=0,C.pending_out=0,C.wrap<0&&(C.wrap=-C.wrap),C.status=C.wrap?R:V,c.adler=C.wrap===2?0:1,C.last_flush=d,a._tr_init(C),h):lt(c,_)}function mt(c){var C=dt(c);return C===h&&function(T){T.window_size=2*T.w_size,pt(T.head),T.max_lazy_match=r[T.level].max_lazy,T.good_match=r[T.level].good_length,T.nice_match=r[T.level].nice_length,T.max_chain_length=r[T.level].max_chain,T.strstart=0,T.block_start=0,T.lookahead=0,T.insert=0,T.match_length=T.prev_length=D-1,T.match_available=0,T.ins_h=0}(c.state),C}function S(c,C,T,w,b,$){if(!c)return _;var L=1;if(C===m&&(C=6),w<0?(L=0,w=-w):15<w&&(L=2,w-=16),b<1||E<b||T!==x||w<8||15<w||C<0||9<C||$<0||g<$)return lt(c,_);w===8&&(w=9);var F=new yt;return(c.state=F).strm=c,F.wrap=L,F.gzhead=null,F.w_bits=w,F.w_size=1<<F.w_bits,F.w_mask=F.w_size-1,F.hash_bits=b+7,F.hash_size=1<<F.hash_bits,F.hash_mask=F.hash_size-1,F.hash_shift=~~((F.hash_bits+D-1)/D),F.window=new o.Buf8(2*F.w_size),F.head=new o.Buf16(F.hash_size),F.prev=new o.Buf16(F.w_size),F.lit_bufsize=1<<b+6,F.pending_buf_size=4*F.lit_bufsize,F.pending_buf=new o.Buf8(F.pending_buf_size),F.d_buf=1*F.lit_bufsize,F.l_buf=3*F.lit_bufsize,F.level=C,F.strategy=$,F.method=T,mt(c)}r=[new ft(0,0,0,0,function(c,C){var T=65535;for(T>c.pending_buf_size-5&&(T=c.pending_buf_size-5);;){if(c.lookahead<=1){if(it(c),c.lookahead===0&&C===d)return v;if(c.lookahead===0)break}c.strstart+=c.lookahead,c.lookahead=0;var w=c.block_start+T;if((c.strstart===0||c.strstart>=w)&&(c.lookahead=c.strstart-w,c.strstart=w,B(c,!1),c.strm.avail_out===0)||c.strstart-c.block_start>=c.w_size-rt&&(B(c,!1),c.strm.avail_out===0))return v}return c.insert=0,C===p?(B(c,!0),c.strm.avail_out===0?et:G):(c.strstart>c.block_start&&(B(c,!1),c.strm.avail_out),v)}),new ft(4,4,8,4,nt),new ft(4,5,16,8,nt),new ft(4,6,32,32,nt),new ft(4,4,16,16,st),new ft(8,16,32,32,st),new ft(8,16,128,128,st),new ft(8,32,128,256,st),new ft(32,128,258,1024,st),new ft(32,258,258,4096,st)],i.deflateInit=function(c,C){return S(c,C,x,15,8,0)},i.deflateInit2=S,i.deflateReset=mt,i.deflateResetKeep=dt,i.deflateSetHeader=function(c,C){return c&&c.state?c.state.wrap!==2?_:(c.state.gzhead=C,h):_},i.deflate=function(c,C){var T,w,b,$;if(!c||!c.state||5<C||C<0)return c?lt(c,_):_;if(w=c.state,!c.output||!c.input&&c.avail_in!==0||w.status===666&&C!==p)return lt(c,c.avail_out===0?-5:_);if(w.strm=c,T=w.last_flush,w.last_flush=C,w.status===R)if(w.wrap===2)c.adler=0,ct(w,31),ct(w,139),ct(w,8),w.gzhead?(ct(w,(w.gzhead.text?1:0)+(w.gzhead.hcrc?2:0)+(w.gzhead.extra?4:0)+(w.gzhead.name?8:0)+(w.gzhead.comment?16:0)),ct(w,255&w.gzhead.time),ct(w,w.gzhead.time>>8&255),ct(w,w.gzhead.time>>16&255),ct(w,w.gzhead.time>>24&255),ct(w,w.level===9?2:2<=w.strategy||w.level<2?4:0),ct(w,255&w.gzhead.os),w.gzhead.extra&&w.gzhead.extra.length&&(ct(w,255&w.gzhead.extra.length),ct(w,w.gzhead.extra.length>>8&255)),w.gzhead.hcrc&&(c.adler=f(c.adler,w.pending_buf,w.pending,0)),w.gzindex=0,w.status=69):(ct(w,0),ct(w,0),ct(w,0),ct(w,0),ct(w,0),ct(w,w.level===9?2:2<=w.strategy||w.level<2?4:0),ct(w,3),w.status=V);else{var L=x+(w.w_bits-8<<4)<<8;L|=(2<=w.strategy||w.level<2?0:w.level<6?1:w.level===6?2:3)<<6,w.strstart!==0&&(L|=32),L+=31-L%31,w.status=V,at(w,L),w.strstart!==0&&(at(w,c.adler>>>16),at(w,65535&c.adler)),c.adler=1}if(w.status===69)if(w.gzhead.extra){for(b=w.pending;w.gzindex<(65535&w.gzhead.extra.length)&&(w.pending!==w.pending_buf_size||(w.gzhead.hcrc&&w.pending>b&&(c.adler=f(c.adler,w.pending_buf,w.pending-b,b)),U(c),b=w.pending,w.pending!==w.pending_buf_size));)ct(w,255&w.gzhead.extra[w.gzindex]),w.gzindex++;w.gzhead.hcrc&&w.pending>b&&(c.adler=f(c.adler,w.pending_buf,w.pending-b,b)),w.gzindex===w.gzhead.extra.length&&(w.gzindex=0,w.status=73)}else w.status=73;if(w.status===73)if(w.gzhead.name){b=w.pending;do{if(w.pending===w.pending_buf_size&&(w.gzhead.hcrc&&w.pending>b&&(c.adler=f(c.adler,w.pending_buf,w.pending-b,b)),U(c),b=w.pending,w.pending===w.pending_buf_size)){$=1;break}$=w.gzindex<w.gzhead.name.length?255&w.gzhead.name.charCodeAt(w.gzindex++):0,ct(w,$)}while($!==0);w.gzhead.hcrc&&w.pending>b&&(c.adler=f(c.adler,w.pending_buf,w.pending-b,b)),$===0&&(w.gzindex=0,w.status=91)}else w.status=91;if(w.status===91)if(w.gzhead.comment){b=w.pending;do{if(w.pending===w.pending_buf_size&&(w.gzhead.hcrc&&w.pending>b&&(c.adler=f(c.adler,w.pending_buf,w.pending-b,b)),U(c),b=w.pending,w.pending===w.pending_buf_size)){$=1;break}$=w.gzindex<w.gzhead.comment.length?255&w.gzhead.comment.charCodeAt(w.gzindex++):0,ct(w,$)}while($!==0);w.gzhead.hcrc&&w.pending>b&&(c.adler=f(c.adler,w.pending_buf,w.pending-b,b)),$===0&&(w.status=103)}else w.status=103;if(w.status===103&&(w.gzhead.hcrc?(w.pending+2>w.pending_buf_size&&U(c),w.pending+2<=w.pending_buf_size&&(ct(w,255&c.adler),ct(w,c.adler>>8&255),c.adler=0,w.status=V)):w.status=V),w.pending!==0){if(U(c),c.avail_out===0)return w.last_flush=-1,h}else if(c.avail_in===0&&J(C)<=J(T)&&C!==p)return lt(c,-5);if(w.status===666&&c.avail_in!==0)return lt(c,-5);if(c.avail_in!==0||w.lookahead!==0||C!==d&&w.status!==666){var F=w.strategy===2?function(A,W){for(var Z;;){if(A.lookahead===0&&(it(A),A.lookahead===0)){if(W===d)return v;break}if(A.match_length=0,Z=a._tr_tally(A,0,A.window[A.strstart]),A.lookahead--,A.strstart++,Z&&(B(A,!1),A.strm.avail_out===0))return v}return A.insert=0,W===p?(B(A,!0),A.strm.avail_out===0?et:G):A.last_lit&&(B(A,!1),A.strm.avail_out===0)?v:K}(w,C):w.strategy===3?function(A,W){for(var Z,q,tt,ht,ut=A.window;;){if(A.lookahead<=Y){if(it(A),A.lookahead<=Y&&W===d)return v;if(A.lookahead===0)break}if(A.match_length=0,A.lookahead>=D&&0<A.strstart&&(q=ut[tt=A.strstart-1])===ut[++tt]&&q===ut[++tt]&&q===ut[++tt]){ht=A.strstart+Y;do;while(q===ut[++tt]&&q===ut[++tt]&&q===ut[++tt]&&q===ut[++tt]&&q===ut[++tt]&&q===ut[++tt]&&q===ut[++tt]&&q===ut[++tt]&&tt<ht);A.match_length=Y-(ht-tt),A.match_length>A.lookahead&&(A.match_length=A.lookahead)}if(A.match_length>=D?(Z=a._tr_tally(A,1,A.match_length-D),A.lookahead-=A.match_length,A.strstart+=A.match_length,A.match_length=0):(Z=a._tr_tally(A,0,A.window[A.strstart]),A.lookahead--,A.strstart++),Z&&(B(A,!1),A.strm.avail_out===0))return v}return A.insert=0,W===p?(B(A,!0),A.strm.avail_out===0?et:G):A.last_lit&&(B(A,!1),A.strm.avail_out===0)?v:K}(w,C):r[w.level].func(w,C);if(F!==et&&F!==G||(w.status=666),F===v||F===et)return c.avail_out===0&&(w.last_flush=-1),h;if(F===K&&(C===1?a._tr_align(w):C!==5&&(a._tr_stored_block(w,0,0,!1),C===3&&(pt(w.head),w.lookahead===0&&(w.strstart=0,w.block_start=0,w.insert=0))),U(c),c.avail_out===0))return w.last_flush=-1,h}return C!==p?h:w.wrap<=0?1:(w.wrap===2?(ct(w,255&c.adler),ct(w,c.adler>>8&255),ct(w,c.adler>>16&255),ct(w,c.adler>>24&255),ct(w,255&c.total_in),ct(w,c.total_in>>8&255),ct(w,c.total_in>>16&255),ct(w,c.total_in>>24&255)):(at(w,c.adler>>>16),at(w,65535&c.adler)),U(c),0<w.wrap&&(w.wrap=-w.wrap),w.pending!==0?h:1)},i.deflateEnd=function(c){var C;return c&&c.state?(C=c.state.status)!==R&&C!==69&&C!==73&&C!==91&&C!==103&&C!==V&&C!==666?lt(c,_):(c.state=null,C===V?lt(c,-3):h):_},i.deflateSetDictionary=function(c,C){var T,w,b,$,L,F,A,W,Z=C.length;if(!c||!c.state||($=(T=c.state).wrap)===2||$===1&&T.status!==R||T.lookahead)return _;for($===1&&(c.adler=l(c.adler,C,Z,0)),T.wrap=0,Z>=T.w_size&&($===0&&(pt(T.head),T.strstart=0,T.block_start=0,T.insert=0),W=new o.Buf8(T.w_size),o.arraySet(W,C,Z-T.w_size,T.w_size,0),C=W,Z=T.w_size),L=c.avail_in,F=c.next_in,A=c.input,c.avail_in=Z,c.next_in=0,c.input=C,it(T);T.lookahead>=D;){for(w=T.strstart,b=T.lookahead-(D-1);T.ins_h=(T.ins_h<<T.hash_shift^T.window[w+D-1])&T.hash_mask,T.prev[w&T.w_mask]=T.head[T.ins_h],T.head[T.ins_h]=w,w++,--b;);T.strstart=w,T.lookahead=D-1,it(T)}return T.strstart+=T.lookahead,T.block_start=T.strstart,T.insert=T.lookahead,T.lookahead=0,T.match_length=T.prev_length=D-1,T.match_available=0,c.next_in=F,c.input=A,c.avail_in=L,T.wrap=$,h},i.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(n,s,i){s.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(n,s,i){s.exports=function(r,o){var a,l,f,u,d,p,h,_,m,g,y,x,E,O,P,j,M,N,D,Y,rt,R,V,v,K;a=r.state,l=r.next_in,v=r.input,f=l+(r.avail_in-5),u=r.next_out,K=r.output,d=u-(o-r.avail_out),p=u+(r.avail_out-257),h=a.dmax,_=a.wsize,m=a.whave,g=a.wnext,y=a.window,x=a.hold,E=a.bits,O=a.lencode,P=a.distcode,j=(1<<a.lenbits)-1,M=(1<<a.distbits)-1;t:do{E<15&&(x+=v[l++]<<E,E+=8,x+=v[l++]<<E,E+=8),N=O[x&j];e:for(;;){if(x>>>=D=N>>>24,E-=D,(D=N>>>16&255)===0)K[u++]=65535&N;else{if(!(16&D)){if((64&D)==0){N=O[(65535&N)+(x&(1<<D)-1)];continue e}if(32&D){a.mode=12;break t}r.msg="invalid literal/length code",a.mode=30;break t}Y=65535&N,(D&=15)&&(E<D&&(x+=v[l++]<<E,E+=8),Y+=x&(1<<D)-1,x>>>=D,E-=D),E<15&&(x+=v[l++]<<E,E+=8,x+=v[l++]<<E,E+=8),N=P[x&M];n:for(;;){if(x>>>=D=N>>>24,E-=D,!(16&(D=N>>>16&255))){if((64&D)==0){N=P[(65535&N)+(x&(1<<D)-1)];continue n}r.msg="invalid distance code",a.mode=30;break t}if(rt=65535&N,E<(D&=15)&&(x+=v[l++]<<E,(E+=8)<D&&(x+=v[l++]<<E,E+=8)),h<(rt+=x&(1<<D)-1)){r.msg="invalid distance too far back",a.mode=30;break t}if(x>>>=D,E-=D,(D=u-d)<rt){if(m<(D=rt-D)&&a.sane){r.msg="invalid distance too far back",a.mode=30;break t}if(V=y,(R=0)===g){if(R+=_-D,D<Y){for(Y-=D;K[u++]=y[R++],--D;);R=u-rt,V=K}}else if(g<D){if(R+=_+g-D,(D-=g)<Y){for(Y-=D;K[u++]=y[R++],--D;);if(R=0,g<Y){for(Y-=D=g;K[u++]=y[R++],--D;);R=u-rt,V=K}}}else if(R+=g-D,D<Y){for(Y-=D;K[u++]=y[R++],--D;);R=u-rt,V=K}for(;2<Y;)K[u++]=V[R++],K[u++]=V[R++],K[u++]=V[R++],Y-=3;Y&&(K[u++]=V[R++],1<Y&&(K[u++]=V[R++]))}else{for(R=u-rt;K[u++]=K[R++],K[u++]=K[R++],K[u++]=K[R++],2<(Y-=3););Y&&(K[u++]=K[R++],1<Y&&(K[u++]=K[R++]))}break}}break}}while(l<f&&u<p);l-=Y=E>>3,x&=(1<<(E-=Y<<3))-1,r.next_in=l,r.next_out=u,r.avail_in=l<f?f-l+5:5-(l-f),r.avail_out=u<p?p-u+257:257-(u-p),a.hold=x,a.bits=E}},{}],49:[function(n,s,i){var r=n("../utils/common"),o=n("./adler32"),a=n("./crc32"),l=n("./inffast"),f=n("./inftrees"),u=1,d=2,p=0,h=-2,_=1,m=852,g=592;function y(R){return(R>>>24&255)+(R>>>8&65280)+((65280&R)<<8)+((255&R)<<24)}function x(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new r.Buf16(320),this.work=new r.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function E(R){var V;return R&&R.state?(V=R.state,R.total_in=R.total_out=V.total=0,R.msg="",V.wrap&&(R.adler=1&V.wrap),V.mode=_,V.last=0,V.havedict=0,V.dmax=32768,V.head=null,V.hold=0,V.bits=0,V.lencode=V.lendyn=new r.Buf32(m),V.distcode=V.distdyn=new r.Buf32(g),V.sane=1,V.back=-1,p):h}function O(R){var V;return R&&R.state?((V=R.state).wsize=0,V.whave=0,V.wnext=0,E(R)):h}function P(R,V){var v,K;return R&&R.state?(K=R.state,V<0?(v=0,V=-V):(v=1+(V>>4),V<48&&(V&=15)),V&&(V<8||15<V)?h:(K.window!==null&&K.wbits!==V&&(K.window=null),K.wrap=v,K.wbits=V,O(R))):h}function j(R,V){var v,K;return R?(K=new x,(R.state=K).window=null,(v=P(R,V))!==p&&(R.state=null),v):h}var M,N,D=!0;function Y(R){if(D){var V;for(M=new r.Buf32(512),N=new r.Buf32(32),V=0;V<144;)R.lens[V++]=8;for(;V<256;)R.lens[V++]=9;for(;V<280;)R.lens[V++]=7;for(;V<288;)R.lens[V++]=8;for(f(u,R.lens,0,288,M,0,R.work,{bits:9}),V=0;V<32;)R.lens[V++]=5;f(d,R.lens,0,32,N,0,R.work,{bits:5}),D=!1}R.lencode=M,R.lenbits=9,R.distcode=N,R.distbits=5}function rt(R,V,v,K){var et,G=R.state;return G.window===null&&(G.wsize=1<<G.wbits,G.wnext=0,G.whave=0,G.window=new r.Buf8(G.wsize)),K>=G.wsize?(r.arraySet(G.window,V,v-G.wsize,G.wsize,0),G.wnext=0,G.whave=G.wsize):(K<(et=G.wsize-G.wnext)&&(et=K),r.arraySet(G.window,V,v-K,et,G.wnext),(K-=et)?(r.arraySet(G.window,V,v-K,K,0),G.wnext=K,G.whave=G.wsize):(G.wnext+=et,G.wnext===G.wsize&&(G.wnext=0),G.whave<G.wsize&&(G.whave+=et))),0}i.inflateReset=O,i.inflateReset2=P,i.inflateResetKeep=E,i.inflateInit=function(R){return j(R,15)},i.inflateInit2=j,i.inflate=function(R,V){var v,K,et,G,lt,J,pt,U,B,ct,at,z,it,nt,st,ft,yt,dt,mt,S,c,C,T,w,b=0,$=new r.Buf8(4),L=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!R||!R.state||!R.output||!R.input&&R.avail_in!==0)return h;(v=R.state).mode===12&&(v.mode=13),lt=R.next_out,et=R.output,pt=R.avail_out,G=R.next_in,K=R.input,J=R.avail_in,U=v.hold,B=v.bits,ct=J,at=pt,C=p;t:for(;;)switch(v.mode){case _:if(v.wrap===0){v.mode=13;break}for(;B<16;){if(J===0)break t;J--,U+=K[G++]<<B,B+=8}if(2&v.wrap&&U===35615){$[v.check=0]=255&U,$[1]=U>>>8&255,v.check=a(v.check,$,2,0),B=U=0,v.mode=2;break}if(v.flags=0,v.head&&(v.head.done=!1),!(1&v.wrap)||(((255&U)<<8)+(U>>8))%31){R.msg="incorrect header check",v.mode=30;break}if((15&U)!=8){R.msg="unknown compression method",v.mode=30;break}if(B-=4,c=8+(15&(U>>>=4)),v.wbits===0)v.wbits=c;else if(c>v.wbits){R.msg="invalid window size",v.mode=30;break}v.dmax=1<<c,R.adler=v.check=1,v.mode=512&U?10:12,B=U=0;break;case 2:for(;B<16;){if(J===0)break t;J--,U+=K[G++]<<B,B+=8}if(v.flags=U,(255&v.flags)!=8){R.msg="unknown compression method",v.mode=30;break}if(57344&v.flags){R.msg="unknown header flags set",v.mode=30;break}v.head&&(v.head.text=U>>8&1),512&v.flags&&($[0]=255&U,$[1]=U>>>8&255,v.check=a(v.check,$,2,0)),B=U=0,v.mode=3;case 3:for(;B<32;){if(J===0)break t;J--,U+=K[G++]<<B,B+=8}v.head&&(v.head.time=U),512&v.flags&&($[0]=255&U,$[1]=U>>>8&255,$[2]=U>>>16&255,$[3]=U>>>24&255,v.check=a(v.check,$,4,0)),B=U=0,v.mode=4;case 4:for(;B<16;){if(J===0)break t;J--,U+=K[G++]<<B,B+=8}v.head&&(v.head.xflags=255&U,v.head.os=U>>8),512&v.flags&&($[0]=255&U,$[1]=U>>>8&255,v.check=a(v.check,$,2,0)),B=U=0,v.mode=5;case 5:if(1024&v.flags){for(;B<16;){if(J===0)break t;J--,U+=K[G++]<<B,B+=8}v.length=U,v.head&&(v.head.extra_len=U),512&v.flags&&($[0]=255&U,$[1]=U>>>8&255,v.check=a(v.check,$,2,0)),B=U=0}else v.head&&(v.head.extra=null);v.mode=6;case 6:if(1024&v.flags&&(J<(z=v.length)&&(z=J),z&&(v.head&&(c=v.head.extra_len-v.length,v.head.extra||(v.head.extra=new Array(v.head.extra_len)),r.arraySet(v.head.extra,K,G,z,c)),512&v.flags&&(v.check=a(v.check,K,z,G)),J-=z,G+=z,v.length-=z),v.length))break t;v.length=0,v.mode=7;case 7:if(2048&v.flags){if(J===0)break t;for(z=0;c=K[G+z++],v.head&&c&&v.length<65536&&(v.head.name+=String.fromCharCode(c)),c&&z<J;);if(512&v.flags&&(v.check=a(v.check,K,z,G)),J-=z,G+=z,c)break t}else v.head&&(v.head.name=null);v.length=0,v.mode=8;case 8:if(4096&v.flags){if(J===0)break t;for(z=0;c=K[G+z++],v.head&&c&&v.length<65536&&(v.head.comment+=String.fromCharCode(c)),c&&z<J;);if(512&v.flags&&(v.check=a(v.check,K,z,G)),J-=z,G+=z,c)break t}else v.head&&(v.head.comment=null);v.mode=9;case 9:if(512&v.flags){for(;B<16;){if(J===0)break t;J--,U+=K[G++]<<B,B+=8}if(U!==(65535&v.check)){R.msg="header crc mismatch",v.mode=30;break}B=U=0}v.head&&(v.head.hcrc=v.flags>>9&1,v.head.done=!0),R.adler=v.check=0,v.mode=12;break;case 10:for(;B<32;){if(J===0)break t;J--,U+=K[G++]<<B,B+=8}R.adler=v.check=y(U),B=U=0,v.mode=11;case 11:if(v.havedict===0)return R.next_out=lt,R.avail_out=pt,R.next_in=G,R.avail_in=J,v.hold=U,v.bits=B,2;R.adler=v.check=1,v.mode=12;case 12:if(V===5||V===6)break t;case 13:if(v.last){U>>>=7&B,B-=7&B,v.mode=27;break}for(;B<3;){if(J===0)break t;J--,U+=K[G++]<<B,B+=8}switch(v.last=1&U,B-=1,3&(U>>>=1)){case 0:v.mode=14;break;case 1:if(Y(v),v.mode=20,V!==6)break;U>>>=2,B-=2;break t;case 2:v.mode=17;break;case 3:R.msg="invalid block type",v.mode=30}U>>>=2,B-=2;break;case 14:for(U>>>=7&B,B-=7&B;B<32;){if(J===0)break t;J--,U+=K[G++]<<B,B+=8}if((65535&U)!=(U>>>16^65535)){R.msg="invalid stored block lengths",v.mode=30;break}if(v.length=65535&U,B=U=0,v.mode=15,V===6)break t;case 15:v.mode=16;case 16:if(z=v.length){if(J<z&&(z=J),pt<z&&(z=pt),z===0)break t;r.arraySet(et,K,G,z,lt),J-=z,G+=z,pt-=z,lt+=z,v.length-=z;break}v.mode=12;break;case 17:for(;B<14;){if(J===0)break t;J--,U+=K[G++]<<B,B+=8}if(v.nlen=257+(31&U),U>>>=5,B-=5,v.ndist=1+(31&U),U>>>=5,B-=5,v.ncode=4+(15&U),U>>>=4,B-=4,286<v.nlen||30<v.ndist){R.msg="too many length or distance symbols",v.mode=30;break}v.have=0,v.mode=18;case 18:for(;v.have<v.ncode;){for(;B<3;){if(J===0)break t;J--,U+=K[G++]<<B,B+=8}v.lens[L[v.have++]]=7&U,U>>>=3,B-=3}for(;v.have<19;)v.lens[L[v.have++]]=0;if(v.lencode=v.lendyn,v.lenbits=7,T={bits:v.lenbits},C=f(0,v.lens,0,19,v.lencode,0,v.work,T),v.lenbits=T.bits,C){R.msg="invalid code lengths set",v.mode=30;break}v.have=0,v.mode=19;case 19:for(;v.have<v.nlen+v.ndist;){for(;ft=(b=v.lencode[U&(1<<v.lenbits)-1])>>>16&255,yt=65535&b,!((st=b>>>24)<=B);){if(J===0)break t;J--,U+=K[G++]<<B,B+=8}if(yt<16)U>>>=st,B-=st,v.lens[v.have++]=yt;else{if(yt===16){for(w=st+2;B<w;){if(J===0)break t;J--,U+=K[G++]<<B,B+=8}if(U>>>=st,B-=st,v.have===0){R.msg="invalid bit length repeat",v.mode=30;break}c=v.lens[v.have-1],z=3+(3&U),U>>>=2,B-=2}else if(yt===17){for(w=st+3;B<w;){if(J===0)break t;J--,U+=K[G++]<<B,B+=8}B-=st,c=0,z=3+(7&(U>>>=st)),U>>>=3,B-=3}else{for(w=st+7;B<w;){if(J===0)break t;J--,U+=K[G++]<<B,B+=8}B-=st,c=0,z=11+(127&(U>>>=st)),U>>>=7,B-=7}if(v.have+z>v.nlen+v.ndist){R.msg="invalid bit length repeat",v.mode=30;break}for(;z--;)v.lens[v.have++]=c}}if(v.mode===30)break;if(v.lens[256]===0){R.msg="invalid code -- missing end-of-block",v.mode=30;break}if(v.lenbits=9,T={bits:v.lenbits},C=f(u,v.lens,0,v.nlen,v.lencode,0,v.work,T),v.lenbits=T.bits,C){R.msg="invalid literal/lengths set",v.mode=30;break}if(v.distbits=6,v.distcode=v.distdyn,T={bits:v.distbits},C=f(d,v.lens,v.nlen,v.ndist,v.distcode,0,v.work,T),v.distbits=T.bits,C){R.msg="invalid distances set",v.mode=30;break}if(v.mode=20,V===6)break t;case 20:v.mode=21;case 21:if(6<=J&&258<=pt){R.next_out=lt,R.avail_out=pt,R.next_in=G,R.avail_in=J,v.hold=U,v.bits=B,l(R,at),lt=R.next_out,et=R.output,pt=R.avail_out,G=R.next_in,K=R.input,J=R.avail_in,U=v.hold,B=v.bits,v.mode===12&&(v.back=-1);break}for(v.back=0;ft=(b=v.lencode[U&(1<<v.lenbits)-1])>>>16&255,yt=65535&b,!((st=b>>>24)<=B);){if(J===0)break t;J--,U+=K[G++]<<B,B+=8}if(ft&&(240&ft)==0){for(dt=st,mt=ft,S=yt;ft=(b=v.lencode[S+((U&(1<<dt+mt)-1)>>dt)])>>>16&255,yt=65535&b,!(dt+(st=b>>>24)<=B);){if(J===0)break t;J--,U+=K[G++]<<B,B+=8}U>>>=dt,B-=dt,v.back+=dt}if(U>>>=st,B-=st,v.back+=st,v.length=yt,ft===0){v.mode=26;break}if(32&ft){v.back=-1,v.mode=12;break}if(64&ft){R.msg="invalid literal/length code",v.mode=30;break}v.extra=15&ft,v.mode=22;case 22:if(v.extra){for(w=v.extra;B<w;){if(J===0)break t;J--,U+=K[G++]<<B,B+=8}v.length+=U&(1<<v.extra)-1,U>>>=v.extra,B-=v.extra,v.back+=v.extra}v.was=v.length,v.mode=23;case 23:for(;ft=(b=v.distcode[U&(1<<v.distbits)-1])>>>16&255,yt=65535&b,!((st=b>>>24)<=B);){if(J===0)break t;J--,U+=K[G++]<<B,B+=8}if((240&ft)==0){for(dt=st,mt=ft,S=yt;ft=(b=v.distcode[S+((U&(1<<dt+mt)-1)>>dt)])>>>16&255,yt=65535&b,!(dt+(st=b>>>24)<=B);){if(J===0)break t;J--,U+=K[G++]<<B,B+=8}U>>>=dt,B-=dt,v.back+=dt}if(U>>>=st,B-=st,v.back+=st,64&ft){R.msg="invalid distance code",v.mode=30;break}v.offset=yt,v.extra=15&ft,v.mode=24;case 24:if(v.extra){for(w=v.extra;B<w;){if(J===0)break t;J--,U+=K[G++]<<B,B+=8}v.offset+=U&(1<<v.extra)-1,U>>>=v.extra,B-=v.extra,v.back+=v.extra}if(v.offset>v.dmax){R.msg="invalid distance too far back",v.mode=30;break}v.mode=25;case 25:if(pt===0)break t;if(z=at-pt,v.offset>z){if((z=v.offset-z)>v.whave&&v.sane){R.msg="invalid distance too far back",v.mode=30;break}it=z>v.wnext?(z-=v.wnext,v.wsize-z):v.wnext-z,z>v.length&&(z=v.length),nt=v.window}else nt=et,it=lt-v.offset,z=v.length;for(pt<z&&(z=pt),pt-=z,v.length-=z;et[lt++]=nt[it++],--z;);v.length===0&&(v.mode=21);break;case 26:if(pt===0)break t;et[lt++]=v.length,pt--,v.mode=21;break;case 27:if(v.wrap){for(;B<32;){if(J===0)break t;J--,U|=K[G++]<<B,B+=8}if(at-=pt,R.total_out+=at,v.total+=at,at&&(R.adler=v.check=v.flags?a(v.check,et,at,lt-at):o(v.check,et,at,lt-at)),at=pt,(v.flags?U:y(U))!==v.check){R.msg="incorrect data check",v.mode=30;break}B=U=0}v.mode=28;case 28:if(v.wrap&&v.flags){for(;B<32;){if(J===0)break t;J--,U+=K[G++]<<B,B+=8}if(U!==(4294967295&v.total)){R.msg="incorrect length check",v.mode=30;break}B=U=0}v.mode=29;case 29:C=1;break t;case 30:C=-3;break t;case 31:return-4;case 32:default:return h}return R.next_out=lt,R.avail_out=pt,R.next_in=G,R.avail_in=J,v.hold=U,v.bits=B,(v.wsize||at!==R.avail_out&&v.mode<30&&(v.mode<27||V!==4))&&rt(R,R.output,R.next_out,at-R.avail_out)?(v.mode=31,-4):(ct-=R.avail_in,at-=R.avail_out,R.total_in+=ct,R.total_out+=at,v.total+=at,v.wrap&&at&&(R.adler=v.check=v.flags?a(v.check,et,at,R.next_out-at):o(v.check,et,at,R.next_out-at)),R.data_type=v.bits+(v.last?64:0)+(v.mode===12?128:0)+(v.mode===20||v.mode===15?256:0),(ct==0&&at===0||V===4)&&C===p&&(C=-5),C)},i.inflateEnd=function(R){if(!R||!R.state)return h;var V=R.state;return V.window&&(V.window=null),R.state=null,p},i.inflateGetHeader=function(R,V){var v;return R&&R.state?(2&(v=R.state).wrap)==0?h:((v.head=V).done=!1,p):h},i.inflateSetDictionary=function(R,V){var v,K=V.length;return R&&R.state?(v=R.state).wrap!==0&&v.mode!==11?h:v.mode===11&&o(1,V,K,0)!==v.check?-3:rt(R,V,K,K)?(v.mode=31,-4):(v.havedict=1,p):h},i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(n,s,i){var r=n("../utils/common"),o=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],a=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],l=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],f=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];s.exports=function(u,d,p,h,_,m,g,y){var x,E,O,P,j,M,N,D,Y,rt=y.bits,R=0,V=0,v=0,K=0,et=0,G=0,lt=0,J=0,pt=0,U=0,B=null,ct=0,at=new r.Buf16(16),z=new r.Buf16(16),it=null,nt=0;for(R=0;R<=15;R++)at[R]=0;for(V=0;V<h;V++)at[d[p+V]]++;for(et=rt,K=15;1<=K&&at[K]===0;K--);if(K<et&&(et=K),K===0)return _[m++]=20971520,_[m++]=20971520,y.bits=1,0;for(v=1;v<K&&at[v]===0;v++);for(et<v&&(et=v),R=J=1;R<=15;R++)if(J<<=1,(J-=at[R])<0)return-1;if(0<J&&(u===0||K!==1))return-1;for(z[1]=0,R=1;R<15;R++)z[R+1]=z[R]+at[R];for(V=0;V<h;V++)d[p+V]!==0&&(g[z[d[p+V]]++]=V);if(M=u===0?(B=it=g,19):u===1?(B=o,ct-=257,it=a,nt-=257,256):(B=l,it=f,-1),R=v,j=m,lt=V=U=0,O=-1,P=(pt=1<<(G=et))-1,u===1&&852<pt||u===2&&592<pt)return 1;for(;;){for(N=R-lt,Y=g[V]<M?(D=0,g[V]):g[V]>M?(D=it[nt+g[V]],B[ct+g[V]]):(D=96,0),x=1<<R-lt,v=E=1<<G;_[j+(U>>lt)+(E-=x)]=N<<24|D<<16|Y|0,E!==0;);for(x=1<<R-1;U&x;)x>>=1;if(x!==0?(U&=x-1,U+=x):U=0,V++,--at[R]==0){if(R===K)break;R=d[p+g[V]]}if(et<R&&(U&P)!==O){for(lt===0&&(lt=et),j+=v,J=1<<(G=R-lt);G+lt<K&&!((J-=at[G+lt])<=0);)G++,J<<=1;if(pt+=1<<G,u===1&&852<pt||u===2&&592<pt)return 1;_[O=U&P]=et<<24|G<<16|j-m|0}}return U!==0&&(_[j+U]=R-lt<<24|64<<16|0),y.bits=et,0}},{"../utils/common":41}],51:[function(n,s,i){s.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(n,s,i){var r=n("../utils/common"),o=0,a=1;function l(b){for(var $=b.length;0<=--$;)b[$]=0}var f=0,u=29,d=256,p=d+1+u,h=30,_=19,m=2*p+1,g=15,y=16,x=7,E=256,O=16,P=17,j=18,M=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],N=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],D=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],Y=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],rt=new Array(2*(p+2));l(rt);var R=new Array(2*h);l(R);var V=new Array(512);l(V);var v=new Array(256);l(v);var K=new Array(u);l(K);var et,G,lt,J=new Array(h);function pt(b,$,L,F,A){this.static_tree=b,this.extra_bits=$,this.extra_base=L,this.elems=F,this.max_length=A,this.has_stree=b&&b.length}function U(b,$){this.dyn_tree=b,this.max_code=0,this.stat_desc=$}function B(b){return b<256?V[b]:V[256+(b>>>7)]}function ct(b,$){b.pending_buf[b.pending++]=255&$,b.pending_buf[b.pending++]=$>>>8&255}function at(b,$,L){b.bi_valid>y-L?(b.bi_buf|=$<<b.bi_valid&65535,ct(b,b.bi_buf),b.bi_buf=$>>y-b.bi_valid,b.bi_valid+=L-y):(b.bi_buf|=$<<b.bi_valid&65535,b.bi_valid+=L)}function z(b,$,L){at(b,L[2*$],L[2*$+1])}function it(b,$){for(var L=0;L|=1&b,b>>>=1,L<<=1,0<--$;);return L>>>1}function nt(b,$,L){var F,A,W=new Array(g+1),Z=0;for(F=1;F<=g;F++)W[F]=Z=Z+L[F-1]<<1;for(A=0;A<=$;A++){var q=b[2*A+1];q!==0&&(b[2*A]=it(W[q]++,q))}}function st(b){var $;for($=0;$<p;$++)b.dyn_ltree[2*$]=0;for($=0;$<h;$++)b.dyn_dtree[2*$]=0;for($=0;$<_;$++)b.bl_tree[2*$]=0;b.dyn_ltree[2*E]=1,b.opt_len=b.static_len=0,b.last_lit=b.matches=0}function ft(b){8<b.bi_valid?ct(b,b.bi_buf):0<b.bi_valid&&(b.pending_buf[b.pending++]=b.bi_buf),b.bi_buf=0,b.bi_valid=0}function yt(b,$,L,F){var A=2*$,W=2*L;return b[A]<b[W]||b[A]===b[W]&&F[$]<=F[L]}function dt(b,$,L){for(var F=b.heap[L],A=L<<1;A<=b.heap_len&&(A<b.heap_len&&yt($,b.heap[A+1],b.heap[A],b.depth)&&A++,!yt($,F,b.heap[A],b.depth));)b.heap[L]=b.heap[A],L=A,A<<=1;b.heap[L]=F}function mt(b,$,L){var F,A,W,Z,q=0;if(b.last_lit!==0)for(;F=b.pending_buf[b.d_buf+2*q]<<8|b.pending_buf[b.d_buf+2*q+1],A=b.pending_buf[b.l_buf+q],q++,F===0?z(b,A,$):(z(b,(W=v[A])+d+1,$),(Z=M[W])!==0&&at(b,A-=K[W],Z),z(b,W=B(--F),L),(Z=N[W])!==0&&at(b,F-=J[W],Z)),q<b.last_lit;);z(b,E,$)}function S(b,$){var L,F,A,W=$.dyn_tree,Z=$.stat_desc.static_tree,q=$.stat_desc.has_stree,tt=$.stat_desc.elems,ht=-1;for(b.heap_len=0,b.heap_max=m,L=0;L<tt;L++)W[2*L]!==0?(b.heap[++b.heap_len]=ht=L,b.depth[L]=0):W[2*L+1]=0;for(;b.heap_len<2;)W[2*(A=b.heap[++b.heap_len]=ht<2?++ht:0)]=1,b.depth[A]=0,b.opt_len--,q&&(b.static_len-=Z[2*A+1]);for($.max_code=ht,L=b.heap_len>>1;1<=L;L--)dt(b,W,L);for(A=tt;L=b.heap[1],b.heap[1]=b.heap[b.heap_len--],dt(b,W,1),F=b.heap[1],b.heap[--b.heap_max]=L,b.heap[--b.heap_max]=F,W[2*A]=W[2*L]+W[2*F],b.depth[A]=(b.depth[L]>=b.depth[F]?b.depth[L]:b.depth[F])+1,W[2*L+1]=W[2*F+1]=A,b.heap[1]=A++,dt(b,W,1),2<=b.heap_len;);b.heap[--b.heap_max]=b.heap[1],function(ut,kt){var It,Bt,de,zt,ke,hn,Mt=kt.dyn_tree,ae=kt.max_code,as=kt.stat_desc.static_tree,vl=kt.stat_desc.has_stree,yl=kt.stat_desc.extra_bits,Er=kt.stat_desc.extra_base,On=kt.stat_desc.max_length,ls=0;for(zt=0;zt<=g;zt++)ut.bl_count[zt]=0;for(Mt[2*ut.heap[ut.heap_max]+1]=0,It=ut.heap_max+1;It<m;It++)On<(zt=Mt[2*Mt[2*(Bt=ut.heap[It])+1]+1]+1)&&(zt=On,ls++),Mt[2*Bt+1]=zt,ae<Bt||(ut.bl_count[zt]++,ke=0,Er<=Bt&&(ke=yl[Bt-Er]),hn=Mt[2*Bt],ut.opt_len+=hn*(zt+ke),vl&&(ut.static_len+=hn*(as[2*Bt+1]+ke)));if(ls!==0){do{for(zt=On-1;ut.bl_count[zt]===0;)zt--;ut.bl_count[zt]--,ut.bl_count[zt+1]+=2,ut.bl_count[On]--,ls-=2}while(0<ls);for(zt=On;zt!==0;zt--)for(Bt=ut.bl_count[zt];Bt!==0;)ae<(de=ut.heap[--It])||(Mt[2*de+1]!==zt&&(ut.opt_len+=(zt-Mt[2*de+1])*Mt[2*de],Mt[2*de+1]=zt),Bt--)}}(b,$),nt(W,ht,b.bl_count)}function c(b,$,L){var F,A,W=-1,Z=$[1],q=0,tt=7,ht=4;for(Z===0&&(tt=138,ht=3),$[2*(L+1)+1]=65535,F=0;F<=L;F++)A=Z,Z=$[2*(F+1)+1],++q<tt&&A===Z||(q<ht?b.bl_tree[2*A]+=q:A!==0?(A!==W&&b.bl_tree[2*A]++,b.bl_tree[2*O]++):q<=10?b.bl_tree[2*P]++:b.bl_tree[2*j]++,W=A,ht=(q=0)===Z?(tt=138,3):A===Z?(tt=6,3):(tt=7,4))}function C(b,$,L){var F,A,W=-1,Z=$[1],q=0,tt=7,ht=4;for(Z===0&&(tt=138,ht=3),F=0;F<=L;F++)if(A=Z,Z=$[2*(F+1)+1],!(++q<tt&&A===Z)){if(q<ht)for(;z(b,A,b.bl_tree),--q!=0;);else A!==0?(A!==W&&(z(b,A,b.bl_tree),q--),z(b,O,b.bl_tree),at(b,q-3,2)):q<=10?(z(b,P,b.bl_tree),at(b,q-3,3)):(z(b,j,b.bl_tree),at(b,q-11,7));W=A,ht=(q=0)===Z?(tt=138,3):A===Z?(tt=6,3):(tt=7,4)}}l(J);var T=!1;function w(b,$,L,F){at(b,(f<<1)+(F?1:0),3),function(A,W,Z,q){ft(A),q&&(ct(A,Z),ct(A,~Z)),r.arraySet(A.pending_buf,A.window,W,Z,A.pending),A.pending+=Z}(b,$,L,!0)}i._tr_init=function(b){T||(function(){var $,L,F,A,W,Z=new Array(g+1);for(A=F=0;A<u-1;A++)for(K[A]=F,$=0;$<1<<M[A];$++)v[F++]=A;for(v[F-1]=A,A=W=0;A<16;A++)for(J[A]=W,$=0;$<1<<N[A];$++)V[W++]=A;for(W>>=7;A<h;A++)for(J[A]=W<<7,$=0;$<1<<N[A]-7;$++)V[256+W++]=A;for(L=0;L<=g;L++)Z[L]=0;for($=0;$<=143;)rt[2*$+1]=8,$++,Z[8]++;for(;$<=255;)rt[2*$+1]=9,$++,Z[9]++;for(;$<=279;)rt[2*$+1]=7,$++,Z[7]++;for(;$<=287;)rt[2*$+1]=8,$++,Z[8]++;for(nt(rt,p+1,Z),$=0;$<h;$++)R[2*$+1]=5,R[2*$]=it($,5);et=new pt(rt,M,d+1,p,g),G=new pt(R,N,0,h,g),lt=new pt(new Array(0),D,0,_,x)}(),T=!0),b.l_desc=new U(b.dyn_ltree,et),b.d_desc=new U(b.dyn_dtree,G),b.bl_desc=new U(b.bl_tree,lt),b.bi_buf=0,b.bi_valid=0,st(b)},i._tr_stored_block=w,i._tr_flush_block=function(b,$,L,F){var A,W,Z=0;0<b.level?(b.strm.data_type===2&&(b.strm.data_type=function(q){var tt,ht=4093624447;for(tt=0;tt<=31;tt++,ht>>>=1)if(1&ht&&q.dyn_ltree[2*tt]!==0)return o;if(q.dyn_ltree[18]!==0||q.dyn_ltree[20]!==0||q.dyn_ltree[26]!==0)return a;for(tt=32;tt<d;tt++)if(q.dyn_ltree[2*tt]!==0)return a;return o}(b)),S(b,b.l_desc),S(b,b.d_desc),Z=function(q){var tt;for(c(q,q.dyn_ltree,q.l_desc.max_code),c(q,q.dyn_dtree,q.d_desc.max_code),S(q,q.bl_desc),tt=_-1;3<=tt&&q.bl_tree[2*Y[tt]+1]===0;tt--);return q.opt_len+=3*(tt+1)+5+5+4,tt}(b),A=b.opt_len+3+7>>>3,(W=b.static_len+3+7>>>3)<=A&&(A=W)):A=W=L+5,L+4<=A&&$!==-1?w(b,$,L,F):b.strategy===4||W===A?(at(b,2+(F?1:0),3),mt(b,rt,R)):(at(b,4+(F?1:0),3),function(q,tt,ht,ut){var kt;for(at(q,tt-257,5),at(q,ht-1,5),at(q,ut-4,4),kt=0;kt<ut;kt++)at(q,q.bl_tree[2*Y[kt]+1],3);C(q,q.dyn_ltree,tt-1),C(q,q.dyn_dtree,ht-1)}(b,b.l_desc.max_code+1,b.d_desc.max_code+1,Z+1),mt(b,b.dyn_ltree,b.dyn_dtree)),st(b),F&&ft(b)},i._tr_tally=function(b,$,L){return b.pending_buf[b.d_buf+2*b.last_lit]=$>>>8&255,b.pending_buf[b.d_buf+2*b.last_lit+1]=255&$,b.pending_buf[b.l_buf+b.last_lit]=255&L,b.last_lit++,$===0?b.dyn_ltree[2*L]++:(b.matches++,$--,b.dyn_ltree[2*(v[L]+d+1)]++,b.dyn_dtree[2*B($)]++),b.last_lit===b.lit_bufsize-1},i._tr_align=function(b){at(b,2,3),z(b,E,rt),function($){$.bi_valid===16?(ct($,$.bi_buf),$.bi_buf=0,$.bi_valid=0):8<=$.bi_valid&&($.pending_buf[$.pending++]=255&$.bi_buf,$.bi_buf>>=8,$.bi_valid-=8)}(b)}},{"../utils/common":41}],53:[function(n,s,i){s.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(n,s,i){(function(r){(function(o,a){if(!o.setImmediate){var l,f,u,d,p=1,h={},_=!1,m=o.document,g=Object.getPrototypeOf&&Object.getPrototypeOf(o);g=g&&g.setTimeout?g:o,l={}.toString.call(o.process)==="[object process]"?function(O){process.nextTick(function(){x(O)})}:function(){if(o.postMessage&&!o.importScripts){var O=!0,P=o.onmessage;return o.onmessage=function(){O=!1},o.postMessage("","*"),o.onmessage=P,O}}()?(d="setImmediate$"+Math.random()+"$",o.addEventListener?o.addEventListener("message",E,!1):o.attachEvent("onmessage",E),function(O){o.postMessage(d+O,"*")}):o.MessageChannel?((u=new MessageChannel).port1.onmessage=function(O){x(O.data)},function(O){u.port2.postMessage(O)}):m&&"onreadystatechange"in m.createElement("script")?(f=m.documentElement,function(O){var P=m.createElement("script");P.onreadystatechange=function(){x(O),P.onreadystatechange=null,f.removeChild(P),P=null},f.appendChild(P)}):function(O){setTimeout(x,0,O)},g.setImmediate=function(O){typeof O!="function"&&(O=new Function(""+O));for(var P=new Array(arguments.length-1),j=0;j<P.length;j++)P[j]=arguments[j+1];var M={callback:O,args:P};return h[p]=M,l(p),p++},g.clearImmediate=y}function y(O){delete h[O]}function x(O){if(_)setTimeout(x,0,O);else{var P=h[O];if(P){_=!0;try{(function(j){var M=j.callback,N=j.args;switch(N.length){case 0:M();break;case 1:M(N[0]);break;case 2:M(N[0],N[1]);break;case 3:M(N[0],N[1],N[2]);break;default:M.apply(a,N)}})(P)}finally{y(O),_=!1}}}}function E(O){O.source===o&&typeof O.data=="string"&&O.data.indexOf(d)===0&&x(+O.data.slice(d.length))}})(typeof self>"u"?r===void 0?this:r:self)}).call(this,typeof vs<"u"?vs:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(ml);const _l=ml.exports;function op(t){const e=jt.create(256,256);return e.getContext("2d").drawImage(t,0,0),jt.createBlob(e)}function ap(t){switch(t){case"source-over":return"svg:src-over";default:return`svg:${t}`}}function lp(t){let e='<?xml version="1.0" encoding="UTF-8" ?>';e+=`<image version="0.0.3" w="${t.width}" h="${t.height}" xres="${t.width}" yres="${t.height}">`,e+="<stack>";for(let n=0;n<t.layers.length;n++){const s=t.layers[n];e+=`<layer name="${s.name}" src="data/layer${n}.png" opacity="${s.opacity}" visibility="${s.visible?"visible":"hidden"}" composite-op="${ap(s.blendMode)}" x="0" y="0" />`}return e+="</stack>",e+="</image>",e}async function cp(t){const e=lp(t),n=await jt.createBlob(t.canvas,"image/png"),s=new _l;s.file("mimetype","image/openraster",{compression:"STORE"}),s.file("stack.xml",e),s.file("mergedimage.png",n);const i=s.folder("data");return(await Promise.all(t.layers.map(o=>jt.createBlob(o.canvas,"image/png")))).forEach((o,a)=>i.file(`layer${a}.png`,o)),s.folder("Thumbnails").file("thumbnail.png",await op(t.canvas)),s.generateAsync({type:"blob"})}async function up(t){const e=new _l;if(await e.loadAsync(t),!e.file("mimetype"))throw new Error("File mimetype does not exists");if(!e.file("stack.xml"))throw new Error("File stack.xml does not exists");if(await e.file("mimetype").async("string")!=="image/openraster")throw new Error("Invalid OpenRaster mimetype");const s=await e.file("stack.xml").async("string"),r=new DOMParser().parseFromString(s,"text/xml"),o=r.querySelector("image");o.getAttribute("w"),o.getAttribute("h");const a=r.querySelectorAll("layer"),l=await Promise.all(a.map(f=>e.file(f).async("blob")));console.log(l)}const fp={save:cp,load:up},di={DEFAULT:1,MAX:64,MIN:1},en={HORIZONTAL:"horizontal",VERTICAL:"vertical",BOTH:"both"},dp={ROUND:"round",SQUARE:"square",DITHER:"dither"},hp={ROUND:"round",SQUARE:"square",DITHER:"dither"},bs={LINE:"line",RECTANGLE:"rectangle",ELLIPSE:"ellipse"},hi={FILL:"fill",ERASE:"erase"},pp={CANVAS:"canvas",BRUSH:"brush"},mp={FREEHAND:"freehand",RECTANGULAR:"rectangular",COLOR:"color"},_p={ADD:"add",SUBTRACT:"subtract",TRANSFORM:"transform"};function gp({name:t="Unnamed",visible:e=!0,blendMode:n=Ph.NORMAL,opacity:s=1,width:i,height:r}={}){const o=Q(un()),a=Q(t),l=Q(e),f=Q(n),u=Q(s),d=le([new ImageData(i,r)]),p=jt.create(i,r),h=p.getContext("2d");return{id:o,name:a,visible:l,blendMode:f,opacity:u,frames:d,canvas:p,context:h}}function vp({name:t,visible:e,blendMode:n,opacity:s,canvas:i,frames:r}){const o=jt.duplicate(i),a=o.getContext("2d"),l=Q(un()),f=Q(t),u=Q(e),d=Q(n),p=Q(s),h=le(r.map(_=>new ImageData(_.width,_.height,_.data.slice())));return{id:l,name:f,visible:u,blendMode:d,opacity:p,frames:h,canvas:o,context:a}}const yp={create:gp,duplicate:vp},bp={REPEAT:"repeat"},Zt=ir("pixelDocument",{state:()=>({modal:"",width:0,height:0,position:Vt.create(),zoom:pl({initial:di.DEFAULT,min:di.MIN,max:di.MAX}),zoomPreview:!1,canvas:null,tool:vt.PENCIL,drawing:!1,copyImageData:null,drawingImageData:null,drawingCanvas:null,copyCanvas:null,previewCanvas:null,color:"#000000",colorPicker:!1,grid:{enabled:!1,size:32,color:"#00ffff"},symmetrySettings:!1,symmetry:{enabled:!0,axis:en.HORIZONTAL,position:Vt.create(),lock:!1},onionSkin:{opacity:.5,color:"original",loop:!0,keyFramesBefore:2,keyFramesAfter:2},animation:null,pencil:{shape:dp.ROUND,size:1,pixelPerfect:!1},eraser:{shape:hp.ROUND,size:1,dither:7,alignment:pp.CANVAS},fill:{type:hi.FILL,contiguous:!0},shape:{type:bs.LINE,filled:!1,lockAspectRatio:!1},transform:{mode:bp.REPEAT},select:{type:mp.FREEHAND,mode:_p.ADD,contiguous:!0},dropper:{includeReferenceLayers:!0},history:hr(),layers:dr({Layer:yp}),palette:[]}),getters:{isPaused(){return this.animation?this.animation.isPaused:!1},isPlaying(){return this.animation?this.animation.isPlaying:!1},canPlayAnimation(){return this.animation?this.animation.canPlay:!1},canGoToFirstFrame(){return this.animation?this.animation.canGoFirst:!1},canGoToPreviousFrame(){return this.animation?this.animation.canGoPrevious:!1},canGoToNextFrame(){return this.animation?this.animation.canGoNext:!1},canGoToLastFrame(){return this.animation?this.animation.canGoLast:!1},lastHistoryAction(){if(this.history.index>=0)return this.history.list[this.history.index]},totalFrames(){return this.animation?this.animation.total:0},frames(){const t=[];for(let e=0;e<this.totalFrames;e++){const n=jt.createWithClasses(this.width,this.height,"preview-canvas"),s=n.getContext("2d");for(const i of this.layers.list)!i.visible||(s.save(),s.globalAlpha=i.opacity,s.globalCompositeOperation=i.blendMode,i.context.putImageData(i.frames[e],0,0),s.drawImage(i.canvas,0,0),s.restore());t.push({frame:e,canvas:n})}return t},layer(){return this.layers.current},imageData(){return this.layer?this.layer.frames[this.animation.current]:null}},actions:{toggleSymmetrySettings(){this.symmetrySettings=!this.symmetrySettings},toggleColorPicker(){this.colorPicker=!this.colorPicker},setPencilShape(t){this.pencil.shape=t},setPencilSize(t){this.pencil.size=t},setSelectType(t){this.select.type=t},setSelectMode(t){this.select.mode=t},toggleSelectContiguous(){this.select.contiguous=!this.select.contiguous},setFillType(t){this.fill.type=t},toggleFillContiguous(){this.fill.contiguous=!this.fill.contiguous},setShapeType(t){this.shape.type=t},toggleShapeFill(){this.shape.filled=!this.shape.filled},toggleShapeLockAspectRatio(){this.shape.lockAspectRatio=!this.shape.lockAspectRatio},toggleSymmetry(){this.symmetry.enabled=!this.symmetry.enabled},setSymmetrySettings(t,e){this.symmetry.enabled=t,this.symmetry.axis=e,this.symmetrySettings=!1},setSymmetryAxis(t){this.symmetry.axis=t},setTool(t){this.history.add({type:"setTool",payload:{tool:t,previousTool:this.tool}}),this.tool=t},eyeDropper(t,e){const n=this.layer.canvas.getContext("2d"),s=this.color,i=cl.getColor(n,t,e);this.history.add({type:"setColor",payload:{previousColor:s,nextColor:i}}),this.color=i},doTempPaintOperation(t){Pt.clear(this.drawingImageData,[0,0,0,0]),t(this.drawingImageData),this.drawDrawingBuffer()},doLayerPaintOperation(t){const e=this.imageData,n=Pt.clone(e);if(t(e),Pt.equals(e,n))return;const s=Pt.clone(e);this.history.add({type:"paintOperation",payload:{imageData:e,nextImageData:s,previousImageData:n}}),this.redrawAll()},fillColor(t,e,n){this.fill.contiguous?this.doLayerPaintOperation(s=>this.doSymmetry2Operation((i,r,o,a)=>Pt.fill(i,r,o,wt.toUint8(a)),s,e,n,t)):this.doLayerPaintOperation(s=>Pt.replaceColorAt(s,e,n,wt.toUint8(t)))},getLayerPaintSignature(t){return window.btoa(JSON.stringify({layer:this.layer.id,payload:t}))},doSymmetry2Operation(t,e,n,s,i){t(e,n,s,i),this.symmetry.enabled&&(this.symmetry.axis===en.HORIZONTAL?t(e,this.width-1-n,s,i):this.symmetry.axis===en.VERTICAL?t(e,n,this.height-1-s,i):this.symmetry.axis===en.BOTH&&(t(e,this.width-1-n,s,i),t(e,n,this.height-1-s,i),t(e,this.width-1-n,this.height-1-s,i)))},doSymmetry4Operation(t,e,n,s,i,r,o){t(e,n,s,i,r,o),this.symmetry.enabled&&(this.symmetry.axis===en.HORIZONTAL?t(e,this.width-1-n,s,this.width-1-i,r,o):this.symmetry.axis===en.VERTICAL?t(e,n,this.height-1-s,i,this.height-1-r,o):this.symmetry.axis===en.BOTH&&(t(e,this.width-1-n,s,this.width-1-i,r,o),t(e,n,this.height-1-s,i,this.height-1-r,o),t(e,this.width-1-n,this.height-1-s,this.width-1-i,this.height-1-r,o)))},putColor(t,e,n){this.doLayerPaintOperation(s=>this.doSymmetry2Operation((i,r,o,a)=>Pt.putColor(i,r,o,wt.toUint8(a)),s,e,n,t))},line(t,e,n,s,i,r){r?this.doTempPaintOperation(o=>this.doSymmetry4Operation((a,l,f,u,d,p)=>Pt.line(a,l,f,u,d,wt.toUint8(p)),o,e,n,s,i,t)):this.doLayerPaintOperation(o=>this.doSymmetry4Operation((a,l,f,u,d,p)=>Pt.line(a,l,f,u,d,wt.toUint8(p)),o,e,n,s,i,t))},rectangle(t,e,n,s,i,r){if(this.shape.lockAspectRatio){const o=s-e,a=i-n,l=Math.abs(o),f=Math.abs(a);o>a?i=n+l*Math.sign(a):s=e+f*Math.sign(o)}r?this.doTempPaintOperation(o=>this.doSymmetry4Operation((a,l,f,u,d,p)=>Pt.rect(a,l,f,u,d,wt.toUint8(p),this.shape.filled),o,e,n,s,i,t)):this.doLayerPaintOperation(o=>this.doSymmetry4Operation((a,l,f,u,d,p)=>Pt.rect(a,l,f,u,d,wt.toUint8(p),this.shape.filled),o,e,n,s,i,t))},ellipse(t,e,n,s,i,r){if(this.shape.lockAspectRatio){const o=s-e,a=i-n,l=Math.abs(o),f=Math.abs(a);o>a?i=n+l*Math.sign(a):s=e+f*Math.sign(o)}r?this.doTempPaintOperation(o=>this.doSymmetry4Operation((a,l,f,u,d,p)=>Pt.ellipse(a,l,f,u,d,wt.toUint8(p),this.shape.filled),o,e,n,s,i,t)):this.doLayerPaintOperation(o=>this.doSymmetry4Operation((a,l,f,u,d,p)=>Pt.ellipse(a,l,f,u,d,wt.toUint8(p),this.shape.filled),o,e,n,s,i,t))},transformation(t,e){this.doLayerPaintOperation(n=>{Pt.translate(n,t,e,this.transform.mode)})},useTool(t){if(t.ctrlKey||t.buttons===4){this.pointer.pressure>0&&this.moveBy(t.movementX,t.movementY);return}if(this.tool===vt.PENCIL&&this.pointer.pressure>0)t.type==="pointerdown"?this.putColor(this.color,this.pointer.current.x,this.pointer.current.y):t.type==="pointermove"&&this.line(this.color,this.pointer.current.x,this.pointer.current.y,this.pointer.previous.x,this.pointer.previous.y);else if(this.tool===vt.ERASER&&this.pointer.pressure>0)t.type==="pointerdown"?this.putColor("rgba(0,0,0,0)",this.pointer.current.x,this.pointer.current.y):t.type==="pointermove"&&this.line("rgba(0,0,0,0)",this.pointer.current.x,this.pointer.current.y,this.pointer.previous.x,this.pointer.previous.y);else if(this.tool===vt.FILL&&this.pointer.pressure>0)this.fill.type===hi.ERASE?this.fillColor("rgba(0,0,0,0)",this.pointer.current.x,this.pointer.current.y):this.fill.type===hi.FILL&&this.fillColor(this.color,this.pointer.current.x,this.pointer.current.y);else if(this.tool===vt.SHAPE)t.type==="pointerdown"&&this.saveCopyBuffer(),this.shape.type===bs.LINE?t.type==="pointerdown"||t.type==="pointermove"&&this.pointer.pressure>0?this.line(this.color,this.pointer.start.x,this.pointer.start.y,this.pointer.current.x,this.pointer.current.y,"temp"):t.type==="pointerup"&&this.line(this.color,this.pointer.start.x,this.pointer.start.y,this.pointer.end.x,this.pointer.end.y):this.shape.type===bs.RECTANGLE?t.type==="pointerdown"||t.type==="pointermove"&&this.pointer.pressure>0?this.rectangle(this.color,this.pointer.start.x,this.pointer.start.y,this.pointer.current.x,this.pointer.current.y,"temp"):t.type==="pointerup"&&this.rectangle(this.color,this.pointer.start.x,this.pointer.start.y,this.pointer.end.x,this.pointer.end.y):this.shape.type===bs.ELLIPSE&&(t.type==="pointerdown"||t.type==="pointermove"&&this.pointer.pressure>0?this.ellipse(this.color,this.pointer.start.x,this.pointer.start.y,this.pointer.current.x,this.pointer.current.y,"temp"):t.type==="pointerup"&&this.ellipse(this.color,this.pointer.start.x,this.pointer.start.y,this.pointer.end.x,this.pointer.end.y));else if(this.tool===vt.DROPPER&&this.pointer.pressure>0)this.eyeDropper(this.pointer.current.x,this.pointer.current.y);else if(!(this.tool===vt.SELECT&&this.pointer.pressure>0)){if(this.tool===vt.TRANSFORM&&this.pointer.pressure>0){const e=this.pointer.relative.x,n=this.pointer.relative.y;this.transformation(e,n)}}},saveCopyBuffer(){jt.swap(this.copyCanvas,this.canvas),Pt.copyFromCanvas(this.copyImageData,this.canvas)},restoreCopyBuffer(){jt.swap(this.canvas,this.copyCanvas),Pt.copyToCanvas(this.copyImageData,this.canvas)},drawDrawingBuffer(){requestAnimationFrame(()=>{this.restoreCopyBuffer();const{canvas:t,drawingCanvas:e,drawingImageData:n}=this,s=t.getContext("2d");e.getContext("2d").putImageData(n,0,0),s.drawImage(e,0,0)})},redraw(){const t=this.canvas.getContext("2d");t.clearRect(0,0,t.canvas.width,t.canvas.height);for(const e of this.layers.list)!e.visible||(t.save(),t.globalAlpha=e.opacity,t.globalCompositeOperation=e.blendMode,e.context.putImageData(e.frames[this.animation.current],0,0),t.drawImage(e.canvas,0,0),t.restore())},redrawPreview(){const t=this.previewCanvas.getContext("2d");t.clearRect(0,0,t.canvas.width,t.canvas.height),t.drawImage(this.canvas,0,0)},redrawAll(){this.redraw(),this.redrawPreview(),this.redrawFrames()},redrawFrames(){for(const t of this.frames){const e=t.canvas.getContext("2d");for(const n of this.layers.list)!n.visible||(e.save(),e.globalAlpha=n.opacity,e.globalCompositeOperation=n.blendMode,n.context.putImageData(n.frames[t.frame],0,0),e.drawImage(n.canvas,0,0),e.restore())}},create(t,e,n){if(!Number.isInteger(t)&&t<0)throw new Error("Invalid width value");if(!Number.isInteger(e)&&e<0)throw new Error("Invalid width value");this.modal="",this.width=t,this.height=e,this.palette=n,Vt.set(this.symmetry.position,this.width>>1,this.height>>1),this.layers.add({name:"Background",width:t,height:e}),this.drawing=!1,this.drawingCanvas=jt.create(this.width,this.height),this.drawingImageData=new ImageData(this.width,this.height),this.copyCanvas=jt.create(this.width,this.height),this.copyImageData=new ImageData(this.width,this.height),this.previewCanvas=jt.createWithClasses(this.width,this.height,"preview-canvas"),this.canvas=jt.createWithClasses(this.width,this.height,"pixel-canvas"),this.pointer=fr(this.canvas,this.useTool),this.pointer.startListening(),this.animation=rp({callback:()=>this.redrawAll()}),this.tool=vt.PENCIL},mergeDown(){const t=this.layers.list.findIndex(s=>s.id===this.layer.id),e=this.createNewLayer({name:"Merged"}),n=this.layers.list.splice(0,t,e);for(const s of n);},mergeBy(t="all"){},setLayer(t){this.layers.current=t},setLayerBlendMode(t,e){debugger;t.blendMode=e,this.redrawAll()},setLayerOpacity(t,e){t.opacity=e,this.redrawAll()},showLayerSettings(t){if(this.layers.settings===t){this.layers.settings=null;return}this.layers.settings=t},moveLayerUp(){this.layers.moveUp(),this.redrawAll()},moveLayerDown(){this.layers.moveDown(),this.redrawAll()},addLayer(){this.layers.add({width:this.width,height:this.height})},duplicateLayer(t){this.layers.duplicate(t),this.redrawAll()},toggleLayer(t){this.layers.toggle(t),this.redrawAll()},removeLayer(t){this.layers.remove(t),this.redrawAll()},swapLayers(t,e){this.layers.swap(t,e),this.redrawAll()},changeLayerName(t,e){t.name.value=e},center(){Vt.set(this.position,0,0)},moveTo(t,e){Vt.set(this.position,t,e)},moveBy(t,e){Vt.add(this.position,this.position,[t/this.zoom.current,e/this.zoom.current])},setColor(t){this.history.add({type:"setColor",payload:{color:t,previousColor:this.color}}),this.color=t,this.colorPicker=!1},async loadPalette(){const[t]=await window.showOpenFilePicker({types:[{description:"Palettes",accept:{"*/*":[".pal",".act",".gpl"]}}],excludeAcceptAllOption:!0,multiple:!1});console.log(t)},async savePalette(){},addPaletteColor(){this.history.add({type:"addPaletteColor",payload:{color:this.color}}),this.palette.push(this.color)},removePaletteColor(t){const[e]=this.palette.splice(t,1);console.log(e)},addFrame(){if(!!this.animation){for(const t of this.layers.list)t.isStatic||t.frames.push(new ImageData(this.width,this.height));this.animation.add()}},duplicateFrame(){if(!!this.animation){for(const t of this.layers.list)if(!t.isStatic){const e=t.frames[this.animation.current],n=new ImageData(e.data.slice(),e.width,e.height);t.frames.push(n)}this.animation.add()}},removeFrame(){if(!!this.animation){for(const t of this.layers)if(!t.isStatic){const[e]=t.frames.splice(this.animation.current,1);console.log("Frame",e,"removed")}this.animation.remove()}},toggleAnimation(){!this.animation||this.animation.toggle()},pauseAnimation(){!this.animation||this.animation.pause()},playAnimation(){!this.animation||this.animation.play()},setCurrentFrame(t){!this.animation||(this.animation.go(t),this.redrawAll())},goToFirstFrame(){!this.animation||this.animation.canGoFirst&&(this.animation.first(),this.redrawAll())},goToLastFrame(){!this.animation||this.animation.canGoLast&&(this.animation.last(),this.redrawAll())},goToNextFrame(){!this.animation||this.animation.canGoNext&&(this.animation.next(),this.redrawAll())},goToPreviousFrame(){!this.animation||this.animation.canGoPrevious&&(this.animation.previous(),this.redrawAll())},async exportAs(){const t=await fp.save(this),e=document.createElement("a");e.href=URL.createObjectURL(t),e.download="test.ora",e.click()},undo(){const t=this.history.undo();if(!!t)switch(t.type){case"addPaletteColor":this.palette.pop();break;case"setColor":this.color=t.payload.previousColor;break;case"setTool":this.tool=t.payload.previousTool;break;case"paintOperation":Pt.copy(t.payload.imageData,t.payload.previousImageData),this.redrawAll();break;default:console.log("To implement",t)}},redo(){const t=this.history.redo();if(!!t)switch(t.type){case"addPaletteColor":this.palette.push(t.payload.color);break;case"setColor":this.color=t.payload.color;break;case"setTool":this.tool=t.payload.tool;break;case"paintOperation":Pt.copy(t.payload.imageData,t.payload.nextImageData),this.redrawAll();break;default:console.log("To implement",t)}}}});const wp=["disabled"],xp={__name:"ToolButton",props:{id:{type:String,required:!0},disabled:{type:Boolean,required:!1,default:!1}},setup(t){return(e,n)=>(H(),X("button",{type:"button",class:Ct(["tool",{disabled:t.disabled}]),disabled:t.disabled},[Fe(e.$slots,"default",{},void 0,!0)],10,wp))}},$n=bt(xp,[["__scopeId","data-v-1f9e3cd4"]]);const kp={__name:"ToolColor",props:{color:{type:String,required:!0}},setup(t){return Q(!1),(e,n)=>(H(),X("div",{class:"tool color",style:pe({backgroundColor:t.color})},null,4))}},Cp=bt(kp,[["__scopeId","data-v-3e12e831"]]),Sp={key:0,class:"bx bx-collapse-horizontal"},Ep={key:1,class:"bx bx-collapse-vertical"},$p={key:2,class:"bx bx-collapse-alt"},Ap={__name:"ToolSymmetry",setup(t){const e=Zt();return(n,s)=>(H(),X("div",{class:Ct(["tool",{active:I(e).symmetry.enabled}])},[I(e).symmetry.axis==="horizontal"?(H(),X("i",Sp)):I(e).symmetry.axis==="vertical"?(H(),X("i",Ep)):I(e).symmetry.axis==="both"?(H(),X("i",$p)):Nt("",!0)],2))}};const Ip={__name:"HuePicker",props:{modelValue:{type:Number,required:!0}},emits:["update:modelValue"],setup(t,{emit:e}){const n=t,s=Q();function i(a){const{width:l}=s.value.getBoundingClientRect();e("update:modelValue",Math.floor(a.offsetX/l*360))}function r(a){const{width:l}=s.value.getBoundingClientRect();e("update:modelValue",Math.floor(a.offsetX/l*360)),s.value.removeEventListener("pointermove",i),s.value.removeEventListener("pointerup",r)}function o(a){const{width:l}=s.value.getBoundingClientRect();e("update:modelValue",Math.floor(a.offsetX/l*360)),s.value.addEventListener("pointermove",i),s.value.addEventListener("pointerup",r)}return(a,l)=>(H(),X("div",{ref_key:"container",ref:s,class:"hue-picker",onPointerdown:o},[k("div",{class:"bar",style:pe({left:`${n.modelValue/360*100}%`})},null,4)],544))}},Tp=bt(Ip,[["__scopeId","data-v-296a9ed2"]]);const Rp={class:"combined-color-picker"},Op={__name:"CombinedColorPicker",props:{hue:{type:Number,required:!0},modelValue:{type:String,required:!0}},emits:["update:modelValue"],setup(t,{emit:e}){const n=t;function s(h,_){const m=_!=null?_:h.currentTarget,{left:g,top:y,width:x,height:E}=m.getBoundingClientRect();return{x:Math.max(0,Math.min(x-3,h.clientX-g)),y:Math.max(0,Math.min(E-3,h.clientY-y))}}const i=Ut({x:0,y:0}),r=Q(),o=new OffscreenCanvas(512,512);function a([h,_,m]){const g=o.getContext("webgl"),y=g.createShader(g.VERTEX_SHADER);if(g.shaderSource(y,`
  precision highp float;

  attribute vec2 a_coords;

  void main() {
    gl_Position = vec4(a_coords, 0.0, 1.0);
  }
  `),g.compileShader(y),!g.getShaderParameter(y,g.COMPILE_STATUS))throw new Error(g.getShaderInfoLog(y));const x=g.createShader(g.FRAGMENT_SHADER);if(g.shaderSource(x,`
  precision highp float;

  uniform vec3 u_color;

  void main() {
    vec2 canvas_position = gl_FragCoord.xy / 512.0;
    vec3 color = mix(
      mix(
        vec3(1.0, 1.0, 1.0),
        u_color,
        canvas_position.x
      ),
      vec3(0.0, 0.0, 0.0),
      1.0 - canvas_position.y
    );
    gl_FragColor = vec4(color, 1.0);
  }
  `),g.compileShader(x),!g.getShaderParameter(x,g.COMPILE_STATUS))throw new Error(g.getShaderInfoLog(x));const E=g.createProgram();if(g.attachShader(E,y),g.attachShader(E,x),g.linkProgram(E),!g.getProgramParameter(E,g.LINK_STATUS))throw new Error(g.getProgramInfoLog(E));g.viewport(0,0,o.width,o.height),g.useProgram(E);const O=g.getUniformLocation(E,"u_color");g.uniform3f(O,h,_,m);const P=new Float32Array([-1,-1,1,-1,1,1,-1,1]),j=g.createBuffer();g.bindBuffer(g.ARRAY_BUFFER,j),g.bufferData(g.ARRAY_BUFFER,P,g.STATIC_DRAW),g.enableVertexAttribArray(0),g.vertexAttribPointer(0,2,g.FLOAT,g.FALSE,0,0),g.drawArrays(g.TRIANGLE_FAN,0,4)}function l(){const h=wt.parse(n.modelValue),_=wt.max(h),m=wt.saturationHSV(h);return{top:`calc(${-(_*100)+100}% - 8px)`,left:`${m*100}%`}}function f(h){a(h);const _=r.value.getContext("2d");_.drawImage(o,0,0,_.canvas.width,_.canvas.height)}function u(h){const{x:_,y:m}=s(h,r.value);i.x=_,i.y=m;const y=r.value.getContext("2d").getImageData(_,m,1,1),[x,E,O]=y.data;e("update:modelValue",`rgb(${x}, ${E}, ${O})`)}function d(h){const{x:_,y:m}=s(h,r.value);i.x=_,i.y=m;const y=r.value.getContext("2d").getImageData(_,m,1,1),[x,E,O]=y.data;e("update:modelValue",`rgb(${x}, ${E}, ${O})`),window.removeEventListener("pointermove",u),window.removeEventListener("pointerup",d)}function p(h){const{x:_,y:m}=s(h);i.x=_,i.y=m;const y=r.value.getContext("2d").getImageData(_,m,1,1),[x,E,O]=y.data;e("update:modelValue",`rgb(${x}, ${E}, ${O})`),window.addEventListener("pointermove",u),window.addEventListener("pointerup",d)}return ce(()=>n.hue,h=>{f(wt.fromHSLA(h,100,50,1));const{x:_,y:m}=i,y=r.value.getContext("2d").getImageData(_,m,1,1),[x,E,O]=y.data;e("update:modelValue",`rgb(${x}, ${E}, ${O})`)}),fe(()=>{jt.resize(r.value),f(wt.fromHSLA(n.hue,100,50,1))}),(h,_)=>(H(),X("div",Rp,[k("canvas",{ref_key:"canvas",ref:r,onPointerdown:p},null,544),k("div",{class:"circle",style:pe(l())},null,4)]))}},Pp=bt(Op,[["__scopeId","data-v-35d220a6"]]),Lp={class:"color-sliders"},zp={class:"form-input"},Fp=k("label",{for:"hue"},"hue",-1),Mp=["value"],Dp={class:"form-input"},Np=k("label",{for:"saturation"},"saturation",-1),Bp=["value"],Up={class:"form-input"},jp=k("label",{for:"lightness"},"lightness",-1),Hp=["value"],Vp={class:"form-input"},Wp=k("label",{for:"red"},"red",-1),qp=["value"],Kp={class:"form-input"},Zp=k("label",{for:"green"},"green",-1),Gp=["value"],Yp={class:"form-input"},Xp=k("label",{for:"blue"},"blue",-1),Jp=["value"],Qp={__name:"ColorSliders",props:{modelValue:{type:String,required:!0}},emits:["update:modelValue"],setup(t,{emit:e}){const n=t,s=wt.parse(n.modelValue),i=Q(wt.hue(s)),r=Q(wt.saturation(s)),o=Q(wt.lightness(s)),a=Q(s[0]*255),l=Q(s[1]*255),f=Q(s[2]*255);function u(h,_,m){const[g,y,x]=wt.fromHSLA(h,_,m);a.value=g*255,l.value=y*255,f.value=x*255}function d(h,_,m){const g=wt.fromRGBA(h,_,m);i.value=wt.hue(g),r.value=wt.saturation(g),o.value=wt.lightness(g)}function p(h,_){switch(h){case"hue":i.value=_,u(i.value,r.value,o.value);break;case"saturation":r.value=_,u(i.value,r.value,o.value);break;case"lightness":o.value=_,u(i.value,r.value,o.value);break;case"red":a.value=_,d(a.value,l.value,f.value);break;case"green":l.value=_,d(a.value,l.value,f.value);break;case"blue":f.value=_,d(a.value,l.value,f.value);break}e("update:modelValue",`rgb(${a.value}, ${l.value}, ${f.value})`)}return(h,_)=>(H(),X("div",Lp,[k("div",zp,[Fp,k("input",{id:"hue",type:"range",min:"0",max:"360",value:i.value,onInput:_[0]||(_[0]=m=>p("hue",m.target.valueAsNumber))},null,40,Mp)]),k("div",Dp,[Np,k("input",{id:"saturation",type:"range",min:"0",max:"100",value:r.value,onInput:_[1]||(_[1]=m=>p("saturation",m.target.valueAsNumber))},null,40,Bp)]),k("div",Up,[jp,k("input",{id:"lightness",type:"range",min:"0",max:"100",value:o.value,onInput:_[2]||(_[2]=m=>p("lightness",m.target.valueAsNumber))},null,40,Hp)]),k("div",Vp,[Wp,k("input",{id:"red",type:"range",min:"0",max:"255",value:a.value,onInput:_[3]||(_[3]=m=>p("red",m.target.valueAsNumber))},null,40,qp)]),k("div",Kp,[Zp,k("input",{id:"green",type:"range",min:"0",max:"255",value:l.value,onInput:_[4]||(_[4]=m=>p("green",m.target.valueAsNumber))},null,40,Gp)]),k("div",Yp,[Xp,k("input",{id:"blue",type:"range",min:"0",max:"255",value:f.value,onInput:_[5]||(_[5]=m=>p("blue",m.target.valueAsNumber))},null,40,Jp)])]))}};const tm={__name:"PaletteColor",props:{color:{type:String,required:!0},active:{type:Boolean,required:!1,default:!1}},setup(t){return(e,n)=>(H(),X("div",{class:Ct(["color",{active:t.active}]),style:pe({backgroundColor:t.color}),onClick:n[0]||(n[0]=s=>e.$emit("select",t.color))},null,6))}},em=bt(tm,[["__scopeId","data-v-d0cc252a"]]);const nm={class:"palette"},sm={__name:"Palette",props:{palette:{type:Array,required:!0},selectedColor:{type:String,required:!0}},setup(t){return(e,n)=>(H(),X("div",nm,[(H(!0),X(Dt,null,Ye(t.palette,(s,i)=>(H(),$t(em,{key:i,color:s,active:t.selectedColor===s,onSelect:r=>e.$emit("select",s)},null,8,["color","active","onSelect"]))),128))]))}},gl=bt(sm,[["__scopeId","data-v-2331bc97"]]);const im={class:"color-picker"},rm={class:"tabs"},om={class:"colors"},am={class:"content"},lm={key:0,class:"picker"},cm={key:1,class:"sliders"},um={key:2,class:"hex-code"},fm=St(" #"),dm={class:"key-buttons"},hm=["onClick"],pm={key:3,class:"palette"},mm={__name:"ColorPicker",setup(t){const e=Zt(),n=Hs(e.color),s=Q(e.color),i=wt.parse(s.value),r=Q("picker"),o=Q(wt.hue(i)),a=Q(o);Q(wt.saturation(i)),Q(wt.lightness(i)),Q(i[0]*255),Q(i[1]*255),Q(i[2]*255);const l=Q(wt.stringify(i,"hex").slice(1,7));function f(p){s.value=p}function u(p){console.log(p)}function d(){e.setColor(s.value)}return(p,h)=>(H(),X("div",im,[k("div",rm,[k("button",{class:Ct(["tab",{active:r.value==="picker"}]),onClick:h[0]||(h[0]=_=>r.value="picker")}," Picker ",2),k("button",{class:Ct(["tab",{active:r.value==="sliders"}]),onClick:h[1]||(h[1]=_=>r.value="sliders")}," Sliders ",2),k("button",{class:Ct(["tab",{active:r.value==="hex-code"}]),onClick:h[2]||(h[2]=_=>r.value="hex-code")}," Hex Code ",2),k("button",{class:Ct(["tab",{active:r.value==="palette"}]),onClick:h[3]||(h[3]=_=>r.value="palette")}," Palette ",2)]),k("div",om,[k("div",{class:"color previous",style:pe({backgroundColor:I(n)})},[k("div",{class:"color-name",style:pe({color:I(n)})},"previous",4)],4),k("div",{class:"color current",style:pe({backgroundColor:s.value})},[k("div",{class:"color-name",style:pe({color:s.value})},"current",4)],4)]),k("div",am,[r.value==="picker"?(H(),X("div",lm,[ot(Pp,{hue:a.value,modelValue:s.value,"onUpdate:modelValue":h[4]||(h[4]=_=>s.value=_)},null,8,["hue","modelValue"]),ot(Tp,{modelValue:a.value,"onUpdate:modelValue":h[5]||(h[5]=_=>a.value=_)},null,8,["modelValue"])])):r.value==="sliders"?(H(),X("div",cm,[ot(Qp,{modelValue:s.value,"onUpdate:modelValue":h[6]||(h[6]=_=>s.value=_)},null,8,["modelValue"])])):r.value==="hex-code"?(H(),X("div",um,[fm,Qt(k("input",{type:"text",pattern:"[A-Fa-f0-9]{6}",minlength:"6",maxlength:"6","onUpdate:modelValue":h[7]||(h[7]=_=>l.value=_)},null,512),[[ye,l.value]]),k("div",dm,[(H(),X(Dt,null,Ye([0,1,2,3,4,5,6,7,8,9,"A","B","C","D","E","F"],_=>k("button",{type:"button",class:"key-button",key:_,onClick:m=>u(_)},Wt(_),9,hm)),64))])])):r.value==="palette"?(H(),X("div",pm,[ot(gl,{"selected-color":I(n),palette:I(e).palette,onSelect:f},null,8,["selected-color","palette"])])):Nt("",!0)]),k("button",{type:"button",class:"pill",onClick:d}," Ok ")]))}},_m=bt(mm,[["__scopeId","data-v-415cf54f"]]);const si=t=>(qt("data-v-91f89489"),t=t(),Kt(),t),gm={class:"symmetry-settings"},vm={class:"enabled"},ym=si(()=>k("label",{for:"enabled"},"Symmetry",-1)),bm={class:"axis"},wm=si(()=>k("i",{class:"bx bx-collapse-horizontal"},null,-1)),xm=St(" Horizontal "),km=[wm,xm],Cm=si(()=>k("i",{class:"bx bx-collapse-vertical"},null,-1)),Sm=St(" Vertical "),Em=[Cm,Sm],$m=si(()=>k("i",{class:"bx bx-collapse-alt"},null,-1)),Am=St(" Both "),Im=[$m,Am],Tm={__name:"SymmetrySettings",setup(t){const e=Zt(),n=Q(e.symmetry.enabled),s=Q(e.symmetry.axis);function i(){e.setSymmetrySettings(n,s)}return(r,o)=>(H(),X("div",gm,[k("div",vm,[Qt(k("input",{id:"enabled",type:"checkbox","onUpdate:modelValue":o[0]||(o[0]=a=>n.value=a)},null,512),[[Du,n.value]]),ym]),k("div",bm,[k("button",{type:"button",class:Ct({active:s.value==="horizontal"}),onClick:o[1]||(o[1]=a=>s.value="horizontal")},km,2),k("button",{type:"button",class:Ct({active:s.value==="vertical"}),onClick:o[2]||(o[2]=a=>s.value="vertical")},Em,2),k("button",{type:"button",class:Ct({active:s.value==="both"}),onClick:o[3]||(o[3]=a=>s.value="both")},Im,2)]),k("button",{type:"button",class:"pill",onClick:i}," Ok ")]))}},Rm=bt(Tm,[["__scopeId","data-v-91f89489"]]),Om=k("i",{class:"bx bx-pencil"},null,-1),Pm=k("i",{class:"bx bx-eraser"},null,-1),Lm=k("i",{class:"bx bx-color-fill"},null,-1),zm=k("i",{class:"bx bxs-shapes"},null,-1),Fm=k("i",{class:"bx bx-pointer"},null,-1),Mm=k("i",{class:"bx bx-selection"},null,-1),Dm=k("i",{class:"bx bxs-eyedropper"},null,-1),Nm=k("i",{class:"bx bx-undo"},null,-1),Bm=k("i",{class:"bx bx-redo"},null,-1),Um={__name:"Tools",setup(t){const e=Xe();return(n,s)=>(H(),$t(vr,null,{default:_t(()=>[ot(Jt,{id:"pencil",active:I(e).tool===I(vt).PENCIL,onClick:s[0]||(s[0]=i=>I(e).setTool(I(vt).PENCIL))},{default:_t(()=>[Om]),_:1},8,["active"]),ot(Jt,{id:"eraser",active:I(e).tool===I(vt).ERASER,onClick:s[1]||(s[1]=i=>I(e).setTool(I(vt).ERASER))},{default:_t(()=>[Pm]),_:1},8,["active"]),ot(Jt,{id:"fill",active:I(e).tool===I(vt).FILL,onClick:s[2]||(s[2]=i=>I(e).setTool(I(vt).FILL))},{default:_t(()=>[Lm]),_:1},8,["active"]),ot(Jt,{id:"shape",active:I(e).tool===I(vt).SHAPE,onClick:s[3]||(s[3]=i=>I(e).setTool(I(vt).SHAPE))},{default:_t(()=>[zm]),_:1},8,["active"]),ot(Jt,{id:"transform",active:I(e).tool===I(vt).TRANSFORM,onClick:s[4]||(s[4]=i=>I(e).setTool(I(vt).TRANSFORM))},{default:_t(()=>[Fm]),_:1},8,["active"]),ot(Jt,{id:"select",active:I(e).tool===I(vt).SELECT,onClick:s[5]||(s[5]=i=>I(e).setTool(I(vt).SELECT))},{default:_t(()=>[Mm]),_:1},8,["active"]),ot(Jt,{id:"dropper",active:I(e).tool===I(vt).DROPPER,onClick:s[6]||(s[6]=i=>I(e).setTool(I(vt).DROPPER))},{default:_t(()=>[Dm]),_:1},8,["active"]),ot($n,{id:"undo",disabled:!I(e).history.canUndo,onClick:s[7]||(s[7]=i=>I(e).undo())},{default:_t(()=>[Nm]),_:1},8,["disabled"]),ot($n,{id:"redo",disabled:!I(e).history.canRedo,onClick:s[8]||(s[8]=i=>I(e).redo())},{default:_t(()=>[Bm]),_:1},8,["disabled"])]),_:1}))}};const jm={__name:"Document",setup(t){const e=Xe(),n=Q();return Qs(n,e.canvas),fe(()=>e.redrawAll()),(s,i)=>(H(),X("div",{class:"document",ref_key:"doc",ref:n},null,512))}},Hm=bt(jm,[["__scopeId","data-v-641b0888"]]);const xe=t=>(qt("data-v-f97e81d5"),t=t(),Kt(),t),Vm={class:"document-create"},Wm=["onSubmit"],qm={class:"presets"},Km=xe(()=>k("label",{for:"preset"},"Preset",-1)),Zm=tr('<option value="custom" data-v-f97e81d5>Custom</option><option value="8x8" data-v-f97e81d5>8x8</option><option value="16x16" data-v-f97e81d5>16x16</option><option value="32x32" data-v-f97e81d5>32x32</option><option value="64x64" data-v-f97e81d5>64x64</option><option value="128x128" data-v-f97e81d5>128x128</option><option value="256x256" data-v-f97e81d5>256x256</option><option value="512x512" data-v-f97e81d5>512x512</option><option value="1024x1024" data-v-f97e81d5>1024x1024</option><option value="2048x2048" data-v-f97e81d5>2048x2048</option>',10),Gm=[Zm],Ym={class:"size"},Xm={class:"form-input"},Jm=xe(()=>k("label",{for:"width"},"Width",-1)),Qm={key:0,class:"bx bx-link"},t_={key:1,class:"bx bx-unlink"},e_={class:"form-input"},n_=xe(()=>k("label",{for:"height"},"Height",-1)),s_=["disabled"],i_={class:"tile-size"},r_={class:"form-input"},o_=xe(()=>k("label",{for:"width"},"Tile width",-1)),a_={key:0,class:"bx bx-link"},l_={key:1,class:"bx bx-unlink"},c_={class:"form-input"},u_=xe(()=>k("label",{for:"height"},"Tile height",-1)),f_=["disabled"],d_={class:"kind"},h_=xe(()=>k("label",{for:"kind"},"Type",-1)),p_=xe(()=>k("option",{value:"orthogonal"},"Orthogonal",-1)),m_=xe(()=>k("option",{value:"isometric"},"Isometric",-1)),__=xe(()=>k("option",{value:"isometric"},"Isometric (staggered)",-1)),g_=xe(()=>k("option",{value:"hexagonal"},"Hexagonal (staggered)",-1)),v_=[p_,m_,__,g_],y_=xe(()=>k("button",{type:"submit",class:"pill"}," Create ",-1)),b_={__name:"DocumentCreate",setup(t){const e=Xe(),n=Q("custom"),s=Q("orthogonal"),i=Q(256),r=Q(256),o=Q(!1),a=Q(16),l=Q(16),f=Q(!0);ce(n,h=>{if(h!=="custom"){const[_,m]=h.split("x");o.value=!1,i.value=parseInt(_,10),r.value=parseInt(m,10)}}),ce(i,h=>{o.value&&(r.value=h)}),ce(a,h=>{f.value&&(l.value=h)});function u(){o.value=!o.value,o.value&&(r.value=i.value)}function d(){f.value=!f.value,f.value&&(l.value=a.value)}async function p(){e.create(s.value,i.value,r.value,a.value,l.value)}return(h,_)=>(H(),X("div",Vm,[k("form",{class:"form",onSubmit:sr(p,["prevent"])},[k("div",qm,[Km,Qt(k("select",{id:"preset","onUpdate:modelValue":_[0]||(_[0]=m=>n.value=m)},Gm,512),[[Ls,n.value]])]),k("div",Ym,[k("div",Xm,[Jm,Qt(k("input",{type:"number",min:"1",max:"4096","onUpdate:modelValue":_[1]||(_[1]=m=>i.value=m)},null,512),[[ye,i.value]])]),k("button",{type:"button",class:"pill",onClick:u},[o.value?(H(),X("i",t_)):(H(),X("i",Qm))]),k("div",e_,[n_,Qt(k("input",{type:"number",min:"1",max:"4096","onUpdate:modelValue":_[2]||(_[2]=m=>r.value=m),disabled:o.value},null,8,s_),[[ye,r.value]])])]),k("div",i_,[k("div",r_,[o_,Qt(k("input",{type:"number",min:"1",max:"256","onUpdate:modelValue":_[3]||(_[3]=m=>a.value=m)},null,512),[[ye,a.value]])]),k("button",{type:"button",class:"pill",onClick:d},[f.value?(H(),X("i",l_)):(H(),X("i",a_))]),k("div",c_,[u_,Qt(k("input",{type:"number",min:"1",max:"256","onUpdate:modelValue":_[4]||(_[4]=m=>l.value=m),disabled:f.value},null,8,f_),[[ye,l.value]])])]),k("div",d_,[h_,Qt(k("select",{id:"kind","onUpdate:modelValue":_[5]||(_[5]=m=>s.value=m)},v_,512),[[Ls,s.value]])]),y_],40,Wm)]))}},w_=bt(b_,[["__scopeId","data-v-f97e81d5"]]);const x_=t=>(qt("data-v-927fb1bf"),t=t(),Kt(),t),k_=["data-index"],C_={class:"actions"},S_={key:0,class:"bx bx-chevron-right"},E_={key:1,class:"bx bx-chevron-left"},$_={key:0,class:"bx bx-show"},A_={key:1,class:"bx bx-hide"},I_={class:"name"},T_=x_(()=>k("div",{class:"kind"},null,-1)),R_={__name:"Layer",props:{index:{type:Number,required:!0},layer:{type:Object,required:!0},active:{type:Boolean,required:!1},settings:{type:Boolean,required:!1}},setup(t){const e=t,n=Xe();function s(u){console.log(u.type,u)}function i(u){console.log(u.type,u),u.dataTransfer.setData("text/plain",JSON.stringify({index:e.index,layer:{id:e.layer.id}}))}function r(u){console.log(u.type,u),u.preventDefault()}function o(u){console.log(u.type,u)}function a(u){console.log(u.type,u)}function l(u){console.log(u.type,u)}function f(u){console.log(u.type,u);const d=u.dataTransfer.getData("text/plain");if(console.log(d),!d)return;const{index:p,layer:h}=JSON.parse(d),_=u.path.find(g=>g.classList.contains("layer")),m=parseInt(_.dataset.index,10);console.log("from",p,"to",m),n.swapLayers(p,m)}return(u,d)=>(H(),X("div",{class:Ct(["layer",{active:t.active}]),draggable:"true","data-index":t.index,onClick:d[2]||(d[2]=p=>u.$emit("activate",t.layer)),onDrag:s,onDragstart:i,onDragover:r,onDragenter:a,onDragleave:l,onDragend:o,onDrop:f},[k("div",C_,[k("div",{class:"settings",onClick:d[0]||(d[0]=p=>u.$emit("settings",t.layer))},[t.settings?(H(),X("i",S_)):(H(),X("i",E_))]),k("div",{class:"visibility",onClick:d[1]||(d[1]=p=>u.$emit("visible",t.layer))},[t.layer.visible?(H(),X("i",$_)):(H(),X("i",A_))])]),k("div",I_,Wt(t.layer.name.value),1),T_],42,k_))}},O_=bt(R_,[["__scopeId","data-v-927fb1bf"]]);const P_={class:"layers"},L_={__name:"Layers",props:{layers:{type:Object,required:!0}},setup(t){const e=Xe();return(n,s)=>(H(),X("div",P_,[(H(!0),X(Dt,null,Ye(t.layers.list,(i,r)=>{var o;return H(),$t(O_,{key:i.id,index:r,layer:i,active:t.layers.current.id===i.id,settings:((o=t.layers.settings)==null?void 0:o.id)===i.id,onSettings:a=>I(e).showLayerSettings(i),onVisible:a=>I(e).toggleLayer(i),onActivate:a=>I(e).setLayer(i)},null,8,["index","layer","active","settings","onSettings","onVisible","onActivate"])}),128))]))}},z_=bt(L_,[["__scopeId","data-v-7613e764"]]);const yr=t=>(qt("data-v-6d0b84e9"),t=t(),Kt(),t),F_={class:"layer-settings"},M_={class:"header row"},D_=yr(()=>k("i",{class:"bx bx-edit"},null,-1)),N_={key:0,class:"bx bx-show"},B_={key:1,class:"bx bx-hide"},U_={class:"actions row"},j_=yr(()=>k("i",{class:"bx bx-duplicate"},null,-1)),H_=St(" Duplicate "),V_=[j_,H_],W_=yr(()=>k("i",{class:"bx bx-trash"},null,-1)),q_=St(" Remove "),K_=[W_,q_],Z_={__name:"LayerSettings",props:{layer:{type:Object,required:!0}},setup(t){const e=t,n=Xe(),s=Q(),i=Q(I(e.layer.name)),r={mounted(l){l.focus()}};function o(){s.value=!0}function a(l){l.code==="Enter"&&(n.changeLayerName(e.layer,i.value),s.value=!1)}return(l,f)=>(H(),X("div",F_,[k("div",M_,[s.value?Qt((H(),X("input",{key:1,type:"text","onUpdate:modelValue":f[0]||(f[0]=u=>i.value=u),onKeypress:a},null,544)),[[r],[ye,i.value]]):(H(),X("div",{key:0,class:"name",onClick:o},[St(Wt(t.layer.name.value)+" ",1),D_])),k("div",{class:"visibility",onClick:f[1]||(f[1]=u=>I(n).toggleLayer(t.layer))},[t.layer.visible?(H(),X("i",N_)):(H(),X("i",B_))])]),k("div",U_,[k("button",{type:"button",class:"pill",onClick:f[2]||(f[2]=u=>I(n).duplicateLayer(t.layer))},V_),k("button",{type:"button",class:"pill",onClick:f[3]||(f[3]=u=>I(n).removeLayer(t.layer))},K_)])]))}},G_=bt(Z_,[["__scopeId","data-v-6d0b84e9"]]);const Y_={__name:"Tile",props:{tile:{type:Object,required:!0},active:{type:Boolean,required:!1,default:!1}},setup(t){const e=t,n=Q();return fe(()=>{const s=n.value.getContext("bitmaprenderer");n.value.width=e.tile.imageBitmap.width,n.value.height=e.tile.imageBitmap.height,s.transferFromImageBitmap(e.tile.imageBitmap)}),(s,i)=>(H(),X("div",{class:Ct(["tile",{active:t.active}])},[k("canvas",{ref_key:"canvas",ref:n},null,512)],2))}},X_=bt(Y_,[["__scopeId","data-v-d96b3fbe"]]);const J_={class:"tile-sheet"},Q_={__name:"TileSheet",props:{tileSheet:{type:Object,required:!0}},setup(t){const e=Xe();return(n,s)=>(H(),X("div",J_,[(H(!0),X(Dt,null,Ye(t.tileSheet.tiles,(i,r)=>(H(),$t(X_,{key:i.id,tile:i,active:t.tileSheet.selectedIndex===r,onClick:o=>I(e).selectTile(i,r)},null,8,["tile","active","onClick"]))),128))]))}},tg=bt(Q_,[["__scopeId","data-v-23b8c261"]]);const ns=t=>(qt("data-v-7fd03954"),t=t(),Kt(),t),eg={class:"map-editor"},ng=ns(()=>k("div",{class:"top"},null,-1)),sg={class:"left"},ig={class:"right"},rg=ns(()=>k("i",{class:"bx bx-add-to-queue"},null,-1)),og=[rg],ag=ns(()=>k("i",{class:"bx bx-file"},null,-1)),lg=[ag],cg=ns(()=>k("i",{class:"bx bx-file"},null,-1)),ug=[cg],fg=ns(()=>k("div",{class:"bottom"},null,-1)),dg={__name:"TileMapEditor",setup(t){const e=Q(),n=Xe();return pr(new Map([[["1"],()=>n.setTool("pencil")],[["2"],()=>n.setTool("eraser")],[["3"],()=>n.setTool("fill")],[["4"],()=>n.setTool("shape")],[["5"],()=>n.setTool("transform")],[["6"],()=>n.setTool("select")],[["7"],()=>n.toggleTilePicker()],[["z","ctrl"],()=>n.undo()],[["y","ctrl"],()=>n.redo()],[["arrowup"],()=>n.moveLayerUp()],[["arrowdown"],()=>n.moveLayerDown()],[["s"],()=>n.toggleSymmetry()],[[" "],()=>n.toggleAnimation()],[["+"],()=>n.zoom.increase()],[["-"],()=>n.zoom.decrease()],[["z"],()=>n.zoom.increase()],[["x"],()=>n.zoom.decrease()]])),(s,i)=>(H(),X(Dt,null,[k("div",eg,[ng,k("div",sg,[ot(Um)]),k("div",{class:"center",ref_key:"center",ref:e},[I(n).canvas?(H(),$t(Hm,{key:0})):Nt("",!0)],512),k("div",ig,[ot(mr,null,{default:_t(()=>[ot(bn,{title:"layers"},{actions:_t(()=>[k("button",{type:"button",onClick:i[0]||(i[0]=(...r)=>I(n).addLayer&&I(n).addLayer(...r))},og)]),default:_t(()=>[ot(z_,{layers:I(n).layers},null,8,["layers"])]),_:1}),ot(bn,{title:"tile-sheet"},{actions:_t(()=>[k("button",{type:"button",onClick:i[1]||(i[1]=(...r)=>I(n).loadTileSheet&&I(n).loadTileSheet(...r))},lg),k("button",{type:"button",onClick:i[2]||(i[2]=(...r)=>I(n).saveTileSheet&&I(n).saveTileSheet(...r))},ug)]),default:_t(()=>[ot(tg,{tileSheet:I(n).tileSheet},null,8,["tileSheet"])]),_:1})]),_:1})]),fg]),I(n).layers.settings?(H(),$t(G_,{key:0,layer:I(n).layers.settings},null,8,["layer"])):Nt("",!0),I(n).modal||!I(n).canvas?(H(),$t(_r,{key:1},{default:_t(()=>[I(n).canvas?Nt("",!0):(H(),$t(gr,{key:0,title:"Create document"},{default:_t(()=>[ot(w_)]),_:1}))]),_:1})):Nt("",!0)],64))}},hg=bt(dg,[["__scopeId","data-v-7fd03954"]]);function pg({name:t="Unnamed",visible:e=!0}={}){const n=Q(un()),s=Q(t),i=Q(e),r=le([[-64,-64],[64,-64],[64,64],[-64,64]]),o=le([{vertices:[0,1]},{vertices:[1,2]},{vertices:[2,3]},{vertices:[3,0]}]),a=le([{walls:[0,1,2,3],planes:[{}]}]),l=le([]);return{id:n,name:s,visible:i,vertices:r,walls:o,sectors:a,spawns:l}}function mg({name:t,visible:e,vertices:n,walls:s,sectors:i,spawns:r}){const o=Q(un()),a=Q(t),l=Q(e),f=le(n),u=le(s),d=le(i),p=le(r);return{id:o,name:a,visible:l,vertices:f,walls:u,sectors:d,spawns:p}}const _g={create:pg,duplicate:mg},dn=ir("vectorDocument",{state:()=>({history:hr(),zoom:pl(),layers:dr({Layer:_g}),position:Vt.create(),snap:!0,grid:{size:8},cursor:Vt.create(),pointer:null,canvas:null,vertices:[],walls:[]}),getters:{},actions:{redrawAll(){const{canvas:t,layers:e}=this;jt.resize(t)&&console.log("resized");const s=t.width>>1,i=t.height>>1,r=t.getContext("2d");r.clearRect(0,0,t.width,t.height),r.save(),r.translate(s,i);const o=this.position[0]%(this.grid.size*this.zoom.current);for(let u=-s+o;u<s;u+=this.grid.size*this.zoom.current)r.beginPath(),r.moveTo(u,-i),r.lineTo(u,i),r.strokeStyle="#333",r.stroke();const a=this.position[1]%(this.grid.size*this.zoom.current);for(let u=-i+a;u<i;u+=this.grid.size*this.zoom.current)r.beginPath(),r.moveTo(-s,u),r.lineTo(s,u),r.strokeStyle="#333",r.stroke();r.save(),r.translate(this.position[0],this.position[1]),r.scale(this.zoom.current,this.zoom.current);const l=4,f=l>>1;r.fillStyle="#fff",r.fillRect(this.cursor[0]-f,this.cursor[1]-f,l,l),r.setLineDash([4,4]),r.beginPath(),r.moveTo(this.cursor[0]-t.width,this.cursor[1]),r.lineTo(this.cursor[0]+t.width,this.cursor[1]),r.strokeStyle="#fff",r.stroke(),r.beginPath(),r.moveTo(this.cursor[0],this.cursor[1]-t.height),r.lineTo(this.cursor[0],this.cursor[1]+t.height),r.strokeStyle="#fff",r.stroke(),r.setLineDash([]);for(const u of e.list){const{vertices:d,walls:p,sectors:h,spawns:_}=u;for(const m of p){const[g,y]=m.vertices,[x,E]=d[g],[O,P]=d[y],[j,M]=[O-x,P-E],[N,D]=[x+j*.5,E+M*.5],Y=Math.hypot(j,M),[rt,R]=[-M/Y,j/Y];r.beginPath(),r.moveTo(x,E),r.lineTo(O,P),r.moveTo(N,D),r.lineTo(N+rt*8,D+R*8),r.strokeStyle="#f00",r.stroke()}for(const m of d){const[g,y]=m;r.beginPath(),r.moveTo(g,y-4),r.lineTo(g+4,y),r.lineTo(g,y+4),r.lineTo(g-4,y),r.closePath(),r.strokeStyle="#ff0",r.stroke()}}{const{walls:u,vertices:d}=this;for(const p of u){const[h,_]=p.vertices,[m,g]=d[h],[y,x]=d[_];r.beginPath(),r.moveTo(m,g),r.lineTo(y,x),r.strokeStyle="#fff",r.stroke()}for(const p of d){const[h,_]=p;r.beginPath(),r.moveTo(h,_-4),r.lineTo(h+4,_),r.lineTo(h,_+4),r.lineTo(h-4,_),r.closePath(),r.strokeStyle="#fff",r.stroke()}}r.restore(),r.restore()},create(){this.canvas=jt.createWithClasses(256,256,"vector-canvas"),this.layers.add({name:"Main"}),this.pointer=fr(this.canvas,this.useTool,"always"),this.pointer.startListening()},addVertex(t,e){if(this.vertices.length===0){this.vertices.push([t,e],[t,e]);const n={vertices:[this.vertices.length-2,this.vertices.length-1]};this.walls.push(n)}else{const n=this.vertices.findIndex(([s,i],r)=>r<this.vertices.length-1&&Math.abs(s-t)<=8&&Math.abs(i-e)<=8);if(n>=0){this.vertices.pop();const s=this.walls.at(-1);s.vertices[1]=n,this.layers.current.walls.push(...this.walls.map(({vertices:i})=>({vertices:i.map(o=>o+this.layers.current.vertices.length)}))),this.layers.current.vertices.push(...this.vertices),this.walls.length=0,this.vertices.length=0}else{this.vertices.push([t,e]);const s={vertices:[this.vertices.length-2,this.vertices.length-1]};this.walls.push(s)}}},moveLastVertex(t,e){const n=this.vertices.at(-1);n[0]=t,n[1]=e},useTool(t){if(t.ctrlKey||t.buttons===4){this.pointer.pressure>0&&this.moveBy(t.movementX,t.movementY);return}const e=this.pointer.current.x-this.position[0]-this.canvas.width*.5,n=this.pointer.current.y-this.position[1]-this.canvas.height*.5,s=Math.floor(e/this.grid.size)*this.grid.size,i=Math.floor(n/this.grid.size)*this.grid.size,r=this.snap?s:e,o=this.snap?i:n;Vt.set(this.cursor,r,o),t.type==="pointerup"&&t.button===0?(this.addVertex(r,o),this.redrawAll()):t.type==="pointermove"&&(this.vertices.length>0&&this.moveLastVertex(r,o),this.redrawAll())},moveBy(t,e){Vt.add(this.position,this.position,[t,e]),this.redrawAll()},zoomRelative(t){this.zoom.relative(t),this.redrawAll()},zoomIn(){this.zoom.increase(),this.redrawAll()},zoomOut(){this.zoom.decrease(),this.redrawAll()}}}),gg=k("i",{class:"bx bx-pencil"},null,-1),vg=k("i",{class:"bx bx-pointer"},null,-1),yg=k("i",{class:"bx bx-selection"},null,-1),bg=k("i",{class:"bx bx-undo"},null,-1),wg=k("i",{class:"bx bx-redo"},null,-1),xg={__name:"Tools",setup(t){const e=dn();return(n,s)=>(H(),$t(vr,null,{default:_t(()=>[ot(Jt,{id:"pencil",active:I(e).tool===n.Tool.PENCIL,onClick:s[0]||(s[0]=i=>I(e).setTool(n.Tool.PENCIL))},{default:_t(()=>[gg]),_:1},8,["active"]),ot(Jt,{id:"transform",active:I(e).tool===n.Tool.TRANSFORM,onClick:s[1]||(s[1]=i=>I(e).setTool(n.Tool.TRANSFORM))},{default:_t(()=>[vg]),_:1},8,["active"]),ot(Jt,{id:"select",active:I(e).tool===n.Tool.SELECT,onClick:s[2]||(s[2]=i=>I(e).setTool(n.Tool.SELECT))},{default:_t(()=>[yg]),_:1},8,["active"]),ot($n,{id:"undo",disabled:!I(e).history.canUndo,onClick:s[3]||(s[3]=i=>I(e).undo())},{default:_t(()=>[bg]),_:1},8,["disabled"]),ot($n,{id:"redo",disabled:!I(e).history.canRedo,onClick:s[4]||(s[4]=i=>I(e).redo())},{default:_t(()=>[wg]),_:1},8,["disabled"])]),_:1}))}};const kg={__name:"Document",setup(t){const e=dn(),n=Q();return Qs(n,e.canvas),fe(()=>e.redrawAll()),(s,i)=>(H(),X("div",{class:"document",ref_key:"doc",ref:n},null,512))}},Cg=bt(kg,[["__scopeId","data-v-362ff8e3"]]);const Sg=t=>(qt("data-v-ce4c70d5"),t=t(),Kt(),t),Eg={class:"document-create"},$g=["onSubmit"],Ag=Sg(()=>k("button",{type:"submit",class:"pill"}," Create ",-1)),Ig=[Ag],Tg={__name:"DocumentCreate",setup(t){const e=dn();async function n(){e.create()}return(s,i)=>(H(),X("div",Eg,[k("form",{class:"form",onSubmit:sr(n,["prevent"])},Ig,40,$g)]))}},Rg=bt(Tg,[["__scopeId","data-v-ce4c70d5"]]);const Og=t=>(qt("data-v-6ec242dc"),t=t(),Kt(),t),Pg=["data-index"],Lg={class:"actions"},zg={key:0,class:"bx bx-chevron-right"},Fg={key:1,class:"bx bx-chevron-left"},Mg={key:0,class:"bx bx-show"},Dg={key:1,class:"bx bx-hide"},Ng={class:"name"},Bg=Og(()=>k("div",{class:"kind"},null,-1)),Ug={__name:"Layer",props:{index:{type:Number,required:!0},layer:{type:Object,required:!0},active:{type:Boolean,required:!1},settings:{type:Boolean,required:!1}},setup(t){const e=t,n=dn();function s(u){console.log(u.type,u)}function i(u){console.log(u.type,u),u.dataTransfer.setData("text/plain",JSON.stringify({index:e.index,layer:{id:e.layer.id}}))}function r(u){console.log(u.type,u),u.preventDefault()}function o(u){console.log(u.type,u)}function a(u){console.log(u.type,u)}function l(u){console.log(u.type,u)}function f(u){console.log(u.type,u);const d=u.dataTransfer.getData("text/plain");if(console.log(d),!d)return;const{index:p,layer:h}=JSON.parse(d),_=u.path.find(g=>g.classList.contains("layer")),m=parseInt(_.dataset.index,10);console.log("from",p,"to",m),n.swapLayers(p,m)}return(u,d)=>(H(),X("div",{class:Ct(["layer",{active:t.active}]),draggable:"true","data-index":t.index,onClick:d[2]||(d[2]=p=>u.$emit("activate",t.layer)),onDrag:s,onDragstart:i,onDragover:r,onDragenter:a,onDragleave:l,onDragend:o,onDrop:f},[k("div",Lg,[k("div",{class:"settings",onClick:d[0]||(d[0]=p=>u.$emit("settings",t.layer))},[t.settings?(H(),X("i",zg)):(H(),X("i",Fg))]),k("div",{class:"visibility",onClick:d[1]||(d[1]=p=>u.$emit("visible",t.layer))},[t.layer.visible?(H(),X("i",Mg)):(H(),X("i",Dg))])]),k("div",Ng,Wt(t.layer.name.value),1),Bg],42,Pg))}},jg=bt(Ug,[["__scopeId","data-v-6ec242dc"]]);const Hg={class:"layers"},Vg={__name:"Layers",props:{layers:{type:Object,required:!0}},setup(t){const e=dn();return(n,s)=>(H(),X("div",Hg,[(H(!0),X(Dt,null,Ye(t.layers.list,(i,r)=>{var o;return H(),$t(jg,{key:i.id,index:r,layer:i,active:t.layers.current.id===i.id,settings:((o=t.layers.settings)==null?void 0:o.id)===i.id,onSettings:a=>I(e).showLayerSettings(i),onVisible:a=>I(e).toggleLayer(i),onActivate:a=>I(e).setLayer(i)},null,8,["index","layer","active","settings","onSettings","onVisible","onActivate"])}),128))]))}},Wg=bt(Vg,[["__scopeId","data-v-7c25843e"]]);const br=t=>(qt("data-v-8d6aa3de"),t=t(),Kt(),t),qg={class:"layer-settings"},Kg={class:"header row"},Zg=br(()=>k("i",{class:"bx bx-edit"},null,-1)),Gg={key:0,class:"bx bx-show"},Yg={key:1,class:"bx bx-hide"},Xg={class:"actions row"},Jg=br(()=>k("i",{class:"bx bx-duplicate"},null,-1)),Qg=St(" Duplicate "),tv=[Jg,Qg],ev=br(()=>k("i",{class:"bx bx-trash"},null,-1)),nv=St(" Remove "),sv=[ev,nv],iv={__name:"LayerSettings",props:{layer:{type:Object,required:!0}},setup(t){const e=t,n=dn(),s=Q(),i=Q(I(e.layer.name)),r={mounted(l){l.focus()}};function o(){s.value=!0}function a(l){l.code==="Enter"&&(n.changeLayerName(e.layer,i.value),s.value=!1)}return(l,f)=>(H(),X("div",qg,[k("div",Kg,[s.value?Qt((H(),X("input",{key:1,type:"text","onUpdate:modelValue":f[0]||(f[0]=u=>i.value=u),onKeypress:a},null,544)),[[r],[ye,i.value]]):(H(),X("div",{key:0,class:"name",onClick:o},[St(Wt(t.layer.name.value)+" ",1),Zg])),k("div",{class:"visibility",onClick:f[1]||(f[1]=u=>I(n).toggleLayer(t.layer))},[t.layer.visible?(H(),X("i",Gg)):(H(),X("i",Yg))])]),k("div",Xg,[k("button",{type:"button",class:"pill",onClick:f[2]||(f[2]=u=>I(n).duplicateLayer(t.layer))},tv),k("button",{type:"button",class:"pill",onClick:f[3]||(f[3]=u=>I(n).removeLayer(t.layer))},sv)])]))}},rv=bt(iv,[["__scopeId","data-v-8d6aa3de"]]);const wr=t=>(qt("data-v-5aeed639"),t=t(),Kt(),t),ov={class:"map-editor"},av=wr(()=>k("div",{class:"top"},null,-1)),lv={class:"left"},cv={class:"right"},uv=wr(()=>k("i",{class:"bx bx-add-to-queue"},null,-1)),fv=[uv],dv=wr(()=>k("div",{class:"bottom"},null,-1)),hv={__name:"VectorMapEditor",setup(t){const e=Q(),n=dn(),s=dl(document.body);return s.supported&&(watch(s.distance,i=>n.zoomRelative(i)),watch(s.movement,i=>n.moveBy(i[0],i[1]))),hl(i=>{console.log(i.deltaX,i.deltaY,i.deltaZ,i.deltaMode),i.deltaY<0?n.zoomIn():n.zoomOut()},e),pr(new Map([[["+"],()=>n.zoomIn()],[["-"],()=>n.zoomOut()],[["z"],()=>n.zoomIn()],[["x"],()=>n.zoomOut()]])),(i,r)=>(H(),X(Dt,null,[k("div",ov,[av,k("div",lv,[ot(xg)]),k("div",{class:"center",ref_key:"center",ref:e},[I(n).canvas?(H(),$t(Cg,{key:0})):Nt("",!0)],512),k("div",cv,[ot(mr,null,{default:_t(()=>[ot(bn,{title:"layers"},{actions:_t(()=>[k("button",{type:"button",onClick:r[0]||(r[0]=(...o)=>I(n).addLayer&&I(n).addLayer(...o))},fv)]),default:_t(()=>[ot(Wg,{layers:I(n).layers},null,8,["layers"])]),_:1})]),_:1})]),dv]),I(n).layers.settings?(H(),$t(rv,{key:0,layer:I(n).layers.settings},null,8,["layer"])):Nt("",!0),I(n).modal||!I(n).canvas?(H(),$t(_r,{key:1},{default:_t(()=>[I(n).canvas?Nt("",!0):(H(),$t(gr,{key:0,title:"Create document"},{default:_t(()=>[ot(Rg)]),_:1}))]),_:1})):Nt("",!0)],64))}},pv=bt(hv,[["__scopeId","data-v-5aeed639"]]),mv={},_v={type:"button"},gv=k("i",{class:"bx bx-menu"},null,-1),vv=[gv];function yv(t,e){return H(),X("button",_v,vv)}const bv=bt(mv,[["render",yv]]);const wv={},xr=t=>(qt("data-v-bdee0844"),t=t(),Kt(),t),xv={class:"brush-selector"},kv=xr(()=>k("svg",{width:"8",height:"8",viewBox:"0 0 16 16"},[k("circle",{cx:"8",cy:"8",r:"8",fill:"#fff"})],-1)),Cv=St(" Round "),Sv=[kv,Cv],Ev=xr(()=>k("svg",{width:"8",height:"8",viewBox:"0 0 16 16"},[k("rect",{x:"0",cy:"0",width:"16",height:"16",fill:"#fff"})],-1)),$v=St(" Square "),Av=[Ev,$v],Iv=xr(()=>k("svg",{width:"8",height:"8",viewBox:"0 0 16 16"},[k("circle",{cx:"8",cy:"8",r:"8",stroke:"#fff"})],-1)),Tv=St(" Dither "),Rv=[Iv,Tv];function Ov(t,e){return H(),X("div",xv,[k("button",{type:"button",class:"pill brush-type",onClick:e[0]||(e[0]=n=>t.$emit("select","round"))},Sv),k("button",{type:"button",class:"pill brush-type",onClick:e[1]||(e[1]=n=>t.$emit("select","square"))},Av),k("button",{type:"button",class:"pill brush-type",onClick:e[2]||(e[2]=n=>t.$emit("select","dither"))},Rv)])}const Pv=bt(wv,[["render",Ov],["__scopeId","data-v-bdee0844"]]);const Lv={class:"brush-size"},zv={for:"brush-size"},Fv={__name:"BrushSize",props:{currentSize:{type:Number,required:!0}},setup(t){const n=Q(t.currentSize);return(s,i)=>(H(),X("div",Lv,[k("label",zv,"Size "+Wt(n.value)+"px",1),Qt(k("input",{id:"brush-size",type:"range",min:"1",max:"32","onUpdate:modelValue":i[0]||(i[0]=r=>n.value=r)},null,512),[[ye,n.value]]),k("button",{type:"button",class:"pill",onClick:i[1]||(i[1]=r=>s.$emit("select",n.value))}," Ok ")]))}},Mv=bt(Fv,[["__scopeId","data-v-2f98b952"]]),Dv={class:"tool-settings-pencil"},Nv={key:0,width:"8",height:"8",viewBox:"0 0 16 16"},Bv=k("circle",{cx:"8",cy:"8",r:"8",fill:"#fff"},null,-1),Uv=[Bv],jv={key:1,width:"8",height:"8",viewBox:"0 0 16 16"},Hv=k("rect",{x:"0",cy:"0",width:"16",height:"16",fill:"#fff"},null,-1),Vv=[Hv],Wv={key:2,width:"8",height:"8",viewBox:"0 0 16 16"},qv=k("circle",{cx:"8",cy:"8",r:"8",stroke:"#fff"},null,-1),Kv=[qv],Zv={__name:"ToolSettingsPencil",setup(t){const e=Zt(),n=Q("");function s(r){e.setPencilShape(r),n.value=""}function i(r){e.setPencilSize(r),n.value=""}return(r,o)=>(H(),X("div",Dv,[k("button",{class:"pill",type:"button",id:"shape",onClick:o[0]||(o[0]=a=>n.value="brush-type")},[I(e).pencil.shape==="round"?(H(),X("svg",Nv,Uv)):I(e).pencil.shape==="square"?(H(),X("svg",jv,Vv)):I(e).pencil.shape==="dither"?(H(),X("svg",Wv,Kv)):Nt("",!0)]),k("button",{class:"pill",type:"button",id:"size",onClick:o[1]||(o[1]=a=>n.value="brush-size")},Wt(I(e).pencil.size)+"px ",1),n.value==="brush-type"?(H(),$t(Pv,{key:0,onSelect:s})):n.value==="brush-size"?(H(),$t(Mv,{key:1,"current-size":I(e).pencil.size,onSelect:i},null,8,["current-size"])):Nt("",!0)]))}},Gv={class:"tool-settings-eraser"},Yv={class:"pill",type:"button",id:"shape"},Xv={key:0,width:"8",height:"8",viewBox:"0 0 16 16"},Jv=k("circle",{cx:"8",cy:"8",r:"8",fill:"#fff"},null,-1),Qv=[Jv],t0={key:1,width:"8",height:"8",viewBox:"0 0 16 16"},e0=k("rect",{x:"0",cy:"0",width:"16",height:"16",fill:"#fff"},null,-1),n0=[e0],s0={key:2,width:"8",height:"8",viewBox:"0 0 16 16"},i0=k("circle",{cx:"8",cy:"8",r:"8",stroke:"#fff"},null,-1),r0=[i0],o0={class:"pill",type:"button",id:"size"},a0={__name:"ToolSettingsEraser",setup(t){const e=Zt();return(n,s)=>(H(),X("div",Gv,[k("button",Yv,[I(e).eraser.shape==="round"?(H(),X("svg",Xv,Qv)):I(e).eraser.shape==="square"?(H(),X("svg",t0,n0)):I(e).eraser.shape==="dither"?(H(),X("svg",s0,r0)):Nt("",!0)]),k("button",o0,Wt(I(e).eraser.size)+"px ",1)]))}},l0={class:"tool-settings-fill"},c0=k("i",{class:"bx bxs-droplet"},null,-1),u0=St(" Fill "),f0=[c0,u0],d0=k("i",{class:"bx bxs-eraser"},null,-1),h0=St(" Erase "),p0=[d0,h0],m0=k("i",{class:"bx bx-tone"},null,-1),_0=St(" Contiguous "),g0=[m0,_0],v0={__name:"ToolSettingsFill",setup(t){const e=Zt();return(n,s)=>(H(),X("div",l0,[k("button",{class:Ct(["pill",{active:I(e).fill.type==="fill"}]),type:"button",id:"fill",onClick:s[0]||(s[0]=i=>I(e).setFillType("fill"))},f0,2),k("button",{class:Ct(["pill",{active:I(e).fill.type==="erase"}]),type:"button",id:"eraser",onClick:s[1]||(s[1]=i=>I(e).setFillType("erase"))},p0,2),k("button",{class:Ct(["pill",{active:I(e).fill.contiguous}]),type:"button",id:"contiguous",onClick:s[2]||(s[2]=i=>I(e).toggleFillContiguous())},g0,2)]))}};const ss=t=>(qt("data-v-6a03526f"),t=t(),Kt(),t),y0={class:"tool-settings-shape"},b0=ss(()=>k("i",{class:"bx bx-shape-square"},null,-1)),w0=St(" Line "),x0=[b0,w0],k0=ss(()=>k("i",{class:"bx bx-shape-square"},null,-1)),C0=St(" Rectangle "),S0=[k0,C0],E0=ss(()=>k("i",{class:"bx bx-shape-square"},null,-1)),$0=St(" Ellipse "),A0=[E0,$0],I0=ss(()=>k("i",{class:"bx bxs-droplet"},null,-1)),T0=St(" Fill shape "),R0=[I0,T0],O0=ss(()=>k("i",{class:"bx bxs-lock-alt"},null,-1)),P0=St(" Lock aspect ratio "),L0=[O0,P0],z0={__name:"ToolSettingsShape",setup(t){const e=Zt();return(n,s)=>(H(),X("div",y0,[k("button",{class:Ct(["pill",{active:I(e).shape.type==="line"}]),type:"button",id:"line",onClick:s[0]||(s[0]=i=>I(e).setShapeType("line"))},x0,2),k("button",{class:Ct(["pill",{active:I(e).shape.type==="rectangle"}]),type:"button",id:"rectangle",onClick:s[1]||(s[1]=i=>I(e).setShapeType("rectangle"))},S0,2),k("button",{class:Ct(["pill",{active:I(e).shape.type==="ellipse"}]),type:"button",id:"ellipse",onClick:s[2]||(s[2]=i=>I(e).setShapeType("ellipse"))},A0,2),k("button",{class:Ct(["pill",{active:I(e).shape.filled}]),type:"button",id:"fill",onClick:s[3]||(s[3]=i=>I(e).toggleShapeFill())},R0,2),k("button",{class:Ct(["pill",{active:I(e).shape.lockAspectRatio}]),type:"button",id:"lock-aspect-ratio",onClick:s[4]||(s[4]=i=>I(e).toggleShapeLockAspectRatio())},L0,2)]))}},F0=bt(z0,[["__scopeId","data-v-6a03526f"]]);const kr=t=>(qt("data-v-4c65a5a2"),t=t(),Kt(),t),M0={class:"tool-settings-transform"},D0={class:"position"},N0=kr(()=>k("i",{class:"bx bxs-shape-square"},null,-1)),B0={class:"size"},U0=kr(()=>k("i",{class:"bx bxs-shape-square"},null,-1)),j0=kr(()=>k("i",{class:"bx bxs-shape-square"},null,-1)),H0={__name:"ToolSettingsTransform",setup(t){const e=[0,0],n=[120,100],s=0;return(i,r)=>(H(),X("div",M0,[k("div",D0,[N0,St(" "+Wt(e.join(",")),1)]),k("div",B0,[U0,St(" "+Wt(n.join("x")),1)]),k("div",{class:"rotation"},[j0,St(" "+Wt(s)+"\xBA ")])]))}},V0=bt(H0,[["__scopeId","data-v-4c65a5a2"]]),W0={class:"tool-settings-select"},q0=k("i",{class:"bx bx-shape-square"},null,-1),K0=St(" Freehand "),Z0=[q0,K0],G0=k("i",{class:"bx bx-shape-square"},null,-1),Y0=St(" Rectangular "),X0=[G0,Y0],J0=k("i",{class:"bx bx-shape-square"},null,-1),Q0=St(" Color "),ty=[J0,Q0],ey=k("i",{class:"bx bxs-droplet"},null,-1),ny=St(" Contiguous "),sy=[ey,ny],iy=k("i",{class:"bx bxs-lock-alt"},null,-1),ry=St(" Add "),oy=[iy,ry],ay=k("i",{class:"bx bxs-lock-alt"},null,-1),ly=St(" Subtract "),cy=[ay,ly],uy=k("i",{class:"bx bxs-lock-alt"},null,-1),fy=St(" Transform "),dy=[uy,fy],hy={__name:"ToolSettingsSelect",setup(t){const e=Zt();return(n,s)=>(H(),X("div",W0,[k("button",{class:Ct(["pill",{active:I(e).select.type==="freehand"}]),type:"button",id:"freehand",onClick:s[0]||(s[0]=i=>I(e).setSelectType("freehand"))},Z0,2),k("button",{class:Ct(["pill",{active:I(e).select.type==="rectangular"}]),type:"button",id:"rectangular",onClick:s[1]||(s[1]=i=>I(e).setSelectType("rectangular"))},X0,2),k("button",{class:Ct(["pill",{active:I(e).select.type==="color"}]),type:"button",id:"color",onClick:s[2]||(s[2]=i=>I(e).setSelectType("color"))},ty,2),I(e).select.type==="color"?(H(),X("button",{key:0,class:Ct(["pill",{active:I(e).select.contiguous}]),type:"button",id:"fill",onClick:s[3]||(s[3]=i=>I(e).toggleSelectContiguous())},sy,2)):Nt("",!0),k("button",{class:Ct(["pill",{active:I(e).select.mode==="add"}]),type:"button",id:"add",onClick:s[4]||(s[4]=i=>I(e).setSelectMode("add"))},oy,2),k("button",{class:Ct(["pill",{active:I(e).select.mode==="subtract"}]),type:"button",id:"subtract",onClick:s[5]||(s[5]=i=>I(e).setSelectMode("subtract"))},cy,2),k("button",{class:Ct(["pill",{active:I(e).select.mode==="transform"}]),type:"button",id:"transform",onClick:s[6]||(s[6]=i=>I(e).setSelectMode("transform"))},dy,2)]))}},py={class:"tool-settings"},my={__name:"ToolSettings",props:{tool:{type:String,required:!0}},setup(t){return(e,n)=>(H(),X("div",py,[t.tool===I(vt).PENCIL?(H(),$t(Zv,{key:0})):t.tool===I(vt).ERASER?(H(),$t(a0,{key:1})):t.tool===I(vt).FILL?(H(),$t(v0,{key:2})):t.tool===I(vt).SHAPE?(H(),$t(F0,{key:3})):t.tool===I(vt).TRANSFORM?(H(),$t(V0,{key:4})):t.tool===I(vt).SELECT?(H(),$t(hy,{key:5})):Nt("",!0)]))}},_y=k("i",{class:"bx bx-pencil"},null,-1),gy=k("i",{class:"bx bx-eraser"},null,-1),vy=k("i",{class:"bx bx-color-fill"},null,-1),yy=k("i",{class:"bx bxs-shapes"},null,-1),by=k("i",{class:"bx bx-pointer"},null,-1),wy=k("i",{class:"bx bx-selection"},null,-1),xy=k("i",{class:"bx bxs-eyedropper"},null,-1),ky=k("i",{class:"bx bx-undo"},null,-1),Cy=k("i",{class:"bx bx-redo"},null,-1),Sy={__name:"Tools",setup(t){const e=Zt();return(n,s)=>(H(),$t(vr,null,{default:_t(()=>[ot(Jt,{id:"pencil",active:I(e).tool===I(vt).PENCIL,onClick:s[0]||(s[0]=i=>I(e).setTool(I(vt).PENCIL))},{default:_t(()=>[_y]),_:1},8,["active"]),ot(Jt,{id:"eraser",active:I(e).tool===I(vt).ERASER,onClick:s[1]||(s[1]=i=>I(e).setTool(I(vt).ERASER))},{default:_t(()=>[gy]),_:1},8,["active"]),ot(Jt,{id:"fill",active:I(e).tool===I(vt).FILL,onClick:s[2]||(s[2]=i=>I(e).setTool(I(vt).FILL))},{default:_t(()=>[vy]),_:1},8,["active"]),ot(Jt,{id:"shape",active:I(e).tool===I(vt).SHAPE,onClick:s[3]||(s[3]=i=>I(e).setTool(I(vt).SHAPE))},{default:_t(()=>[yy]),_:1},8,["active"]),ot(Jt,{id:"transform",active:I(e).tool===I(vt).TRANSFORM,onClick:s[4]||(s[4]=i=>I(e).setTool(I(vt).TRANSFORM))},{default:_t(()=>[by]),_:1},8,["active"]),ot(Jt,{id:"select",active:I(e).tool===I(vt).SELECT,onClick:s[5]||(s[5]=i=>I(e).setTool(I(vt).SELECT))},{default:_t(()=>[wy]),_:1},8,["active"]),ot(Ap,{onClick:I(e).toggleSymmetrySettings},null,8,["onClick"]),I(e).symmetrySettings?(H(),$t(Rm,{key:0})):Nt("",!0),ot(Cp,{color:I(e).color,onClick:I(e).toggleColorPicker},null,8,["color","onClick"]),I(e).colorPicker?(H(),$t(_m,{key:1})):Nt("",!0),ot(Jt,{id:"dropper",active:I(e).tool===I(vt).DROPPER,onClick:s[6]||(s[6]=i=>I(e).setTool(I(vt).DROPPER))},{default:_t(()=>[xy]),_:1},8,["active"]),ot($n,{id:"undo",disabled:!I(e).history.canUndo,onClick:s[7]||(s[7]=i=>I(e).undo())},{default:_t(()=>[ky]),_:1},8,["disabled"]),ot($n,{id:"redo",disabled:!I(e).history.canRedo,onClick:s[8]||(s[8]=i=>I(e).redo())},{default:_t(()=>[Cy]),_:1},8,["disabled"])]),_:1}))}};const Ey={__name:"AnimationFrame",props:{frame:{type:Object,required:!0},active:{type:Boolean,default:!1,required:!1}},setup(t){const e=t,n=Q();return Qs(n,e.frame.canvas),(s,i)=>(H(),X("div",{class:Ct(["frame",{active:e.active}]),ref_key:"preview",ref:n},null,2))}},$y=bt(Ey,[["__scopeId","data-v-548ad94e"]]);const Je=t=>(qt("data-v-7c5b4034"),t=t(),Kt(),t),Ay={class:"animation"},Iy={class:"controls"},Ty={class:"left"},Ry=Je(()=>k("i",{class:"bx bx-duplicate"},null,-1)),Oy=[Ry],Py=Je(()=>k("i",{class:"bx bx-duplicate"},null,-1)),Ly=[Py],zy={class:"center"},Fy=["disabled"],My=Je(()=>k("i",{class:"bx bx-skip-previous"},null,-1)),Dy=[My],Ny=["disabled"],By=Je(()=>k("i",{class:"bx bx-skip-previous"},null,-1)),Uy=[By],jy=["disabled"],Hy={key:0,class:"bx bx-pause"},Vy={key:1,class:"bx bx-play"},Wy=["disabled"],qy=Je(()=>k("i",{class:"bx bx-skip-next"},null,-1)),Ky=[qy],Zy=["disabled"],Gy=Je(()=>k("i",{class:"bx bx-skip-next"},null,-1)),Yy=[Gy],Xy={class:"right"},Jy=Je(()=>k("i",{class:"bx bx-duplicate"},null,-1)),Qy=[Jy],t1=Je(()=>k("i",{class:"bx bx-duplicate"},null,-1)),e1=[t1],n1={class:"frames"},s1={__name:"Animation",setup(t){const e=Zt();return(n,s)=>(H(),X("div",Ay,[k("div",Iy,[k("div",Ty,[k("button",{type:"button",onClick:s[0]||(s[0]=i=>I(e).addFrame())},Oy),k("button",{type:"button",onClick:s[1]||(s[1]=i=>I(e).duplicateFrame())},Ly)]),k("div",zy,[k("button",{type:"button",disabled:!I(e).canGoToFirstFrame,onClick:s[2]||(s[2]=i=>I(e).goToFirstFrame())},Dy,8,Fy),k("button",{type:"button",disabled:!I(e).canGoToPreviousFrame,onClick:s[3]||(s[3]=i=>I(e).goToPreviousFrame())},Uy,8,Ny),k("button",{type:"button",disabled:!I(e).canPlayAnimation,onClick:s[4]||(s[4]=i=>I(e).toggleAnimation())},[I(e).isPlaying?(H(),X("i",Hy)):(H(),X("i",Vy))],8,jy),k("button",{type:"button",disabled:!I(e).canGoToNextFrame,onClick:s[5]||(s[5]=i=>I(e).goToNextFrame())},Ky,8,Wy),k("button",{type:"button",disabled:!I(e).canGoToLastFrame,onClick:s[6]||(s[6]=i=>I(e).goToLastFrame())},Yy,8,Zy)]),k("div",Xy,[k("button",{type:"button",onClick:s[7]||(s[7]=i=>I(e).addFrame())},Qy),k("button",{type:"button",onClick:s[8]||(s[8]=i=>I(e).duplicateFrame())},e1)])]),k("div",n1,[(H(!0),X(Dt,null,Ye(I(e).frames,(i,r)=>(H(),$t($y,{key:r,frame:i,active:r===I(e).animation.current,onClick:o=>I(e).setCurrentFrame(r)},null,8,["frame","active","onClick"]))),128))])]))}},i1=bt(s1,[["__scopeId","data-v-7c5b4034"]]);const Cr=t=>(qt("data-v-f17a38a2"),t=t(),Kt(),t),r1={class:"zoom"},o1=Cr(()=>k("i",{class:"bx bx-zoom-out"},null,-1)),a1=[o1],l1=Cr(()=>k("i",{class:"bx bx-zoom-in"},null,-1)),c1=[l1],u1=Cr(()=>k("i",{class:"bx bx-reset"},null,-1)),f1=[u1],d1={__name:"Zoom",setup(t){const e=Zt();function n(){console.info("TO BE IMPLEMENTED")}return(s,i)=>(H(),X("div",r1,[k("button",{class:"pill",type:"button",onClick:i[0]||(i[0]=r=>I(e).zoom.decrease())},a1),k("div",{class:"percentage",onClick:n},Wt(I(e).zoom.percentage),1),k("button",{class:"pill",type:"button",onClick:i[1]||(i[1]=r=>I(e).zoom.increase())},c1),k("button",{class:"pill",type:"button",onClick:i[2]||(i[2]=r=>I(e).zoom.reset())},f1)]))}},h1=bt(d1,[["__scopeId","data-v-f17a38a2"]]),p1={__name:"Preview",setup(t){const e=Zt(),n=Q();return fe(()=>n.value.appendChild(e.previewCanvas)),(s,i)=>(H(),X("div",{class:"preview",ref_key:"preview",ref:n},null,512))}};const m1={key:0,class:"pointer-status"},_1={__name:"PointerStatus",setup(t){const e=Zt();return(n,s)=>I(e).pointer?(H(),X("div",m1,Wt(I(e).pointer.offset.x.toFixed(0))+", "+Wt(I(e).pointer.offset.y.toFixed(0)),1)):Nt("",!0)}},g1=bt(_1,[["__scopeId","data-v-527cd025"]]);const v1=["data-index"],y1={class:"actions"},b1={key:0,class:"bx bx-chevron-right"},w1={key:1,class:"bx bx-chevron-left"},x1={key:0,class:"bx bx-show"},k1={key:1,class:"bx bx-hide"},C1={class:"name"},S1={__name:"Layer",props:{index:{type:Number,required:!0},layer:{type:Object,required:!0},active:{type:Boolean,required:!1},settings:{type:Boolean,required:!1}},setup(t){const e=t,n=Zt(),s=Q();fe(()=>s.value.appendChild(e.layer.canvas));function i(d){console.log(d.type,d)}function r(d){console.log(d.type,d),d.dataTransfer.setData("text/plain",JSON.stringify({index:e.index,layer:{id:e.layer.id}}))}function o(d){console.log(d.type,d),d.preventDefault()}function a(d){console.log(d.type,d)}function l(d){console.log(d.type,d)}function f(d){console.log(d.type,d)}function u(d){console.log(d.type,d);const p=d.dataTransfer.getData("text/plain");if(console.log(p),!p)return;const{index:h,layer:_}=JSON.parse(p),m=d.path.find(y=>y.classList.contains("layer")),g=parseInt(m.dataset.index,10);console.log("from",h,"to",g),n.swapLayers(h,g)}return(d,p)=>(H(),X("div",{class:Ct(["layer",{active:t.active}]),draggable:"true","data-index":t.index,onClick:p[2]||(p[2]=h=>d.$emit("activate",t.layer)),onDrag:i,onDragstart:r,onDragover:o,onDragenter:l,onDragleave:f,onDragend:a,onDrop:u},[k("div",y1,[k("div",{class:"settings",onClick:p[0]||(p[0]=h=>d.$emit("settings",t.layer))},[t.settings?(H(),X("i",b1)):(H(),X("i",w1))]),k("div",{class:"visibility",onClick:p[1]||(p[1]=h=>d.$emit("visible",t.layer))},[t.layer.visible?(H(),X("i",x1)):(H(),X("i",k1))])]),k("div",C1,Wt(t.layer.name.value),1),k("div",{class:"preview preview-canvas",ref_key:"preview",ref:s},null,512)],42,v1))}},E1=bt(S1,[["__scopeId","data-v-e519c896"]]);const $1={class:"layers"},A1={__name:"Layers",props:{layers:{type:Object,required:!0}},setup(t){const e=Zt();return(n,s)=>(H(),X("div",$1,[(H(!0),X(Dt,null,Ye(t.layers.list,(i,r)=>{var o;return H(),$t(E1,{key:i.id,index:r,layer:i,active:t.layers.current.id===i.id,settings:((o=t.layers.settings)==null?void 0:o.id)===i.id,onSettings:a=>I(e).showLayerSettings(i),onVisible:a=>I(e).toggleLayer(i),onActivate:a=>I(e).setLayer(i)},null,8,["index","layer","active","settings","onSettings","onVisible","onActivate"])}),128))]))}},I1=bt(A1,[["__scopeId","data-v-448c310a"]]);const T1={__name:"Document",setup(t){const e=Zt(),n=Q(),s=Tt(()=>`${e.width}px`),i=Tt(()=>`${e.height}px`),r=Tt(()=>`scale(${e.zoom.current}) translate(${e.position[0]}px, ${e.position[1]}px)`);return Qs(n,e.canvas),fe(()=>e.redrawAll()),(o,a)=>(H(),X("div",{class:"document",ref_key:"doc",ref:n,style:pe({width:I(s),height:I(i),transform:I(r)})},null,4))}},R1=bt(T1,[["__scopeId","data-v-423c2fbe"]]);const is=t=>(qt("data-v-e802a907"),t=t(),Kt(),t),O1={class:"document-create"},P1=["onSubmit"],L1={class:"presets"},z1=is(()=>k("label",{for:"preset"},"Preset",-1)),F1=tr('<option value="custom" data-v-e802a907>Custom</option><option value="8x8" data-v-e802a907>8x8</option><option value="16x16" data-v-e802a907>16x16</option><option value="32x32" data-v-e802a907>32x32</option><option value="64x64" data-v-e802a907>64x64</option><option value="128x128" data-v-e802a907>128x128</option><option value="256x256" data-v-e802a907>256x256</option><option value="512x512" data-v-e802a907>512x512</option><option value="240x160" data-v-e802a907>Gameboy Advance</option><option value="160x144" data-v-e802a907>Gameboy</option><option value="256x192" data-v-e802a907>Canvas</option><option value="480x270" data-v-e802a907>Widescreen</option><option value="640x360" data-v-e802a907>16:9</option>',13),M1=[F1],D1={class:"size"},N1={class:"form-input"},B1=is(()=>k("label",{for:"width"},"Width",-1)),U1={key:0,class:"bx bx-link"},j1={key:1,class:"bx bx-unlink"},H1={class:"form-input"},V1=is(()=>k("label",{for:"height"},"Height",-1)),W1=["disabled"],q1={class:"palette"},K1=is(()=>k("label",{for:"palette"},"Palette",-1)),Z1=tr('<option value="palettes/cga.json" data-v-e802a907>CGA</option><option value="palettes/gameboy.json" data-v-e802a907>Gameboy</option><option value="palettes/edg77.json" data-v-e802a907>EDG77</option><option value="palettes/edg32.json" data-v-e802a907>EDG32</option><option value="palettes/edg16.json" data-v-e802a907>EDG16</option><option value="palettes/lospec500.json" data-v-e802a907>LOSPEC 500</option><option value="palettes/pico8.json" data-v-e802a907>PICO-8</option><option value="palettes/resurrect64.json" data-v-e802a907>Resurrect 64</option><option value="palettes/sweetie16.json" data-v-e802a907>Sweetie 16</option><option value="palettes/vinik24.json" data-v-e802a907>Vinik 24</option><option value="palettes/zughy32.json" data-v-e802a907>Ziggy 32</option><option value="palettes/commodore64.json" data-v-e802a907>Commodore 64</option>',12),G1=[Z1],Y1=is(()=>k("button",{type:"submit",class:"pill"}," Create ",-1)),X1={__name:"DocumentCreate",setup(t){const e=Zt(),n=Q("custom"),s=Q("palettes/edg77.json"),i=Q(32),r=Q(32),o=Q(!1);ce(n,u=>{if(u!=="custom"){const[d,p]=u.split("x");o.value=!1,i.value=parseInt(d,10),r.value=parseInt(p,10)}}),ce(i,u=>{o.value&&(r.value=u)});function a(){o.value=!o.value,o.value&&(r.value=i.value)}async function l(u){return(await fetch(`/games-studio/${u}`)).json()}async function f(){const u=await l(s.value);e.create(i.value,r.value,u)}return(u,d)=>(H(),X("div",O1,[k("form",{class:"form",onSubmit:sr(f,["prevent"])},[k("div",L1,[z1,Qt(k("select",{id:"preset","onUpdate:modelValue":d[0]||(d[0]=p=>n.value=p)},M1,512),[[Ls,n.value]])]),k("div",D1,[k("div",N1,[B1,Qt(k("input",{type:"number",min:"1",max:"4096","onUpdate:modelValue":d[1]||(d[1]=p=>i.value=p)},null,512),[[ye,i.value]])]),k("button",{type:"button",class:"pill",onClick:a},[o.value?(H(),X("i",j1)):(H(),X("i",U1))]),k("div",H1,[V1,Qt(k("input",{type:"number",min:"1",max:"4096","onUpdate:modelValue":d[2]||(d[2]=p=>r.value=p),disabled:o.value},null,8,W1),[[ye,r.value]])])]),k("div",q1,[K1,Qt(k("select",{id:"palette","onUpdate:modelValue":d[3]||(d[3]=p=>s.value=p)},G1,512),[[Ls,s.value]])]),Y1],40,P1)]))}},J1=bt(X1,[["__scopeId","data-v-e802a907"]]);const rs=t=>(qt("data-v-1327b7b1"),t=t(),Kt(),t),Q1={class:"layer-settings"},tb={class:"header row"},eb=rs(()=>k("i",{class:"bx bx-edit"},null,-1)),nb={key:0,class:"bx bx-show"},sb={key:1,class:"bx bx-hide"},ib={class:"opacity row"},rb=rs(()=>k("label",{for:"opacity"},"Opacity",-1)),ob=["value"],ab={class:"blend-mode row"},lb=rs(()=>k("label",{for:"blend-mode"},"Blend mode",-1)),cb=["value"],ub=["value"],fb={class:"actions row"},db=rs(()=>k("i",{class:"bx bx-duplicate"},null,-1)),hb=St(" Duplicate "),pb=[db,hb],mb=rs(()=>k("i",{class:"bx bx-trash"},null,-1)),_b=St(" Remove "),gb=[mb,_b],vb={__name:"LayerSettings",props:{layer:{type:Object,required:!0}},setup(t){const e=t,n=Zt(),s=Q(),i=Q(I(e.layer.name)),r=Hs([["source-over","Normal"],["multiply","Multiply"],["screen","Screen"],["overlay","Overlay"],["darken","Darken"],["lighten","Lighten"],["color-dodge","Color dodge"],["color-burn","Color burn"],["hard-light","Hard light"],["soft-light","Soft light"],["difference","Difference"],["exclusion","Exclusion"],["hue","Hue"],["saturation","Saturation"],["color","Color"],["luminosity","Luminosity"]]),o={mounted(f){f.focus()}};function a(){s.value=!0}function l(f){f.code==="Enter"&&(n.changeLayerName(e.layer,i.value),s.value=!1)}return(f,u)=>(H(),X("div",Q1,[k("div",tb,[s.value?Qt((H(),X("input",{key:1,type:"text","onUpdate:modelValue":u[0]||(u[0]=d=>i.value=d),onKeypress:l},null,544)),[[o],[ye,i.value]]):(H(),X("div",{key:0,class:"name",onClick:a},[St(Wt(t.layer.name.value)+" ",1),eb])),k("div",{class:"visibility",onClick:u[1]||(u[1]=d=>I(n).toggleLayer(t.layer))},[t.layer.visible?(H(),X("i",nb)):(H(),X("i",sb))])]),k("div",ib,[rb,k("input",{id:"opacity",type:"range",min:"0",max:"1",step:"0.01",value:t.layer.opacity.value,onInput:u[2]||(u[2]=d=>I(n).setLayerOpacity(t.layer,d.target.value))},null,40,ob)]),k("div",ab,[lb,k("select",{id:"blend-mode",value:t.layer.blendMode.value,onInput:u[3]||(u[3]=d=>I(n).setLayerBlendMode(t.layer,d.target.value))},[(H(!0),X(Dt,null,Ye(I(r),([d,p])=>(H(),X("option",{key:d,value:d},Wt(p),9,ub))),128))],40,cb)]),k("div",fb,[k("button",{type:"button",class:"pill",onClick:u[4]||(u[4]=d=>I(n).duplicateLayer(t.layer))},pb),k("button",{type:"button",class:"pill",onClick:u[5]||(u[5]=d=>I(n).removeLayer(t.layer))},gb)])]))}},yb=bt(vb,[["__scopeId","data-v-1327b7b1"]]);const os=t=>(qt("data-v-f96323bf"),t=t(),Kt(),t),bb={class:"pixel-editor"},wb={class:"top"},xb=os(()=>k("i",{class:"bx bx-download"},null,-1)),kb=[xb],Cb={class:"left"},Sb={class:"right"},Eb=os(()=>k("i",{class:"bx bx-add-to-queue"},null,-1)),$b=[Eb],Ab=os(()=>k("i",{class:"bx bx-file"},null,-1)),Ib=[Ab],Tb=os(()=>k("i",{class:"bx bx-file"},null,-1)),Rb=[Tb],Ob=os(()=>k("i",{class:"bx bx-add-to-queue"},null,-1)),Pb=[Ob],Lb={class:"bottom"},zb={__name:"PixelEditor",setup(t){const e=Q(),n=Zt(),s=dl(document.body);return s.supported&&(ce(s.distance,i=>n.zoom.relative(i)),ce(s.movement,i=>n.moveBy(i[0],i[1]))),hl(i=>{console.log(i.deltaX,i.deltaY,i.deltaZ,i.deltaMode),i.deltaY<0?n.zoom.increase():n.zoom.decrease()},e),pr(new Map([[["1"],()=>n.setTool("pencil")],[["2"],()=>n.setTool("eraser")],[["3"],()=>n.setTool("fill")],[["4"],()=>n.setTool("shape")],[["5"],()=>n.setTool("transform")],[["6"],()=>n.setTool("select")],[["7"],()=>n.toggleColorPicker()],[["z","ctrl"],()=>n.undo()],[["y","ctrl"],()=>n.redo()],[["arrowup"],()=>n.moveLayerUp()],[["arrowdown"],()=>n.moveLayerDown()],[["s"],()=>n.toggleSymmetry()],[[" "],()=>n.toggleAnimation()],[["+"],()=>n.zoom.increase()],[["-"],()=>n.zoom.decrease()],[["z"],()=>n.zoom.increase()],[["x"],()=>n.zoom.decrease()]])),(i,r)=>(H(),X(Dt,null,[k("div",bb,[k("div",wb,[ot(bv),ot(my,{tool:I(n).tool},null,8,["tool"]),ot(h1),ot(g1),k("button",{onClick:r[0]||(r[0]=(...o)=>I(n).exportAs&&I(n).exportAs(...o))},kb)]),k("div",Cb,[ot(Sy)]),k("div",{class:"center",ref_key:"center",ref:e},[I(n).canvas?(H(),$t(R1,{key:0})):Nt("",!0)],512),k("div",Sb,[ot(mr,null,{default:_t(()=>[ot(bn,{title:"layers"},{actions:_t(()=>[k("button",{type:"button",onClick:r[1]||(r[1]=(...o)=>I(n).addLayer&&I(n).addLayer(...o))},$b)]),default:_t(()=>[ot(I1,{layers:I(n).layers},null,8,["layers"])]),_:1}),ot(bn,{title:"palette"},{actions:_t(()=>[k("button",{type:"button",onClick:r[2]||(r[2]=(...o)=>I(n).loadPalette&&I(n).loadPalette(...o))},Ib),k("button",{type:"button",onClick:r[3]||(r[3]=(...o)=>I(n).savePalette&&I(n).savePalette(...o))},Rb),k("button",{type:"button",onClick:r[4]||(r[4]=(...o)=>I(n).addPaletteColor&&I(n).addPaletteColor(...o))},Pb)]),default:_t(()=>[ot(gl,{palette:I(n).palette,"selected-color":I(n).color,onSelect:I(n).setColor},null,8,["palette","selected-color","onSelect"])]),_:1}),I(n).canvas?(H(),$t(bn,{key:0,title:"preview",scrollable:!1},{default:_t(()=>[ot(p1)]),_:1})):Nt("",!0)]),_:1})]),k("div",Lb,[ot(i1)])]),I(n).layers.settings?(H(),$t(yb,{key:0,layer:I(n).layers.settings},null,8,["layer"])):Nt("",!0),I(n).modal||!I(n).canvas?(H(),$t(_r,{key:1},{default:_t(()=>[I(n).canvas?Nt("",!0):(H(),$t(gr,{key:0,title:"Create document"},{default:_t(()=>[ot(J1)]),_:1}))]),_:1})):Nt("",!0)],64))}},Fb=bt(zb,[["__scopeId","data-v-f96323bf"]]),Mb=[{path:"/",component:ed},{path:"/pixel",component:Fb},{path:"/tile",component:hg},{path:"/vector",component:pv}],Db=Qf({history:mf(),routes:Mb});const Nb={},ii=t=>(qt("data-v-d9cb2985"),t=t(),Kt(),t),Bb={class:"main"},Ub={class:"menu"},jb=ii(()=>k("i",{class:"bx bx-home"},null,-1)),Hb=ii(()=>k("i",{class:"bx bx-palette"},null,-1)),Vb=ii(()=>k("i",{class:"bx bx-grid"},null,-1)),Wb=ii(()=>k("i",{class:"bx bx-vector"},null,-1));function qb(t,e){const n=Ur("router-link"),s=Ur("router-view");return H(),X("main",Bb,[k("div",Ub,[ot(n,{to:"/"},{default:_t(()=>[jb]),_:1}),ot(n,{to:"/pixel"},{default:_t(()=>[Hb]),_:1}),ot(n,{to:"/tile"},{default:_t(()=>[Vb]),_:1}),ot(n,{to:"/vector"},{default:_t(()=>[Wb]),_:1})]),ot(s)])}const Kb=bt(Nb,[["render",qb],["__scopeId","data-v-d9cb2985"]]);window.addEventListener("load",()=>{"serviceWorker"in navigator&&navigator.serviceWorker.register("/service-worker.js")});const Zb=qu(),Sr=Hu(Kb);Sr.use(Zb);Sr.use(Db);Sr.mount("#app");
